<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Module      :  Distribution.Simple.Setup.Common</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Copyright   :  Isaac Jones 2003-2004</span><span>
</span><span id="line-12"></span><span class="hs-comment">--                Duncan Coutts 2007</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-14"></span><span class="hs-comment">--</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Maintainer  :  cabal-devel@haskell.org</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Portability :  portable</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Common utilities for defining command-line options.</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- See: @Distribution.Simple.Setup@</span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html"><span class="hs-identifier">Distribution.Simple.Setup.Common</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#CopyDest"><span class="hs-identifier">CopyDest</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureCCompiler"><span class="hs-identifier">configureCCompiler</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureLinker"><span class="hs-identifier">configureLinker</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbOption"><span class="hs-identifier">programDbOption</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbOptions"><span class="hs-identifier">programDbOptions</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbPaths"><span class="hs-identifier">programDbPaths</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbPaths%27"><span class="hs-identifier">programDbPaths'</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programFlagsDescription"><span class="hs-identifier">programFlagsDescription</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#splitArgs"><span class="hs-identifier">splitArgs</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#testOrBenchmarkHelpText"><span class="hs-identifier">testOrBenchmarkHelpText</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#defaultDistPref"><span class="hs-identifier">defaultDistPref</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#extraCompilationArtifacts"><span class="hs-identifier">extraCompilationArtifacts</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionDistPref"><span class="hs-identifier">optionDistPref</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier">toFlag</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier">fromFlag</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier">fromFlagOrDefault</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier">flagToMaybe</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier">flagToList</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#maybeToFlag"><span class="hs-identifier">maybeToFlag</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#BooleanFlag"><span class="hs-identifier">BooleanFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt"><span class="hs-identifier">boolOpt</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier">boolOpt'</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#trueArg"><span class="hs-identifier">trueArg</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#falseArg"><span class="hs-identifier">falseArg</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#reqArgFlag"><span class="hs-identifier">reqArgFlag</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionVerbosity"><span class="hs-identifier">optionVerbosity</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionNumJobs"><span class="hs-identifier">optionNumJobs</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.12.0.0-d78a/src//Distribution.Compat.Prelude.html/Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">get</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Prelude.html/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.ReadE.html"><span class="hs-identifier">Distribution.ReadE</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html"><span class="hs-identifier">Distribution.Simple.Command</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Command.html#boolOpt"><span class="hs-identifier">boolOpt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#boolOpt%27"><span class="hs-identifier">boolOpt'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html"><span class="hs-identifier">Distribution.Simple.Command</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Command</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html"><span class="hs-identifier">Distribution.Simple.Flag</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html"><span class="hs-identifier">Distribution.Simple.InstallDirs</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.html"><span class="hs-identifier">Distribution.Simple.Program</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html"><span class="hs-identifier">Distribution.Simple.Utils</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html"><span class="hs-identifier">Distribution.Verbosity</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-comment">-- FIXME Not sure where this should live</span><span>
</span><span id="line-64"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#defaultDistPref"><span class="hs-identifier hs-type">defaultDistPref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-65"></span><span id="defaultDistPref"><span class="annot"><span class="annottext">defaultDistPref :: String
</span><a href="Distribution.Simple.Setup.Common.html#defaultDistPref"><span class="hs-identifier hs-var hs-var">defaultDistPref</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dist&quot;</span></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | The name of the directory where optional compilation artifacts</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- go, such as ghc plugins and .hie files.</span><span>
</span><span id="line-69"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#extraCompilationArtifacts"><span class="hs-identifier hs-type">extraCompilationArtifacts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-70"></span><span id="extraCompilationArtifacts"><span class="annot"><span class="annottext">extraCompilationArtifacts :: String
</span><a href="Distribution.Simple.Setup.Common.html#extraCompilationArtifacts"><span class="hs-identifier hs-var hs-var">extraCompilationArtifacts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-compilation-artifacts&quot;</span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="annot"><span class="hs-comment">-- | Help text for @test@ and @bench@ commands.</span></span><span>
</span><span id="line-73"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#testOrBenchmarkHelpText"><span class="hs-identifier hs-type">testOrBenchmarkHelpText</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Either @&quot;test&quot;@ or @&quot;benchmark&quot;@.</span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Help text.</span></span><span>
</span><span id="line-78"></span><span id="testOrBenchmarkHelpText"><span class="annot"><span class="annottext">testOrBenchmarkHelpText :: String -&gt; String
</span><a href="Distribution.Simple.Setup.Common.html#testOrBenchmarkHelpText"><span class="hs-identifier hs-var hs-var">testOrBenchmarkHelpText</span></a></span></span><span> </span><span id="local-6989586621679465572"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465572"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [[String]] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-81"></span><span>      </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span>
</span><span id="line-82"></span><span>      </span><span class="hs-special">[</span><span>
</span><span id="line-83"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package must have been build with configuration&quot;</span></span><span>
</span><span id="line-84"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flag `--enable-&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465572"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;s`.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-85"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-86"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- blank line</span><span>
</span><span id="line-87"></span><span>      </span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Note that additional dependencies of the &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465572"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;s&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-89"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;must have already been installed.&quot;</span></span><span>
</span><span id="line-90"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-91"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-92"></span><span>      </span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;By defining UserHooks in a custom Setup.hs, the package can define&quot;</span></span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;actions to be executed before and after running &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465572"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;s.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-95"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- * Shared options utils</span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programFlagsDescription"><span class="hs-identifier hs-type">programFlagsDescription</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-105"></span><span id="programFlagsDescription"><span class="annot"><span class="annottext">programFlagsDescription :: ProgramDb -&gt; String
</span><a href="Distribution.Simple.Setup.Common.html#programFlagsDescription"><span class="hs-identifier hs-var hs-var">programFlagsDescription</span></a></span></span><span> </span><span id="local-6989586621679465576"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465576"><span class="hs-identifier hs-var">progDb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The flags --with-PROG and --PROG-option(s) can be used with&quot;</span></span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; the following programs:&quot;</span></span><span>
</span><span id="line-108"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [[String]] -&gt; String
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679465578"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465578"><span class="hs-identifier hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465578"><span class="hs-identifier hs-var">line</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([[String]] -&gt; String)
-&gt; ([String] -&gt; [[String]]) -&gt; [String] -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [String] -&gt; [[String]]
</span><a href="../../Cabal-syntax-3.12.0.0-d78a/src//Distribution.Utils.Generic.html/Distribution.Utils.Generic.html#wrapLine"><span class="hs-identifier hs-var">wrapLine</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">77</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [[String]])
-&gt; ([String] -&gt; [String]) -&gt; [String] -&gt; [[String]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sort</span></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Program -&gt; String
</span><a href="Distribution.Simple.Program.Types.html#programName"><span class="hs-identifier hs-var">programName</span></a></span><span> </span><span class="annot"><span class="annottext">Program
</span><a href="#local-6989586621679465583"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465583"><span class="annot"><span class="annottext">Program
</span><a href="#local-6989586621679465583"><span class="hs-identifier hs-var">prog</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe ConfiguredProgram
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProgramDb -&gt; [(Program, Maybe ConfiguredProgram)]
</span><a href="Distribution.Simple.Program.Db.html#knownPrograms"><span class="hs-identifier hs-var">knownPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465576"><span class="hs-identifier hs-var">progDb</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | For each known program @PROG@ in 'progDb', produce a @with-PROG@</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- 'OptionField'.</span><span>
</span><span id="line-114"></span><span id="local-6989586621679465458"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbPaths"><span class="hs-identifier hs-type">programDbPaths</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ShowOrParseArgs"><span class="hs-identifier hs-type">ShowOrParseArgs</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465458"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465458"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465458"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465458"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-120"></span><span id="programDbPaths"><span class="annot"><span class="annottext">programDbPaths :: forall flags.
ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
</span><a href="Distribution.Simple.Setup.Common.html#programDbPaths"><span class="hs-identifier hs-var hs-var">programDbPaths</span></a></span></span><span> </span><span id="local-6989586621679465586"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465586"><span class="hs-identifier hs-var">progDb</span></a></span></span><span> </span><span id="local-6989586621679465587"><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465587"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span></span><span> </span><span id="local-6989586621679465588"><span class="annot"><span class="annottext">flags -&gt; [(String, String)]
</span><a href="#local-6989586621679465588"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465589"><span class="annot"><span class="annottext">[(String, String)] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465589"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">(String -&gt; String)
-&gt; ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
forall flags.
(String -&gt; String)
-&gt; ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
</span><a href="Distribution.Simple.Setup.Common.html#programDbPaths%27"><span class="hs-identifier hs-var">programDbPaths'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;with-&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465586"><span class="hs-identifier hs-var">progDb</span></a></span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465587"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span><span> </span><span class="annot"><span class="annottext">flags -&gt; [(String, String)]
</span><a href="#local-6989586621679465588"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String)] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465589"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><span class="hs-comment">-- | Like 'programDbPaths', but allows to customise the option name.</span></span><span>
</span><span id="line-124"></span><span id="local-6989586621679465461"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbPaths%27"><span class="hs-identifier hs-type">programDbPaths'</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ShowOrParseArgs"><span class="hs-identifier hs-type">ShowOrParseArgs</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465461"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465461"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465461"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465461"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-131"></span><span id="programDbPaths%27"><span class="annot"><span class="annottext">programDbPaths' :: forall flags.
(String -&gt; String)
-&gt; ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
</span><a href="Distribution.Simple.Setup.Common.html#programDbPaths%27"><span class="hs-identifier hs-var hs-var">programDbPaths'</span></a></span></span><span> </span><span id="local-6989586621679465590"><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621679465590"><span class="hs-identifier hs-var">mkName</span></a></span></span><span> </span><span id="local-6989586621679465591"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465591"><span class="hs-identifier hs-var">progDb</span></a></span></span><span> </span><span id="local-6989586621679465592"><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465592"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span></span><span> </span><span id="local-6989586621679465593"><span class="annot"><span class="annottext">flags -&gt; [(String, String)]
</span><a href="#local-6989586621679465593"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465594"><span class="annot"><span class="annottext">[(String, String)] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465594"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465592"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-comment">-- we don't want a verbose help text list so we just show a generic one:</span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ShowArgs"><span class="hs-identifier hs-var">ShowArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465596"><span class="hs-identifier hs-var">withProgramPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PROG&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ParseArgs"><span class="hs-identifier hs-var">ParseArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">((Program, Maybe ConfiguredProgram) -&gt; OptionField flags)
-&gt; [(Program, Maybe ConfiguredProgram)] -&gt; [OptionField flags]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-137"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465596"><span class="hs-identifier hs-var">withProgramPath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; OptionField flags)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; String)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; OptionField flags
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Program -&gt; String
</span><a href="Distribution.Simple.Program.Types.html#programName"><span class="hs-identifier hs-var">programName</span></a></span><span> </span><span class="annot"><span class="annottext">(Program -&gt; String)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; Program)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Program, Maybe ConfiguredProgram) -&gt; Program
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProgramDb -&gt; [(Program, Maybe ConfiguredProgram)]
</span><a href="Distribution.Simple.Program.Db.html#knownPrograms"><span class="hs-identifier hs-var">knownPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465591"><span class="hs-identifier hs-var">progDb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621679465596"><span class="annot"><span class="annottext">withProgramPath :: String -&gt; OptionField flags
</span><a href="#local-6989586621679465596"><span class="hs-identifier hs-var hs-var">withProgramPath</span></a></span></span><span> </span><span id="local-6989586621679465605"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465605"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; [(String, String)])
     ([(String, String)] -&gt; flags -&gt; flags)
     flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-142"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621679465590"><span class="hs-identifier hs-var">mkName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465605"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;give the path to &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465605"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">flags -&gt; [(String, String)]
</span><a href="#local-6989586621679465593"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">[(String, String)] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465594"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-147"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; [(String, String)])
-&gt; ([(String, String)] -&gt; [String])
-&gt; MkOptDescr
     (flags -&gt; [(String, String)])
     ([(String, String)] -&gt; flags -&gt; flags)
     flags
forall b a.
Monoid b =&gt;
String
-&gt; (String -&gt; b)
-&gt; (b -&gt; [String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#reqArg%27"><span class="hs-identifier hs-var">reqArg'</span></a></span><span>
</span><span id="line-148"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PATH&quot;</span></span><span>
</span><span id="line-149"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679465608"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465608"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465605"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465608"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679465609"><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679465609"><span class="hs-identifier hs-var">progPaths</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465610"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465611"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465611"><span class="hs-identifier hs-var">prog'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679465610"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465610"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679465609"><span class="hs-identifier hs-var">progPaths</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465605"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465611"><span class="hs-identifier hs-var">prog'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | For each known program @PROG@ in 'progDb', produce a @PROG-option@</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- 'OptionField'.</span><span>
</span><span id="line-155"></span><span id="local-6989586621679465474"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbOption"><span class="hs-identifier hs-type">programDbOption</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ShowOrParseArgs"><span class="hs-identifier hs-type">ShowOrParseArgs</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465474"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465474"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465474"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465474"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-161"></span><span id="programDbOption"><span class="annot"><span class="annottext">programDbOption :: forall flags.
ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
</span><a href="Distribution.Simple.Setup.Common.html#programDbOption"><span class="hs-identifier hs-var hs-var">programDbOption</span></a></span></span><span> </span><span id="local-6989586621679465612"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465612"><span class="hs-identifier hs-var">progDb</span></a></span></span><span> </span><span id="local-6989586621679465613"><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465613"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span></span><span> </span><span id="local-6989586621679465614"><span class="annot"><span class="annottext">flags -&gt; [(String, [String])]
</span><a href="#local-6989586621679465614"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465615"><span class="annot"><span class="annottext">[(String, [String])] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465615"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465613"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-comment">-- we don't want a verbose help text list so we just show a generic one:</span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ShowArgs"><span class="hs-identifier hs-var">ShowArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465616"><span class="hs-identifier hs-var">programOption</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PROG&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ParseArgs"><span class="hs-identifier hs-var">ParseArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><span class="annottext">((Program, Maybe ConfiguredProgram) -&gt; OptionField flags)
-&gt; [(Program, Maybe ConfiguredProgram)] -&gt; [OptionField flags]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-167"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465616"><span class="hs-identifier hs-var">programOption</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; OptionField flags)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; String)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; OptionField flags
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Program -&gt; String
</span><a href="Distribution.Simple.Program.Types.html#programName"><span class="hs-identifier hs-var">programName</span></a></span><span> </span><span class="annot"><span class="annottext">(Program -&gt; String)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; Program)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Program, Maybe ConfiguredProgram) -&gt; Program
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProgramDb -&gt; [(Program, Maybe ConfiguredProgram)]
</span><a href="Distribution.Simple.Program.Db.html#knownPrograms"><span class="hs-identifier hs-var">knownPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465612"><span class="hs-identifier hs-var">progDb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679465616"><span class="annot"><span class="annottext">programOption :: String -&gt; OptionField flags
</span><a href="#local-6989586621679465616"><span class="hs-identifier hs-var hs-var">programOption</span></a></span></span><span> </span><span id="local-6989586621679465621"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465621"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-171"></span><span>      </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; [(String, [String])])
     ([(String, [String])] -&gt; flags -&gt; flags)
     flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465621"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-option&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;give an extra option to &quot;</span></span><span>
</span><span id="line-175"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465621"><span class="hs-identifier hs-var">prog</span></a></span><span>
</span><span id="line-176"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; (no need to quote options containing spaces)&quot;</span></span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>        </span><span class="annot"><span class="annottext">flags -&gt; [(String, [String])]
</span><a href="#local-6989586621679465614"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-179"></span><span>        </span><span class="annot"><span class="annottext">[(String, [String])] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465615"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-180"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; [String])
-&gt; MkOptDescr
     (flags -&gt; [(String, [String])])
     ([(String, [String])] -&gt; flags -&gt; flags)
     flags
forall b a.
Monoid b =&gt;
String
-&gt; (String -&gt; b)
-&gt; (b -&gt; [String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#reqArg%27"><span class="hs-identifier hs-var">reqArg'</span></a></span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;OPT&quot;</span></span><span>
</span><span id="line-182"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679465622"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465622"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465621"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465622"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679465623"><span class="annot"><span class="annottext">[(String, [String])]
</span><a href="#local-6989586621679465623"><span class="hs-identifier hs-var">progArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-184"></span><span>                </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-185"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465624"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-186"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465625"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465625"><span class="hs-identifier hs-var">prog'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679465624"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465624"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, [String])]
</span><a href="#local-6989586621679465623"><span class="hs-identifier hs-var">progArgs</span></a></span><span>
</span><span id="line-187"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465621"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465625"><span class="hs-identifier hs-var">prog'</span></a></span><span>
</span><span id="line-188"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-189"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | For each known program @PROG@ in 'progDb', produce a @PROG-options@</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- 'OptionField'.</span><span>
</span><span id="line-194"></span><span id="local-6989586621679465626"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbOptions"><span class="hs-identifier hs-type">programDbOptions</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ShowOrParseArgs"><span class="hs-identifier hs-type">ShowOrParseArgs</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465626"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465626"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465626"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465626"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-200"></span><span id="programDbOptions"><span class="annot"><span class="annottext">programDbOptions :: forall flags.
ProgramDb
-&gt; ShowOrParseArgs
-&gt; (flags -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; flags -&gt; flags)
-&gt; [OptionField flags]
</span><a href="Distribution.Simple.Setup.Common.html#programDbOptions"><span class="hs-identifier hs-var hs-var">programDbOptions</span></a></span></span><span> </span><span id="local-6989586621679465627"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465627"><span class="hs-identifier hs-var">progDb</span></a></span></span><span> </span><span id="local-6989586621679465628"><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465628"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span></span><span> </span><span id="local-6989586621679465629"><span class="annot"><span class="annottext">flags -&gt; [(String, [String])]
</span><a href="#local-6989586621679465629"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465630"><span class="annot"><span class="annottext">[(String, [String])] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465630"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465628"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-comment">-- we don't want a verbose help text list so we just show a generic one:</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ShowArgs"><span class="hs-identifier hs-var">ShowArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465631"><span class="hs-identifier hs-var">programOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PROG&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ParseArgs"><span class="hs-identifier hs-var">ParseArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">((Program, Maybe ConfiguredProgram) -&gt; OptionField flags)
-&gt; [(Program, Maybe ConfiguredProgram)] -&gt; [OptionField flags]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-206"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; OptionField flags
</span><a href="#local-6989586621679465631"><span class="hs-identifier hs-var">programOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; OptionField flags)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; String)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; OptionField flags
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Program -&gt; String
</span><a href="Distribution.Simple.Program.Types.html#programName"><span class="hs-identifier hs-var">programName</span></a></span><span> </span><span class="annot"><span class="annottext">(Program -&gt; String)
-&gt; ((Program, Maybe ConfiguredProgram) -&gt; Program)
-&gt; (Program, Maybe ConfiguredProgram)
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Program, Maybe ConfiguredProgram) -&gt; Program
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProgramDb -&gt; [(Program, Maybe ConfiguredProgram)]
</span><a href="Distribution.Simple.Program.Db.html#knownPrograms"><span class="hs-identifier hs-var">knownPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465627"><span class="hs-identifier hs-var">progDb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621679465631"><span class="annot"><span class="annottext">programOptions :: String -&gt; OptionField flags
</span><a href="#local-6989586621679465631"><span class="hs-identifier hs-var hs-var">programOptions</span></a></span></span><span> </span><span id="local-6989586621679465633"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465633"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-210"></span><span>      </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; [(String, [String])])
     ([(String, [String])] -&gt; flags -&gt; flags)
     flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465633"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-options&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;give extra options to &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465633"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><span class="annottext">flags -&gt; [(String, [String])]
</span><a href="#local-6989586621679465629"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-215"></span><span>        </span><span class="annot"><span class="annottext">[(String, [String])] -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465630"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; [(String, [String])])
-&gt; ([(String, [String])] -&gt; [String])
-&gt; MkOptDescr
     (flags -&gt; [(String, [String])])
     ([(String, [String])] -&gt; flags -&gt; flags)
     flags
forall b a.
Monoid b =&gt;
String
-&gt; (String -&gt; b)
-&gt; (b -&gt; [String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#reqArg%27"><span class="hs-identifier hs-var">reqArg'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;OPTS&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679465634"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465634"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465633"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="Distribution.Simple.Setup.Common.html#splitArgs"><span class="hs-identifier hs-var">splitArgs</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465634"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; [(String, [String])] -&gt; [String]
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><span class="hs-comment">-- * GetOpt Utils</span></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span id="local-6989586621679465479"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt"><span class="hs-identifier hs-type">boolOpt</span></a></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#SFlags"><span class="hs-identifier hs-type">SFlags</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#SFlags"><span class="hs-identifier hs-type">SFlags</span></a></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#MkOptDescr"><span class="hs-identifier hs-type">MkOptDescr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465479"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465479"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465479"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679465479"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-228"></span><span id="boolOpt"><span class="annot"><span class="annottext">boolOpt :: forall a.
String
-&gt; String -&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#boolOpt"><span class="hs-identifier hs-var hs-var">boolOpt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Maybe Bool)
-&gt; (Bool -&gt; Flag Bool)
-&gt; String
-&gt; String
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
forall b a.
(b -&gt; Maybe Bool)
-&gt; (Bool -&gt; b)
-&gt; String
-&gt; String
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#boolOpt"><span class="hs-identifier hs-var">Command.boolOpt</span></a></span><span> </span><span class="annot"><span class="annottext">Flag Bool -&gt; Maybe Bool
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span id="local-6989586621679465486"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier hs-type">boolOpt'</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptFlags"><span class="hs-identifier hs-type">OptFlags</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptFlags"><span class="hs-identifier hs-type">OptFlags</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#MkOptDescr"><span class="hs-identifier hs-type">MkOptDescr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465486"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465486"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465486"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679465486"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-234"></span><span id="boolOpt%27"><span class="annot"><span class="annottext">boolOpt' :: forall a.
(String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier hs-var hs-var">boolOpt'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Maybe Bool)
-&gt; (Bool -&gt; Flag Bool)
-&gt; (String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
forall b a.
(b -&gt; Maybe Bool)
-&gt; (Bool -&gt; b)
-&gt; (String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#boolOpt%27"><span class="hs-identifier hs-var">Command.boolOpt'</span></a></span><span> </span><span class="annot"><span class="annottext">Flag Bool -&gt; Maybe Bool
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span id="local-6989586621679465490"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#trueArg"><span class="hs-identifier hs-type">trueArg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#falseArg"><span class="hs-identifier hs-type">falseArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#MkOptDescr"><span class="hs-identifier hs-type">MkOptDescr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465490"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679465490"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-237"></span><span id="trueArg"><span class="annot"><span class="annottext">trueArg :: forall a. MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#trueArg"><span class="hs-identifier hs-var hs-var">trueArg</span></a></span></span><span> </span><span id="local-6989586621679465639"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465639"><span class="hs-identifier hs-var">sfT</span></a></span></span><span> </span><span id="local-6989586621679465640"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465640"><span class="hs-identifier hs-var">lfT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
forall a.
(String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier hs-var">boolOpt'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465639"><span class="hs-identifier hs-var">sfT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465640"><span class="hs-identifier hs-var">lfT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465639"><span class="hs-identifier hs-var">sfT</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465640"><span class="hs-identifier hs-var">lfT</span></a></span><span>
</span><span id="line-238"></span><span id="falseArg"><span class="annot"><span class="annottext">falseArg :: forall a. MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#falseArg"><span class="hs-identifier hs-var hs-var">falseArg</span></a></span></span><span> </span><span id="local-6989586621679465641"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465641"><span class="hs-identifier hs-var">sfF</span></a></span></span><span> </span><span id="local-6989586621679465642"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465642"><span class="hs-identifier hs-var">lfF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
forall a.
(String, [String])
-&gt; (String, [String])
-&gt; MkOptDescr (a -&gt; Flag Bool) (Flag Bool -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier hs-var">boolOpt'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465641"><span class="hs-identifier hs-var">sfF</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465642"><span class="hs-identifier hs-var">lfF</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465641"><span class="hs-identifier hs-var">sfF</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679465642"><span class="hs-identifier hs-var">lfF</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span id="local-6989586621679465493"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#reqArgFlag"><span class="hs-identifier hs-type">reqArgFlag</span></a></span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ArgPlaceHolder"><span class="hs-identifier hs-type">ArgPlaceHolder</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#SFlags"><span class="hs-identifier hs-type">SFlags</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#LFlags"><span class="hs-identifier hs-type">LFlags</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#Description"><span class="hs-identifier hs-type">Description</span></a></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465493"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465493"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465493"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptDescr"><span class="hs-identifier hs-type">OptDescr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465493"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-248"></span><span id="reqArgFlag"><span class="annot"><span class="annottext">reqArgFlag :: forall b.
String
-&gt; String
-&gt; [String]
-&gt; String
-&gt; (b -&gt; Flag String)
-&gt; (Flag String -&gt; b -&gt; b)
-&gt; OptDescr b
</span><a href="Distribution.Simple.Setup.Common.html#reqArgFlag"><span class="hs-identifier hs-var hs-var">reqArgFlag</span></a></span></span><span> </span><span id="local-6989586621679465648"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465648"><span class="hs-identifier hs-var">ad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ReadE (Flag String)
-&gt; (Flag String -&gt; [String])
-&gt; MkOptDescr (b -&gt; Flag String) (Flag String -&gt; b -&gt; b) b
forall b a.
Monoid b =&gt;
String
-&gt; ReadE b
-&gt; (b -&gt; [String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#reqArg"><span class="hs-identifier hs-var">reqArg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465648"><span class="hs-identifier hs-var">ad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; ReadE (Flag String)
forall a. (String -&gt; a) -&gt; ReadE a
</span><a href="Distribution.ReadE.html#succeedReadE"><span class="hs-identifier hs-var">succeedReadE</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; [String]
forall a. Flag a -&gt; [a]
</span><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier hs-var">flagToList</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span id="local-6989586621679465502"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionDistPref"><span class="hs-identifier hs-type">optionDistPref</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465502"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465502"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465502"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#ShowOrParseArgs"><span class="hs-identifier hs-type">ShowOrParseArgs</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465502"><span class="hs-identifier hs-type">flags</span></a></span></span><span>
</span><span id="line-255"></span><span id="optionDistPref"><span class="annot"><span class="annottext">optionDistPref :: forall flags.
(flags -&gt; Flag String)
-&gt; (Flag String -&gt; flags -&gt; flags)
-&gt; ShowOrParseArgs
-&gt; OptionField flags
</span><a href="Distribution.Simple.Setup.Common.html#optionDistPref"><span class="hs-identifier hs-var hs-var">optionDistPref</span></a></span></span><span> </span><span id="local-6989586621679465651"><span class="annot"><span class="annottext">flags -&gt; Flag String
</span><a href="#local-6989586621679465651"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465652"><span class="annot"><span class="annottext">Flag String -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465652"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679465653"><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465653"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; Flag String)
-&gt; (Flag String -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; Flag String) (Flag String -&gt; flags -&gt; flags) flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowOrParseArgs -&gt; [String]
</span><a href="#local-6989586621679465654"><span class="hs-identifier hs-var">distPrefFlagName</span></a></span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="#local-6989586621679465653"><span class="hs-identifier hs-var">showOrParseArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The directory where Cabal puts generated build files &quot;</span></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(default &quot;</span></span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="Distribution.Simple.Setup.Common.html#defaultDistPref"><span class="hs-identifier hs-var">defaultDistPref</span></a></span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><span class="annottext">flags -&gt; Flag String
</span><a href="#local-6989586621679465651"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">Flag String -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465652"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; MkOptDescr
     (flags -&gt; Flag String) (Flag String -&gt; flags -&gt; flags) flags
forall b.
String
-&gt; String
-&gt; [String]
-&gt; String
-&gt; (b -&gt; Flag String)
-&gt; (Flag String -&gt; b -&gt; b)
-&gt; OptDescr b
</span><a href="Distribution.Simple.Setup.Common.html#reqArgFlag"><span class="hs-identifier hs-var">reqArgFlag</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DIR&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>    </span><span id="local-6989586621679465654"><span class="annot"><span class="annottext">distPrefFlagName :: ShowOrParseArgs -&gt; [String]
</span><a href="#local-6989586621679465654"><span class="hs-identifier hs-var hs-var">distPrefFlagName</span></a></span></span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ShowArgs"><span class="hs-identifier hs-var">ShowArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;builddir&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><a href="#local-6989586621679465654"><span class="hs-identifier hs-var">distPrefFlagName</span></a></span><span> </span><span class="annot"><span class="annottext">ShowOrParseArgs
</span><a href="Distribution.Simple.Command.html#ParseArgs"><span class="hs-identifier hs-var">ParseArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;builddir&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;distdir&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;distpref&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span id="local-6989586621679465504"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionVerbosity"><span class="hs-identifier hs-type">optionVerbosity</span></a></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465504"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465504"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465504"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465504"><span class="hs-identifier hs-type">flags</span></a></span></span><span>
</span><span id="line-275"></span><span id="optionVerbosity"><span class="annot"><span class="annottext">optionVerbosity :: forall flags.
(flags -&gt; Flag Verbosity)
-&gt; (Flag Verbosity -&gt; flags -&gt; flags) -&gt; OptionField flags
</span><a href="Distribution.Simple.Setup.Common.html#optionVerbosity"><span class="hs-identifier hs-var hs-var">optionVerbosity</span></a></span></span><span> </span><span id="local-6989586621679465662"><span class="annot"><span class="annottext">flags -&gt; Flag Verbosity
</span><a href="#local-6989586621679465662"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465663"><span class="annot"><span class="annottext">Flag Verbosity -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465663"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; Flag Verbosity)
-&gt; (Flag Verbosity -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; Flag Verbosity) (Flag Verbosity -&gt; flags -&gt; flags) flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;v&quot;</span></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;verbose&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Control verbosity (n is 0--3, default verbosity level is 1)&quot;</span></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><span class="annottext">flags -&gt; Flag Verbosity
</span><a href="#local-6989586621679465662"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">Flag Verbosity -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465663"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ReadE (Flag Verbosity)
-&gt; (String, Flag Verbosity)
-&gt; (Flag Verbosity -&gt; [Maybe String])
-&gt; MkOptDescr
     (flags -&gt; Flag Verbosity) (Flag Verbosity -&gt; flags -&gt; flags) flags
forall b a.
Monoid b =&gt;
String
-&gt; ReadE b
-&gt; (String, b)
-&gt; (b -&gt; [Maybe String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#optArg"><span class="hs-identifier hs-var">optArg</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;n&quot;</span></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Verbosity -&gt; Flag Verbosity)
-&gt; ReadE Verbosity -&gt; ReadE (Flag Verbosity)
forall a b. (a -&gt; b) -&gt; ReadE a -&gt; ReadE b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Flag Verbosity
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">ReadE Verbosity
</span><a href="Distribution.Verbosity.html#flagToVerbosity"><span class="hs-identifier hs-var">flagToVerbosity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Verbosity -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Distribution.Verbosity.html#verbose"><span class="hs-identifier hs-var">verbose</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Flag Verbosity
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Distribution.Verbosity.html#verbose"><span class="hs-identifier hs-var">verbose</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- default Value if no n is given</span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Verbosity -&gt; Maybe String) -&gt; [Verbosity] -&gt; [Maybe String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String)
-&gt; (Verbosity -&gt; String) -&gt; Verbosity -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; String
</span><a href="Distribution.Verbosity.html#showForCabal"><span class="hs-identifier hs-var">showForCabal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Verbosity] -&gt; [Maybe String])
-&gt; (Flag Verbosity -&gt; [Verbosity])
-&gt; Flag Verbosity
-&gt; [Maybe String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag Verbosity -&gt; [Verbosity]
forall a. Flag a -&gt; [a]
</span><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier hs-var">flagToList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span id="local-6989586621679465513"><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionNumJobs"><span class="hs-identifier hs-type">optionNumJobs</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679465513"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465513"><span class="hs-identifier hs-type">flags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679465513"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Command.html#OptionField"><span class="hs-identifier hs-type">OptionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465513"><span class="hs-identifier hs-type">flags</span></a></span></span><span>
</span><span id="line-293"></span><span id="optionNumJobs"><span class="annot"><span class="annottext">optionNumJobs :: forall flags.
(flags -&gt; Flag (Maybe Int))
-&gt; (Flag (Maybe Int) -&gt; flags -&gt; flags) -&gt; OptionField flags
</span><a href="Distribution.Simple.Setup.Common.html#optionNumJobs"><span class="hs-identifier hs-var hs-var">optionNumJobs</span></a></span></span><span> </span><span id="local-6989586621679465679"><span class="annot"><span class="annottext">flags -&gt; Flag (Maybe Int)
</span><a href="#local-6989586621679465679"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679465680"><span class="annot"><span class="annottext">Flag (Maybe Int) -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465680"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; String
-&gt; (flags -&gt; Flag (Maybe Int))
-&gt; (Flag (Maybe Int) -&gt; flags -&gt; flags)
-&gt; MkOptDescr
     (flags -&gt; Flag (Maybe Int))
     (Flag (Maybe Int) -&gt; flags -&gt; flags)
     flags
-&gt; OptionField flags
forall get set a.
String
-&gt; [String]
-&gt; String
-&gt; get
-&gt; set
-&gt; MkOptDescr get set a
-&gt; OptionField a
</span><a href="Distribution.Simple.Command.html#option"><span class="hs-identifier hs-var">option</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;j&quot;</span></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;jobs&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Run NUM jobs simultaneously (or '$ncpus' if no NUM is given).&quot;</span></span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><span class="annottext">flags -&gt; Flag (Maybe Int)
</span><a href="#local-6989586621679465679"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><span class="annottext">Flag (Maybe Int) -&gt; flags -&gt; flags
</span><a href="#local-6989586621679465680"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ReadE (Flag (Maybe Int))
-&gt; (String, Flag (Maybe Int))
-&gt; (Flag (Maybe Int) -&gt; [Maybe String])
-&gt; MkOptDescr
     (flags -&gt; Flag (Maybe Int))
     (Flag (Maybe Int) -&gt; flags -&gt; flags)
     flags
forall b a.
Monoid b =&gt;
String
-&gt; ReadE b
-&gt; (String, b)
-&gt; (b -&gt; [Maybe String])
-&gt; MkOptDescr (a -&gt; b) (b -&gt; a -&gt; a) a
</span><a href="Distribution.Simple.Command.html#optArg"><span class="hs-identifier hs-var">optArg</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NUM&quot;</span></span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Int -&gt; Flag (Maybe Int))
-&gt; ReadE (Maybe Int) -&gt; ReadE (Flag (Maybe Int))
forall a b. (a -&gt; b) -&gt; ReadE a -&gt; ReadE b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Flag (Maybe Int)
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">ReadE (Maybe Int)
</span><a href="#local-6989586621679465681"><span class="hs-identifier hs-var">numJobsParser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$ncpus&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Flag (Maybe Int)
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Int -&gt; Maybe String) -&gt; [Maybe Int] -&gt; [Maybe String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String)
-&gt; (Maybe Int -&gt; String) -&gt; Maybe Int -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Int -&gt; String) -&gt; Maybe Int -&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$ncpus&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Maybe Int] -&gt; [Maybe String])
-&gt; (Flag (Maybe Int) -&gt; [Maybe Int])
-&gt; Flag (Maybe Int)
-&gt; [Maybe String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag (Maybe Int) -&gt; [Maybe Int]
forall a. Flag a -&gt; [a]
</span><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier hs-var">flagToList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>    </span><span class="annot"><a href="#local-6989586621679465681"><span class="hs-identifier hs-type">numJobsParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.ReadE.html#ReadE"><span class="hs-identifier hs-type">ReadE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>    </span><span id="local-6989586621679465681"><span class="annot"><span class="annottext">numJobsParser :: ReadE (Maybe Int)
</span><a href="#local-6989586621679465681"><span class="hs-identifier hs-var hs-var">numJobsParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String (Maybe Int)) -&gt; ReadE (Maybe Int)
forall a. (String -&gt; Either String a) -&gt; ReadE a
</span><a href="Distribution.ReadE.html#ReadE"><span class="hs-identifier hs-var">ReadE</span></a></span><span> </span><span class="annot"><span class="annottext">((String -&gt; Either String (Maybe Int)) -&gt; ReadE (Maybe Int))
-&gt; (String -&gt; Either String (Maybe Int)) -&gt; ReadE (Maybe Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679465684"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465684"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465684"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-310"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$ncpus&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Either String (Maybe Int)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-311"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS Int
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465684"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-312"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621679465686"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679465686"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-313"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679465686"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String (Maybe Int)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The number of jobs should be 1 or more.&quot;</span></span><span>
</span><span id="line-314"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Either String (Maybe Int)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679465686"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>          </span><span class="annot"><span class="annottext">[(Int, String)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String (Maybe Int)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The jobs value should be a number or '$ncpus'&quot;</span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="annot"><span class="hs-comment">-- * Other Utils</span></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureCCompiler"><span class="hs-identifier hs-type">configureCCompiler</span></a></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span id="configureCCompiler"><span class="annot"><span class="annottext">configureCCompiler :: Verbosity -&gt; ProgramDb -&gt; IO (String, [String])
</span><a href="Distribution.Simple.Setup.Common.html#configureCCompiler"><span class="hs-identifier hs-var hs-var">configureCCompiler</span></a></span></span><span> </span><span id="local-6989586621679465688"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465688"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679465689"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465689"><span class="hs-identifier hs-var">progdb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; ProgramDb -&gt; Program -&gt; IO (String, [String])
</span><a href="Distribution.Simple.Setup.Common.html#configureProg"><span class="hs-identifier hs-var">configureProg</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465688"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465689"><span class="hs-identifier hs-var">progdb</span></a></span><span> </span><span class="annot"><span class="annottext">Program
</span><a href="Distribution.Simple.Program.Builtin.html#gccProgram"><span class="hs-identifier hs-var">gccProgram</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureLinker"><span class="hs-identifier hs-type">configureLinker</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span id="configureLinker"><span class="annot"><span class="annottext">configureLinker :: Verbosity -&gt; ProgramDb -&gt; IO (String, [String])
</span><a href="Distribution.Simple.Setup.Common.html#configureLinker"><span class="hs-identifier hs-var hs-var">configureLinker</span></a></span></span><span> </span><span id="local-6989586621679465692"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465692"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679465693"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465693"><span class="hs-identifier hs-var">progdb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; ProgramDb -&gt; Program -&gt; IO (String, [String])
</span><a href="Distribution.Simple.Setup.Common.html#configureProg"><span class="hs-identifier hs-var">configureProg</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465692"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465693"><span class="hs-identifier hs-var">progdb</span></a></span><span> </span><span class="annot"><span class="annottext">Program
</span><a href="Distribution.Simple.Program.Builtin.html#ldProgram"><span class="hs-identifier hs-var">ldProgram</span></a></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureProg"><span class="hs-identifier hs-type">configureProg</span></a></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Types.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span id="configureProg"><span class="annot"><span class="annottext">configureProg :: Verbosity -&gt; ProgramDb -&gt; Program -&gt; IO (String, [String])
</span><a href="Distribution.Simple.Setup.Common.html#configureProg"><span class="hs-identifier hs-var hs-var">configureProg</span></a></span></span><span> </span><span id="local-6989586621679465695"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465695"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679465696"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465696"><span class="hs-identifier hs-var">programDb</span></a></span></span><span> </span><span id="local-6989586621679465697"><span class="annot"><span class="annottext">Program
</span><a href="#local-6989586621679465697"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679465698"><span class="annot"><a href="#local-6989586621679465698"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; Program -&gt; ProgramDb -&gt; IO (ConfiguredProgram, ProgramDb)
</span><a href="Distribution.Simple.Program.Db.html#requireProgram"><span class="hs-identifier hs-var">requireProgram</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679465695"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Program
</span><a href="#local-6989586621679465697"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679465696"><span class="hs-identifier hs-var">programDb</span></a></span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679465700"><span class="annot"><a href="#local-6989586621679465700"><span class="hs-identifier hs-var hs-var">pInv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram -&gt; [String] -&gt; ProgramInvocation
</span><a href="Distribution.Simple.Program.Run.html#programInvocation"><span class="hs-identifier hs-var">programInvocation</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679465698"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Program.Run.html#progInvokePath"><span class="hs-identifier hs-var">progInvokePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465700"><span class="hs-identifier hs-type">pInv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Run.html#progInvokeArgs"><span class="hs-identifier hs-var">progInvokeArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679465700"><span class="hs-identifier hs-type">pInv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-comment">-- | Helper function to split a string into a list of arguments.</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- It's supposed to handle quoted things sensibly, eg:</span><span>
</span><span id="line-344"></span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- &gt; splitArgs &quot;--foo=\&quot;C:/Program Files/Bar/&quot; --baz&quot;</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- &gt;   = [&quot;--foo=C:/Program Files/Bar&quot;, &quot;--baz&quot;]</span><span>
</span><span id="line-347"></span><span class="hs-comment">--</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- &gt; splitArgs &quot;\&quot;-DMSGSTR=\\\&quot;foo bar\\\&quot;\&quot; --baz&quot;</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- &gt;   = [&quot;-DMSGSTR=\&quot;foo bar\&quot;&quot;,&quot;--baz&quot;]</span><span>
</span><span id="line-350"></span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#splitArgs"><span class="hs-identifier hs-type">splitArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span id="splitArgs"><span class="annot"><span class="annottext">splitArgs :: String -&gt; [String]
</span><a href="Distribution.Simple.Setup.Common.html#splitArgs"><span class="hs-identifier hs-var hs-var">splitArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><a href="#local-6989586621679465704"><span class="hs-identifier hs-type">space</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-354"></span><span>    </span><span id="local-6989586621679465704"><span class="annot"><span class="annottext">space :: String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465704"><span class="hs-identifier hs-var hs-var">space</span></a></span></span><span> </span><span id="local-6989586621679465705"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465705"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall {a}. [a] -&gt; [[a]] -&gt; [[a]]
</span><a href="#local-6989586621679465706"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465705"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span id="local-6989586621679465707"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465707"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465708"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465708"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465709"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465709"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465708"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall {a}. [a] -&gt; [[a]] -&gt; [[a]]
</span><a href="#local-6989586621679465706"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465707"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465709"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span id="local-6989586621679465711"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465711"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465712"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465712"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465711"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465712"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span id="local-6989586621679465714"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465714"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679465715"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465715"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465716"><span class="hs-identifier hs-var">nonstring</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465714"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465715"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><a href="#local-6989586621679465713"><span class="hs-identifier hs-type">string</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-361"></span><span>    </span><span id="local-6989586621679465713"><span class="annot"><span class="annottext">string :: String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465713"><span class="hs-identifier hs-var hs-var">string</span></a></span></span><span> </span><span id="local-6989586621679465717"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465717"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall {a}. [a] -&gt; [[a]] -&gt; [[a]]
</span><a href="#local-6989586621679465706"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465717"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-362"></span><span>    </span><span class="annot"><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span id="local-6989586621679465718"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465718"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465719"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465719"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465718"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465719"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span id="local-6989586621679465720"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465720"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\\'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465721"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465721"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465720"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465721"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span id="local-6989586621679465722"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465722"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465723"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465723"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465724"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465724"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465723"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465722"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465724"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><a href="#local-6989586621679465716"><span class="hs-identifier hs-type">nonstring</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621679465716"><span class="annot"><span class="annottext">nonstring :: String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465716"><span class="hs-identifier hs-var hs-var">nonstring</span></a></span></span><span> </span><span id="local-6989586621679465725"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465725"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall {a}. [a] -&gt; [[a]] -&gt; [[a]]
</span><a href="#local-6989586621679465706"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465725"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-368"></span><span>    </span><span class="annot"><a href="#local-6989586621679465716"><span class="hs-identifier hs-var">nonstring</span></a></span><span> </span><span id="local-6989586621679465726"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465726"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465727"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465727"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465713"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465726"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465727"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><a href="#local-6989586621679465716"><span class="hs-identifier hs-var">nonstring</span></a></span><span> </span><span id="local-6989586621679465728"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465728"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679465729"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465729"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679465730"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465730"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [String]
</span><a href="#local-6989586621679465704"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679465729"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465728"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679465730"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>    </span><span id="local-6989586621679465706"><span class="annot"><span class="annottext">word :: [a] -&gt; [[a]] -&gt; [[a]]
</span><a href="#local-6989586621679465706"><span class="hs-identifier hs-var hs-var">word</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679465731"><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621679465731"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621679465731"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><a href="#local-6989586621679465706"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span id="local-6989586621679465732"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679465732"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679465733"><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621679465733"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679465732"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [[a]] -&gt; [[a]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621679465733"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-373"></span></pre></body></html>