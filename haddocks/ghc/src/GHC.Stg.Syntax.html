<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621682505764"><span id="local-6989586621682505765"></span></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds      #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds            #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts     #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase           #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies         #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns       #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">{-
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998

Shared term graph (STG) syntax for spineless-tagless code generation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This data type represents programs just before code generation (conversion to
@Cmm@): basically, what we have is a stylised form of Core syntax, the style
being one that happens to be ideally suited to spineless tagless code
generation.
-}</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html"><span class="hs-identifier">GHC.Stg.Syntax</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier">StgArg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier">GenStgTopBinding</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier">GenStgBinding</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier">GenStgExpr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier">GenStgRhs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier">GenStgAlt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#AltType"><span class="hs-identifier">AltType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier">StgPass</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier">BinderP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier">XRhsClosure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier">XLet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier">XLetNoEscape</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier">NoExtFieldSilent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#noExtFieldSilent"><span class="hs-identifier">noExtFieldSilent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier">OutputablePass</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#UpdateFlag"><span class="hs-identifier">UpdateFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#isUpdatable"><span class="hs-identifier">isUpdatable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#ConstructorNumber"><span class="hs-identifier">ConstructorNumber</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>        </span><span class="hs-comment">-- a set of synonyms for the vanilla parameterisation</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopBinding"><span class="hs-identifier">StgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgBinding"><span class="hs-identifier">StgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgExpr"><span class="hs-identifier">StgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhs"><span class="hs-identifier">StgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgAlt"><span class="hs-identifier">StgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>        </span><span class="hs-comment">-- a set of synonyms for the code gen parameterisation</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgTopBinding"><span class="hs-identifier">CgStgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgBinding"><span class="hs-identifier">CgStgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgExpr"><span class="hs-identifier">CgStgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgRhs"><span class="hs-identifier">CgStgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgAlt"><span class="hs-identifier">CgStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>        </span><span class="hs-comment">-- Same for taggedness</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgTopBinding"><span class="hs-identifier">TgStgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgBinding"><span class="hs-identifier">TgStgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgExpr"><span class="hs-identifier">TgStgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgRhs"><span class="hs-identifier">TgStgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgAlt"><span class="hs-identifier">TgStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-comment">-- a set of synonyms for the lambda lifting parameterisation</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgTopBinding"><span class="hs-identifier">LlStgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgBinding"><span class="hs-identifier">LlStgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgExpr"><span class="hs-identifier">LlStgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgRhs"><span class="hs-identifier">LlStgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgAlt"><span class="hs-identifier">LlStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>        </span><span class="hs-comment">-- a set of synonyms to distinguish in- and out variants</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgArg"><span class="hs-identifier">InStgArg</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgTopBinding"><span class="hs-identifier">InStgTopBinding</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgBinding"><span class="hs-identifier">InStgBinding</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgExpr"><span class="hs-identifier">InStgExpr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgRhs"><span class="hs-identifier">InStgRhs</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="GHC.Stg.Syntax.html#InStgAlt"><span class="hs-identifier">InStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgArg"><span class="hs-identifier">OutStgArg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgTopBinding"><span class="hs-identifier">OutStgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgBinding"><span class="hs-identifier">OutStgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgExpr"><span class="hs-identifier">OutStgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgRhs"><span class="hs-identifier">OutStgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgAlt"><span class="hs-identifier">OutStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>        </span><span class="hs-comment">-- StgOp</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier">StgOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>        </span><span class="hs-comment">-- utils</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgRhsArity"><span class="hs-identifier">stgRhsArity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#freeVarsOfRhs"><span class="hs-identifier">freeVarsOfRhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#isDllConApp"><span class="hs-identifier">isDllConApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier">stgArgType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep"><span class="hs-identifier">stgArgRep</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep1"><span class="hs-identifier">stgArgRep1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRepU"><span class="hs-identifier">stgArgRepU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep_maybe"><span class="hs-identifier">stgArgRep_maybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#stgCaseBndrInScope"><span class="hs-identifier">stgCaseBndrInScope</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>        </span><span class="hs-comment">-- ppr</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier">StgPprOpts</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier">panicStgPprOpts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#shortStgPprOpts"><span class="hs-identifier">shortStgPprOpts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier">pprStgArg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier">pprStgExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier">pprStgRhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgBinding"><span class="hs-identifier">pprStgBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgAlt"><span class="hs-identifier">pprStgAlt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprGenStgTopBinding"><span class="hs-identifier">pprGenStgTopBinding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgTopBinding"><span class="hs-identifier">pprStgTopBinding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprGenStgTopBindings"><span class="hs-identifier">pprGenStgTopBindings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgTopBindings"><span class="hs-identifier">pprStgTopBindings</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html"><span class="hs-identifier">GHC.Stg.InferTags.TagSig</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html#TagSig"><span class="hs-identifier">TagSig</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.Lift.Types.html"><span class="hs-identifier">GHC.Stg.Lift.Types</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">-- To avoid having an orphan instances for BinderP, XLet etc</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html"><span class="hs-identifier">GHC.Types.CostCentre</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html#CostCentreStack"><span class="hs-identifier">CostCentreStack</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.html#AltCon"><span class="hs-identifier">AltCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier">PrimRep</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimOrVoidRep"><span class="hs-identifier">PrimOrVoidRep</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier">Type</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Ppr.html"><span class="hs-identifier">GHC.Core.Ppr</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-comment">{- instances -}</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#ForeignCall"><span class="hs-identifier">ForeignCall</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#isDynLinkName"><span class="hs-identifier">isDynLinkName</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html"><span class="hs-identifier">GHC.Types.Tickish</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#StgTickish"><span class="hs-identifier">StgTickish</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Literal.html"><span class="hs-identifier">GHC.Types.Literal</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Literal.html#Literal"><span class="hs-identifier">Literal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Literal.html#literalType"><span class="hs-identifier">literalType</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html"><span class="hs-identifier">GHC.Types.RepType</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html#typePrimRep"><span class="hs-identifier">typePrimRep</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html#typePrimRep1"><span class="hs-identifier">typePrimRep1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html#typePrimRepU"><span class="hs-identifier">typePrimRepU</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier">typePrimRep_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier">Module</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html"><span class="hs-identifier">GHC.Builtin.PrimOps</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier">PrimOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimCall"><span class="hs-identifier">PrimCall</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../bytestring-0.12.1.0-f8cd/src//Data.ByteString.html/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../bytestring-0.12.1.0-f8cd/src//Data.ByteString.Internal.Type.html/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier">ByteString</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Data.html/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Data</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.List.html/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">intersperse</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
GenStgBinding
*                                                                      *
************************************************************************

As usual, expressions are interesting; other things are boring. Here are the
boring things (except note the @GenStgRhs@), parameterised with respect to
binder and occurrence information (just as in @GHC.Core@):
-}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">-- | A top-level binding.</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">data</span><span> </span><span id="GenStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-var">GenStgTopBinding</span></a></span></span><span> </span><span id="local-6989586621682505859"><span class="annot"><a href="#local-6989586621682505859"><span class="hs-identifier hs-type">pass</span></a></span></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- See Note [Core top-level string literals]</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgTopLifted"><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopLifted"><span class="hs-identifier hs-var">StgTopLifted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505859"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgTopStringLit"><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopStringLit"><span class="hs-identifier hs-var">StgTopStringLit</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="annot"><a href="../../bytestring-0.12.1.0-f8cd/src//Data.ByteString.Internal.Type.html/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-keyword">data</span><span> </span><span id="GenStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-var">GenStgBinding</span></a></span></span><span> </span><span id="local-6989586621682505862"><span class="annot"><a href="#local-6989586621682505862"><span class="hs-identifier hs-type">pass</span></a></span></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgNonRec"><span class="annot"><a href="GHC.Stg.Syntax.html#StgNonRec"><span class="hs-identifier hs-var">StgNonRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505862"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505862"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgRec"><span class="annot"><a href="GHC.Stg.Syntax.html#StgRec"><span class="hs-identifier hs-var">StgRec</span></a></span></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505862"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505862"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
StgArg
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-keyword">data</span><span> </span><span id="StgArg"><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-var">StgArg</span></a></span></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgVarArg"><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-var">StgVarArg</span></a></span></span><span>  </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgLitArg"><span class="annot"><a href="GHC.Stg.Syntax.html#StgLitArg"><span class="hs-identifier hs-var">StgLitArg</span></a></span></span><span>  </span><span class="annot"><a href="GHC.Types.Literal.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | Does this constructor application refer to anything in a different</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- *Windows* DLL?</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- If so, we can't allocate it statically</span><span>
</span><span id="line-144"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isDllConApp"><span class="hs-identifier hs-type">isDllConApp</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>          </span><span class="hs-comment">-- is Opt_ExternalDynamicRefs enabled?</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-151"></span><span id="isDllConApp"><span class="annot"><span class="annottext">isDllConApp :: Platform -&gt; Bool -&gt; Module -&gt; DataCon -&gt; [StgArg] -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#isDllConApp"><span class="hs-identifier hs-var hs-var">isDllConApp</span></a></span></span><span> </span><span id="local-6989586621682505867"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682505867"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682505868"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682505868"><span class="hs-identifier hs-var">ext_dyn_refs</span></a></span></span><span> </span><span id="local-6989586621682505869"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682505869"><span class="hs-identifier hs-var">this_mod</span></a></span></span><span> </span><span id="local-6989586621682505870"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682505870"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621682505871"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682505871"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-152"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682505868"><span class="hs-identifier hs-var">ext_dyn_refs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-153"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; OS
</span><a href="GHC.Platform.html#platformOS"><span class="hs-identifier hs-var">platformOS</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682505867"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">OS -&gt; OS -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OS
</span><span class="hs-identifier hs-var">OSMinGW32</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isDynLinkName"><span class="hs-identifier hs-var">isDynLinkName</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682505867"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682505869"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682505870"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(StgArg -&gt; Bool) -&gt; [StgArg] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; Bool
</span><a href="#local-6989586621682505878"><span class="hs-identifier hs-var">is_dll_arg</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682505871"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-155"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-comment">-- NB: typePrimRep1 is legit because any free variables won't have</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-comment">-- unlifted type (there are no unlifted things at top level)</span><span>
</span><span id="line-159"></span><span>    </span><span class="annot"><a href="#local-6989586621682505878"><span class="hs-identifier hs-type">is_dll_arg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621682505878"><span class="annot"><span class="annottext">is_dll_arg :: StgArg -&gt; Bool
</span><a href="#local-6989586621682505878"><span class="hs-identifier hs-var hs-var">is_dll_arg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621682505879"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682505879"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">PrimOrVoidRep -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#isAddrRep"><span class="hs-identifier hs-var">isAddrRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; UnaryType -&gt; PrimOrVoidRep
UnaryType -&gt; PrimOrVoidRep
</span><a href="GHC.Types.RepType.html#typePrimRep1"><span class="hs-identifier hs-var">typePrimRep1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; UnaryType
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682505879"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>                             </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isDynLinkName"><span class="hs-identifier hs-var">isDynLinkName</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682505867"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682505869"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682505879"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><a href="#local-6989586621682505878"><span class="hs-identifier hs-var">is_dll_arg</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- True of machine addresses; these are the things that don't work across DLLs.</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- The key point here is that VoidRep comes out False, so that a top level</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- nullary GADT constructor is False for isDllConApp</span><span>
</span><span id="line-167"></span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span class="hs-comment">--    data T a where</span><span>
</span><span id="line-169"></span><span class="hs-comment">--      T1 :: T Int</span><span>
</span><span id="line-170"></span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- gives</span><span>
</span><span id="line-172"></span><span class="hs-comment">--</span><span>
</span><span id="line-173"></span><span class="hs-comment">--    T1 :: forall a. (a~Int) -&gt; T a</span><span>
</span><span id="line-174"></span><span class="hs-comment">--</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- and hence the top-level binding</span><span>
</span><span id="line-176"></span><span class="hs-comment">--</span><span>
</span><span id="line-177"></span><span class="hs-comment">--    $WT1 :: T Int</span><span>
</span><span id="line-178"></span><span class="hs-comment">--    $WT1 = T1 Int (Coercion (Refl Int))</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- The coercion argument here gets VoidRep</span><span>
</span><span id="line-181"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isAddrRep"><span class="hs-identifier hs-type">isAddrRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimOrVoidRep"><span class="hs-identifier hs-type">PrimOrVoidRep</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-182"></span><span id="isAddrRep"><span class="annot"><span class="annottext">isAddrRep :: PrimOrVoidRep -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#isAddrRep"><span class="hs-identifier hs-var hs-var">isAddrRep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#NVRep"><span class="hs-identifier hs-type">NVRep</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="GHC.Core.TyCon.html#AddrRep"><span class="hs-identifier hs-var">AddrRep</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-183"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isAddrRep"><span class="hs-identifier hs-var">isAddrRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#NVRep"><span class="hs-identifier hs-type">NVRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#BoxedRep"><span class="hs-identifier hs-type">BoxedRep</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Levity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-comment">-- FIXME: not true for JavaScript</span><span>
</span><span id="line-184"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isAddrRep"><span class="hs-identifier hs-var">isAddrRep</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOrVoidRep
</span><span class="hs-identifier">_</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-comment">-- | Type of an @StgArg@</span><span>
</span><span id="line-187"></span><span class="hs-comment">--</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- Very half baked because we have lost the type arguments.</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- This function should be avoided: in STG we aren't supposed to</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- look at types, but only PrimReps.</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- Use 'stgArgRep', 'stgArgRep_maybe', 'stgArgRep1' instaed.</span><span>
</span><span id="line-193"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-type">stgArgType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-194"></span><span id="stgArgType"><span class="annot"><span class="annottext">stgArgType :: StgArg -&gt; UnaryType
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var hs-var">stgArgType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621682505887"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682505887"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; UnaryType
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682505887"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-195"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLitArg"><span class="hs-identifier hs-type">StgLitArg</span></a></span><span> </span><span id="local-6989586621682505888"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682505888"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; UnaryType
</span><a href="GHC.Types.Literal.html#literalType"><span class="hs-identifier hs-var">literalType</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682505888"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep"><span class="hs-identifier hs-type">stgArgRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span id="stgArgRep"><span class="annot"><span class="annottext">stgArgRep :: StgArg -&gt; [PrimRep]
</span><a href="GHC.Stg.Syntax.html#stgArgRep"><span class="hs-identifier hs-var hs-var">stgArgRep</span></a></span></span><span> </span><span id="local-6989586621682505889"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505889"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; UnaryType -&gt; [PrimRep]
UnaryType -&gt; [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep"><span class="hs-identifier hs-var">typePrimRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; UnaryType
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505889"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep_maybe"><span class="hs-identifier hs-type">stgArgRep_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-201"></span><span id="stgArgRep_maybe"><span class="annot"><span class="annottext">stgArgRep_maybe :: StgArg -&gt; Maybe [PrimRep]
</span><a href="GHC.Stg.Syntax.html#stgArgRep_maybe"><span class="hs-identifier hs-var hs-var">stgArgRep_maybe</span></a></span></span><span> </span><span id="local-6989586621682505890"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505890"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnaryType -&gt; Maybe [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier hs-var">typePrimRep_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; UnaryType
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505890"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- | Assumes that the argument has at most one PrimRep, which holds after unarisation.</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- See Note [Post-unarisation invariants] in GHC.Stg.Unarise.</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- See Note [VoidRep] in GHC.Types.RepType.</span><span>
</span><span id="line-206"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRep1"><span class="hs-identifier hs-type">stgArgRep1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimOrVoidRep"><span class="hs-identifier hs-type">PrimOrVoidRep</span></a></span><span>
</span><span id="line-207"></span><span id="stgArgRep1"><span class="annot"><span class="annottext">stgArgRep1 :: StgArg -&gt; PrimOrVoidRep
</span><a href="GHC.Stg.Syntax.html#stgArgRep1"><span class="hs-identifier hs-var hs-var">stgArgRep1</span></a></span></span><span> </span><span id="local-6989586621682505891"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505891"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; UnaryType -&gt; PrimOrVoidRep
UnaryType -&gt; PrimOrVoidRep
</span><a href="GHC.Types.RepType.html#typePrimRep1"><span class="hs-identifier hs-var">typePrimRep1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; UnaryType
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505891"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Assumes that the argument has exactly one PrimRep.</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- See Note [VoidRep] in GHC.Types.RepType.</span><span>
</span><span id="line-211"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgArgRepU"><span class="hs-identifier hs-type">stgArgRepU</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span>
</span><span id="line-212"></span><span id="stgArgRepU"><span class="annot"><span class="annottext">stgArgRepU :: StgArg -&gt; PrimRep
</span><a href="GHC.Stg.Syntax.html#stgArgRepU"><span class="hs-identifier hs-var hs-var">stgArgRepU</span></a></span></span><span> </span><span id="local-6989586621682505892"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505892"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; UnaryType -&gt; PrimRep
UnaryType -&gt; PrimRep
</span><a href="GHC.Types.RepType.html#typePrimRepU"><span class="hs-identifier hs-var">typePrimRepU</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; UnaryType
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621682505892"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- | Given an alt type and whether the program is unarised, return whether the</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- case binder is in scope.</span><span>
</span><span id="line-216"></span><span class="hs-comment">--</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- Case binders of unboxed tuple or unboxed sum type always dead after the</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- unariser has run. See Note [Post-unarisation invariants] in GHC.Stg.Unarise.</span><span>
</span><span id="line-219"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgCaseBndrInScope"><span class="hs-identifier hs-type">stgCaseBndrInScope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#AltType"><span class="hs-identifier hs-type">AltType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">{- ^ unarised? -}</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-220"></span><span id="stgCaseBndrInScope"><span class="annot"><span class="annottext">stgCaseBndrInScope :: AltType -&gt; Bool -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#stgCaseBndrInScope"><span class="hs-identifier hs-var hs-var">stgCaseBndrInScope</span></a></span></span><span> </span><span id="local-6989586621682505893"><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682505893"><span class="hs-identifier hs-var">alt_ty</span></a></span></span><span> </span><span id="local-6989586621682505894"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682505894"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682505893"><span class="hs-identifier hs-var">alt_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="GHC.Stg.Syntax.html#AlgAlt"><span class="hs-identifier hs-type">AlgAlt</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="GHC.Stg.Syntax.html#PrimAlt"><span class="hs-identifier hs-type">PrimAlt</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="GHC.Stg.Syntax.html#MultiValAlt"><span class="hs-identifier hs-type">MultiValAlt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682505894"><span class="hs-identifier hs-var">unarised</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><span class="annottext">AltType
</span><a href="GHC.Stg.Syntax.html#PolyAlt"><span class="hs-identifier hs-var">PolyAlt</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
STG expressions
*                                                                      *
************************************************************************

The @GenStgExpr@ data type is parameterised on binder and occurrence info, as
before.

************************************************************************
*                                                                      *
GenStgExpr
*                                                                      *
************************************************************************

An application is of a function to a list of atoms (not expressions).
Operationally, we want to push the arguments on the stack and call the function.
(If the arguments were expressions, we would have to build their closures
first.)

There is no constructor for a lone variable; it would appear as @StgApp var []@.
-}</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-keyword">data</span><span> </span><span id="GenStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-var">GenStgExpr</span></a></span></span><span> </span><span id="local-6989586621682505899"><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgApp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgApp"><span class="hs-identifier hs-var">StgApp</span></a></span></span><span>
</span><span id="line-253"></span><span>        </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>       </span><span class="hs-comment">-- function</span><span>
</span><span id="line-254"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- arguments; may be empty</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
StgConApp and StgPrimApp --- saturated applications
*                                                                      *
************************************************************************

There are specialised forms of application, for constructors, primitives, and
literals.

Note [Constructor applications in STG]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
After the unarisation pass:
* In `StgConApp` and `StgRhsCon` and `StgAlt` we filter out the void arguments,
  leaving only non-void ones.
* In `StgApp` and `StgOpApp` we retain void arguments.

We can do this because we know that `StgConApp` and `StgRhsCon` are saturated applications,
so we lose no information by dropping those void args.  In contrast, in `StgApp` we need the
 void argument to compare the number of args in the call with the arity of the function.

This is an open design choice.  We could instead choose to treat all these applications
consistently (keeping the void args).  But for some reason we don't, and this Note simply
documents that design choice.

As an example, consider:

        data T a = MkT !Int a Void#

The wrapper's representation and the worker's representation (i.e. the
datacon's Core representation) are respectively:

        $WMkT :: Int  -&gt; a -&gt; Void# -&gt; T a
        MkT   :: Int# -&gt; a -&gt; Void# -&gt; T a

T would end up being used in STG post-unarise as:

  let x = MkT 1# y
  in ...
      case x of
        MkT int a -&gt; ...

The Void# argument is dropped. In essence we only generate binders for runtime
relevant values.

We also flatten out unboxed tuples in this process. See the unarise
pass for details on how this is done. But as an example consider
`data S = MkS Bool (# Bool | Char #)` which when matched on would
result in an alternative with three binders like this

    MkS bool tag tpl_field -&gt;

See Note [Translating unboxed sums to unboxed tuples] and Note [Unarisation]
for the details of this transformation.

-}</span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgLit"><span class="annot"><a href="GHC.Stg.Syntax.html#StgLit"><span class="hs-identifier hs-var">StgLit</span></a></span></span><span>      </span><span class="annot"><a href="GHC.Types.Literal.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">-- StgConApp is vital for returning unboxed tuples or sums</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">-- which can't be let-bound</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgConApp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgConApp"><span class="hs-identifier hs-var">StgConApp</span></a></span></span><span>   </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-318"></span><span>                </span><span class="annot"><a href="GHC.Stg.Syntax.html#ConstructorNumber"><span class="hs-identifier hs-type">ConstructorNumber</span></a></span><span>
</span><span id="line-319"></span><span>                </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Saturated. See Note [Constructor applications in STG]</span><span>
</span><span id="line-320"></span><span>                </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- See Note [Representations in StgConApp] in GHC.Stg.Unarise</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgOpApp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgOpApp"><span class="hs-identifier hs-var">StgOpApp</span></a></span></span><span>    </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier hs-type">StgOp</span></a></span><span>    </span><span class="hs-comment">-- Primitive op or foreign call</span><span>
</span><span id="line-323"></span><span>                </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Saturated.</span><span>
</span><span id="line-324"></span><span>                </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>     </span><span class="hs-comment">-- Result type</span><span>
</span><span id="line-325"></span><span>                         </span><span class="hs-comment">-- We need to know this so that we can</span><span>
</span><span id="line-326"></span><span>                         </span><span class="hs-comment">-- assign result registers</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
GenStgExpr: case-expressions
*                                                                      *
************************************************************************

This has the same boxed/unboxed business as Core case expressions.
-}</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgCase"><span class="annot"><a href="GHC.Stg.Syntax.html#StgCase"><span class="hs-identifier hs-var">StgCase</span></a></span></span><span>
</span><span id="line-339"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- the thing to examine</span><span>
</span><span id="line-340"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- binds the result of evaluating the scrutinee</span><span>
</span><span id="line-341"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#AltType"><span class="hs-identifier hs-type">AltType</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-343"></span><span>                    </span><span class="hs-comment">-- The DEFAULT case is always *first*</span><span>
</span><span id="line-344"></span><span>                    </span><span class="hs-comment">-- if it is there at all</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
GenStgExpr: let(rec)-expressions
*                                                                      *
************************************************************************

The various forms of let(rec)-expression encode most of the interesting things
we want to do.

-   let-closure x = [free-vars] [args] expr in e

  is equivalent to

    let x = (\free-vars -&gt; \args -&gt; expr) free-vars

  @args@ may be empty (and is for most closures). It isn't under circumstances
  like this:

    let x = (\y -&gt; y+z)

  This gets mangled to

    let-closure x = [z] [y] (y+z)

  The idea is that we compile code for @(y+z)@ in an environment in which @z@ is
  bound to an offset from Node, and `y` is bound to an offset from the stack
  pointer.

  (A let-closure is an @StgLet@ with a @StgRhsClosure@ RHS.)

-   let-constructor x = Constructor [args] in e

  (A let-constructor is an @StgLet@ with a @StgRhsCon@ RHS.)

- Letrec-expressions are essentially the same deal as let-closure/
  let-constructor, so we use a common structure and distinguish between them
  with an @is_recursive@ boolean flag.

-   let-unboxed u = &lt;an arbitrary arithmetic expression in unboxed values&gt; in e

  All the stuff on the RHS must be fully evaluated. No function calls either!

  (We've backed away from this toward case-expressions with suitably-magical
  alts ...)

- Advanced stuff here! Not to start with, but makes pattern matching generate
  more efficient code.

    let-escapes-not fail = expr
    in e'

  Here the idea is that @e'@ guarantees not to put @fail@ in a data structure,
  or pass it to another function. All @e'@ will ever do is tail-call @fail@.
  Rather than build a closure for @fail@, all we need do is to record the stack
  level at the moment of the @let-escapes-not@; then entering @fail@ is just a
  matter of adjusting the stack pointer back down to that point and entering the
  code for it.

  Another example:

    f x y = let z = huge-expression in
            if y==1 then z else
            if y==2 then z else
            1

  (A let-escapes-not is an @StgLetNoEscape@.)

- We may eventually want:

    let-literal x = Literal in e

And so the code for let(rec)-things:
-}</span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgLet"><span class="annot"><a href="GHC.Stg.Syntax.html#StgLet"><span class="hs-identifier hs-var">StgLet</span></a></span></span><span>
</span><span id="line-422"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-type">XLet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- right hand sides (see below)</span><span>
</span><span id="line-424"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- body</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#StgLetNoEscape"><span class="hs-identifier hs-var">StgLetNoEscape</span></a></span></span><span>
</span><span id="line-427"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-type">XLetNoEscape</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- right hand sides (see below)</span><span>
</span><span id="line-429"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- body</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-comment">{-
*************************************************************************
*                                                                      *
GenStgExpr: hpc, scc and other debug annotations
*                                                                      *
*************************************************************************

Finally for @hpc@ expressions we introduce a new STG construct.
-}</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgTick"><span class="annot"><a href="GHC.Stg.Syntax.html#StgTick"><span class="hs-identifier hs-var">StgTick</span></a></span></span><span>
</span><span id="line-442"></span><span>    </span><span class="annot"><a href="GHC.Types.Tickish.html#StgTickish"><span class="hs-identifier hs-type">StgTickish</span></a></span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505899"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- sub expression</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- END of GenStgExpr</span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
STG right-hand sides
*                                                                      *
************************************************************************

Here's the rest of the interesting stuff for @StgLet@s; the first flavour is for
closures:
-}</span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-keyword">data</span><span> </span><span id="GenStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-var">GenStgRhs</span></a></span></span><span> </span><span id="local-6989586621682505908"><span class="annot"><a href="#local-6989586621682505908"><span class="hs-identifier hs-type">pass</span></a></span></span><span>
</span><span id="line-459"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-var">StgRhsClosure</span></a></span></span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-type">XRhsClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505908"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Extension point for non-global free var</span><span>
</span><span id="line-461"></span><span>                           </span><span class="hs-comment">--   list just before 'CodeGen'.</span><span>
</span><span id="line-462"></span><span>        </span><span class="annot"><a href="GHC.Types.CostCentre.html#CostCentreStack"><span class="hs-identifier hs-type">CostCentreStack</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ CCS to be attached (default is CurrentCCS)</span></span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Stg.Syntax.html#UpdateFlag"><span class="hs-identifier hs-type">UpdateFlag</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ 'ReEntrant' | 'Updatable' | 'SingleEntry'</span></span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505908"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- ^ arguments; if empty, then not a function;</span><span>
</span><span id="line-465"></span><span>                           </span><span class="hs-comment">--   as above, order is important.</span><span>
</span><span id="line-466"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505908"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ body</span></span><span>
</span><span id="line-467"></span><span>        </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ result type</span></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">{-
An example may be in order.  Consider:

  let t = \x -&gt; \y -&gt; ... x ... y ... p ... q in e

Pulling out the free vars and stylising somewhat, we get the equivalent:

  let t = (\[p,q] -&gt; \[x,y] -&gt; ... x ... y ... p ...q) p q

Stg-operationally, the @[x,y]@ are on the stack, the @[p,q]@ are offsets from
@Node@ into the closure, and the code ptr for the closure will be exactly that
in parentheses above.

The second flavour of right-hand-side is for constructors (simple but
important):
-}</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgRhsCon"><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-var">StgRhsCon</span></a></span></span><span>
</span><span id="line-487"></span><span>        </span><span class="annot"><a href="GHC.Types.CostCentre.html#CostCentreStack"><span class="hs-identifier hs-type">CostCentreStack</span></a></span><span> </span><span class="hs-comment">-- CCS to be attached (default is CurrentCCS).</span><span>
</span><span id="line-488"></span><span>                        </span><span class="hs-comment">-- Top-level (static) ones will end up with</span><span>
</span><span id="line-489"></span><span>                        </span><span class="hs-comment">-- DontCareCCS, because we don't count static</span><span>
</span><span id="line-490"></span><span>                        </span><span class="hs-comment">-- data in heap profiles, and we don't set CCCS</span><span>
</span><span id="line-491"></span><span>                        </span><span class="hs-comment">-- from static closure.</span><span>
</span><span id="line-492"></span><span>        </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>         </span><span class="hs-comment">-- Constructor. Never an unboxed tuple or sum, as those</span><span>
</span><span id="line-493"></span><span>                        </span><span class="hs-comment">-- are not allocated.</span><span>
</span><span id="line-494"></span><span>        </span><span class="annot"><a href="GHC.Stg.Syntax.html#ConstructorNumber"><span class="hs-identifier hs-type">ConstructorNumber</span></a></span><span>
</span><span id="line-495"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Tickish.html#StgTickish"><span class="hs-identifier hs-type">StgTickish</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-496"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span>        </span><span class="hs-comment">-- Saturated Args. See Note [Constructor applications in STG]</span><span>
</span><span id="line-497"></span><span>        </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>            </span><span class="hs-comment">-- Type, for rewriting to an StgRhsClosure</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-comment">-- | Like 'GHC.Hs.Extension.NoExtField', but with an 'Outputable' instance that</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- returns 'empty'.</span><span>
</span><span id="line-501"></span><span class="hs-keyword">data</span><span> </span><span id="NoExtFieldSilent"><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-var">NoExtFieldSilent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoExtFieldSilent"><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-var">NoExtFieldSilent</span></a></span></span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682505920"><span id="local-6989586621682505922"><span id="local-6989586621682505924"><span id="local-6989586621682505926"><span id="local-6989586621682505928"><span id="local-6989586621682505934"><span id="local-6989586621682505939"><span id="local-6989586621682505942"><span id="local-6989586621682505945"><span id="local-6989586621682505948"><span id="local-6989586621682505951"><span id="local-6989586621682505954"><span id="local-6989586621682505959"><span id="local-6989586621682505964"><span class="annot"><span class="annottext">Typeable NoExtFieldSilent
Typeable NoExtFieldSilent =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; NoExtFieldSilent -&gt; c NoExtFieldSilent)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c NoExtFieldSilent)
-&gt; (NoExtFieldSilent -&gt; Constr)
-&gt; (NoExtFieldSilent -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c NoExtFieldSilent))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c NoExtFieldSilent))
-&gt; ((forall b. Data b =&gt; b -&gt; b)
    -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r)
-&gt; (forall u.
    (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent)
-&gt; Data NoExtFieldSilent
NoExtFieldSilent -&gt; Constr
NoExtFieldSilent -&gt; DataType
(forall b. Data b =&gt; b -&gt; b)
-&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c NoExtFieldSilent
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; NoExtFieldSilent -&gt; c NoExtFieldSilent
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c NoExtFieldSilent)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c NoExtFieldSilent)
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; NoExtFieldSilent -&gt; c NoExtFieldSilent
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; NoExtFieldSilent -&gt; c NoExtFieldSilent
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c NoExtFieldSilent
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c NoExtFieldSilent
$ctoConstr :: NoExtFieldSilent -&gt; Constr
toConstr :: NoExtFieldSilent -&gt; Constr
$cdataTypeOf :: NoExtFieldSilent -&gt; DataType
dataTypeOf :: NoExtFieldSilent -&gt; DataType
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c NoExtFieldSilent)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c NoExtFieldSilent)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c NoExtFieldSilent)
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c NoExtFieldSilent)
$cgmapT :: (forall b. Data b =&gt; b -&gt; b)
-&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
gmapT :: (forall b. Data b =&gt; b -&gt; b)
-&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; NoExtFieldSilent -&gt; r
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; [u]
$cgmapQi :: forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; u
gmapQi :: forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; NoExtFieldSilent -&gt; u
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; NoExtFieldSilent -&gt; m NoExtFieldSilent
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682505974"><span id="local-6989586621682505976"><span class="annot"><span class="annottext">NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
(NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; Eq NoExtFieldSilent
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
== :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
$c/= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
/= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682505983"><span id="local-6989586621682505985"><span id="local-6989586621682505987"><span id="local-6989586621682505991"><span id="local-6989586621682505994"><span id="local-6989586621682505997"><span id="local-6989586621682506000"><span class="annot"><span class="annottext">Eq NoExtFieldSilent
Eq NoExtFieldSilent =&gt;
(NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Ordering)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent)
-&gt; (NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent)
-&gt; Ord NoExtFieldSilent
NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Ordering
NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Ordering
compare :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Ordering
$c&lt; :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
&lt; :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
$c&lt;= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
&lt;= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
$c&gt; :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
&gt; :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
$c&gt;= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
&gt;= :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; Bool
$cmax :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
max :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
$cmin :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
min :: NoExtFieldSilent -&gt; NoExtFieldSilent -&gt; NoExtFieldSilent
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-505"></span><span>  </span><span id="local-6989586621682506012"><span class="annot"><span class="annottext">ppr :: NoExtFieldSilent -&gt; SDoc
</span><a href="#local-6989586621682506012"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><span class="annottext">NoExtFieldSilent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="hs-comment">-- | Used when constructing a term with an unused extension point that should</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- not appear in pretty-printed output at all.</span><span>
</span><span id="line-509"></span><span class="annot"><a href="GHC.Stg.Syntax.html#noExtFieldSilent"><span class="hs-identifier hs-type">noExtFieldSilent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-510"></span><span id="noExtFieldSilent"><span class="annot"><span class="annottext">noExtFieldSilent :: NoExtFieldSilent
</span><a href="GHC.Stg.Syntax.html#noExtFieldSilent"><span class="hs-identifier hs-var hs-var">noExtFieldSilent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtFieldSilent
</span><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-var">NoExtFieldSilent</span></a></span><span>
</span><span id="line-511"></span><span class="hs-comment">-- TODO: Maybe move this to GHC.Hs.Extension? I'm not sure about the</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- implications on build time...</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgRhsArity"><span class="hs-identifier hs-type">stgRhsArity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhs"><span class="hs-identifier hs-type">StgRhs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-515"></span><span id="stgRhsArity"><span class="annot"><span class="annottext">stgRhsArity :: StgRhs -&gt; Int
</span><a href="GHC.Stg.Syntax.html#stgRhsArity"><span class="hs-identifier hs-var hs-var">stgRhsArity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span class="annot"><span class="annottext">XRhsClosure 'Vanilla
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682506014"><span class="annot"><span class="annottext">[BinderP 'Vanilla]
</span><a href="#local-6989586621682506014"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenStgExpr 'Vanilla
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Int
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Id -&gt; Bool) -&gt; [Id] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Var.html#isId"><span class="hs-identifier hs-var">isId</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP 'Vanilla]
</span><a href="#local-6989586621682506014"><span class="hs-identifier hs-var">bndrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP 'Vanilla]
</span><a href="#local-6989586621682506014"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-comment">-- The arity never includes type parameters, but they should have gone by now</span><span>
</span><span id="line-518"></span><span class="annot"><a href="GHC.Stg.Syntax.html#stgRhsArity"><span class="hs-identifier hs-var">stgRhsArity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-type">StgRhsCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span id="local-6989586621682505696"><span class="annot"><a href="GHC.Stg.Syntax.html#freeVarsOfRhs"><span class="hs-identifier hs-type">freeVarsOfRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-type">XRhsClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505696"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#DIdSet"><span class="hs-identifier hs-type">DIdSet</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505696"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#DIdSet"><span class="hs-identifier hs-type">DIdSet</span></a></span></span><span>
</span><span id="line-521"></span><span id="freeVarsOfRhs"><span class="annot"><span class="annottext">freeVarsOfRhs :: forall (pass :: StgPass).
(XRhsClosure pass ~ DIdSet) =&gt;
GenStgRhs pass -&gt; DIdSet
</span><a href="GHC.Stg.Syntax.html#freeVarsOfRhs"><span class="hs-identifier hs-var hs-var">freeVarsOfRhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-type">StgRhsCon</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[StgTickish]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682506021"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506021"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; DIdSet
</span><a href="GHC.Types.Var.Set.html#mkDVarSet"><span class="hs-identifier hs-var">mkDVarSet</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506023"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621682506023"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506023"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506021"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-522"></span><span class="annot"><a href="GHC.Stg.Syntax.html#freeVarsOfRhs"><span class="hs-identifier hs-var">freeVarsOfRhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span id="local-6989586621682506024"><span class="annot"><span class="annottext">XRhsClosure pass
</span><a href="#local-6989586621682506024"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[BinderP pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DIdSet
XRhsClosure pass
</span><a href="#local-6989586621682506024"><span class="hs-identifier hs-var">fvs</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
STG case alternatives
*                                                                      *
************************************************************************

Very like in Core syntax (except no type-world stuff).

The type constructor is guaranteed not to be abstract; that is, we can see its
representation. This is important because the code generator uses it to
determine return conventions etc. But it's not trivial where there's a module
loop involved, because some versions of a type constructor might not have all
the constructors visible. So mkStgAlgAlts (in CoreToStg) ensures that it gets
the TyCon from the constructors or literals (which are guaranteed to have the
Real McCoy) rather than from the scrutinee type.
-}</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-keyword">data</span><span> </span><span id="GenStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-var">GenStgAlt</span></a></span></span><span> </span><span id="local-6989586621682505705"><span class="annot"><a href="#local-6989586621682505705"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GenStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-var">GenStgAlt</span></a></span></span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="alt_con"><span class="annot"><span class="annottext">forall (pass :: StgPass). GenStgAlt pass -&gt; AltCon
</span><a href="GHC.Stg.Syntax.html#alt_con"><span class="hs-identifier hs-var hs-var">alt_con</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Core.html#AltCon"><span class="hs-identifier hs-type">AltCon</span></a></span><span>            </span><span class="hs-comment">-- alts: data constructor,</span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="alt_bndrs"><span class="annot"><span class="annottext">forall (pass :: StgPass). GenStgAlt pass -&gt; [BinderP pass]
</span><a href="GHC.Stg.Syntax.html#alt_bndrs"><span class="hs-identifier hs-var hs-var">alt_bndrs</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505705"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- constructor's parameters,</span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="alt_rhs"><span class="annot"><span class="annottext">forall (pass :: StgPass). GenStgAlt pass -&gt; GenStgExpr pass
</span><a href="GHC.Stg.Syntax.html#alt_rhs"><span class="hs-identifier hs-var hs-var">alt_rhs</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505705"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- right-hand side.</span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-keyword">data</span><span> </span><span id="AltType"><span class="annot"><a href="GHC.Stg.Syntax.html#AltType"><span class="hs-identifier hs-var">AltType</span></a></span></span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PolyAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#PolyAlt"><span class="hs-identifier hs-var">PolyAlt</span></a></span></span><span>             </span><span class="hs-comment">-- Polymorphic (a boxed type variable, lifted or unlifted)</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MultiValAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#MultiValAlt"><span class="hs-identifier hs-var">MultiValAlt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>     </span><span class="hs-comment">-- Multi value of this arity (unboxed tuple or sum)</span><span>
</span><span id="line-551"></span><span>                        </span><span class="hs-comment">-- the arity could indeed be 1 for unary unboxed tuple</span><span>
</span><span id="line-552"></span><span>                        </span><span class="hs-comment">-- or enum-like unboxed sums</span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AlgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#AlgAlt"><span class="hs-identifier hs-var">AlgAlt</span></a></span></span><span>      </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>   </span><span class="hs-comment">-- Algebraic data type; the AltCons will be DataAlts</span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PrimAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#PrimAlt"><span class="hs-identifier hs-var">PrimAlt</span></a></span></span><span>     </span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span> </span><span class="hs-comment">-- Primitive data type; the AltCons (if any) will be LitAlts</span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
The Plain STG parameterisation
*                                                                      *
************************************************************************

  Note [STG Extension points]
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~
  We now make use of extension points in STG for different passes which want
  to associate information with AST nodes.

  Currently the pipeline is roughly:

  CoreToStg: Core -&gt; Stg
  StgSimpl: Stg -&gt; Stg
  CodeGen: Stg -&gt; Cmm

    As part of StgSimpl we run late lambda lifting (Ll).
    Late lambda lift:
    Stg -&gt; FvStg -&gt; LlStg -&gt; Stg

  CodeGen:
    As part of CodeGen we run tag inference.
    Tag Inference:
      Stg -&gt; Stg 'InferTaggedBinders` -&gt; Stg

    And at a last step we add the free Variables:
      Stg -&gt; CgStg

  Which finally CgStg being used to generate Cmm.

-}</span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span class="hs-keyword">type</span><span> </span><span id="StgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopBinding"><span class="hs-identifier hs-var">StgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>
</span><span id="line-591"></span><span class="hs-keyword">type</span><span> </span><span id="StgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#StgBinding"><span class="hs-identifier hs-var">StgBinding</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span>    </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>
</span><span id="line-592"></span><span class="hs-keyword">type</span><span> </span><span id="StgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#StgExpr"><span class="hs-identifier hs-var">StgExpr</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span>       </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>
</span><span id="line-593"></span><span class="hs-keyword">type</span><span> </span><span id="StgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhs"><span class="hs-identifier hs-var">StgRhs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>
</span><span id="line-594"></span><span class="hs-keyword">type</span><span> </span><span id="StgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#StgAlt"><span class="hs-identifier hs-var">StgAlt</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span class="hs-keyword">type</span><span> </span><span id="LlStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgTopBinding"><span class="hs-identifier hs-var">LlStgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>
</span><span id="line-597"></span><span class="hs-keyword">type</span><span> </span><span id="LlStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgBinding"><span class="hs-identifier hs-var">LlStgBinding</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span>    </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>
</span><span id="line-598"></span><span class="hs-keyword">type</span><span> </span><span id="LlStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgExpr"><span class="hs-identifier hs-var">LlStgExpr</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span>       </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>
</span><span id="line-599"></span><span class="hs-keyword">type</span><span> </span><span id="LlStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgRhs"><span class="hs-identifier hs-var">LlStgRhs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>
</span><span id="line-600"></span><span class="hs-keyword">type</span><span> </span><span id="LlStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#LlStgAlt"><span class="hs-identifier hs-var">LlStgAlt</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span class="hs-keyword">type</span><span> </span><span id="CgStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgTopBinding"><span class="hs-identifier hs-var">CgStgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-603"></span><span class="hs-keyword">type</span><span> </span><span id="CgStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgBinding"><span class="hs-identifier hs-var">CgStgBinding</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span>    </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-604"></span><span class="hs-keyword">type</span><span> </span><span id="CgStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgExpr"><span class="hs-identifier hs-var">CgStgExpr</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span>       </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-605"></span><span class="hs-keyword">type</span><span> </span><span id="CgStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgRhs"><span class="hs-identifier hs-var">CgStgRhs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-606"></span><span class="hs-keyword">type</span><span> </span><span id="CgStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgAlt"><span class="hs-identifier hs-var">CgStgAlt</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span class="hs-keyword">type</span><span> </span><span id="TgStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgTopBinding"><span class="hs-identifier hs-var">TgStgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-609"></span><span class="hs-keyword">type</span><span> </span><span id="TgStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgBinding"><span class="hs-identifier hs-var">TgStgBinding</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span>    </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-610"></span><span class="hs-keyword">type</span><span> </span><span id="TgStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgExpr"><span class="hs-identifier hs-var">TgStgExpr</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span>       </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-611"></span><span class="hs-keyword">type</span><span> </span><span id="TgStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgRhs"><span class="hs-identifier hs-var">TgStgRhs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-612"></span><span class="hs-keyword">type</span><span> </span><span id="TgStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#TgStgAlt"><span class="hs-identifier hs-var">TgStgAlt</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span>        </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="hs-comment">{- Many passes apply a substitution, and it's very handy to have type
   synonyms to remind us whether or not the substitution has been applied.
   See GHC.Core for precedence in Core land
-}</span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span class="hs-keyword">type</span><span> </span><span id="InStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgTopBinding"><span class="hs-identifier hs-var">InStgTopBinding</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopBinding"><span class="hs-identifier hs-type">StgTopBinding</span></a></span><span>
</span><span id="line-620"></span><span class="hs-keyword">type</span><span> </span><span id="InStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgBinding"><span class="hs-identifier hs-var">InStgBinding</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgBinding"><span class="hs-identifier hs-type">StgBinding</span></a></span><span>
</span><span id="line-621"></span><span class="hs-keyword">type</span><span> </span><span id="InStgArg"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgArg"><span class="hs-identifier hs-var">InStgArg</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span>
</span><span id="line-622"></span><span class="hs-keyword">type</span><span> </span><span id="InStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgExpr"><span class="hs-identifier hs-var">InStgExpr</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgExpr"><span class="hs-identifier hs-type">StgExpr</span></a></span><span>
</span><span id="line-623"></span><span class="hs-keyword">type</span><span> </span><span id="InStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgRhs"><span class="hs-identifier hs-var">InStgRhs</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhs"><span class="hs-identifier hs-type">StgRhs</span></a></span><span>
</span><span id="line-624"></span><span class="hs-keyword">type</span><span> </span><span id="InStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#InStgAlt"><span class="hs-identifier hs-var">InStgAlt</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgAlt"><span class="hs-identifier hs-type">StgAlt</span></a></span><span>
</span><span id="line-625"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgTopBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgTopBinding"><span class="hs-identifier hs-var">OutStgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopBinding"><span class="hs-identifier hs-type">StgTopBinding</span></a></span><span>
</span><span id="line-626"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgBinding"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgBinding"><span class="hs-identifier hs-var">OutStgBinding</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgBinding"><span class="hs-identifier hs-type">StgBinding</span></a></span><span>
</span><span id="line-627"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgArg"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgArg"><span class="hs-identifier hs-var">OutStgArg</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span>
</span><span id="line-628"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgExpr"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgExpr"><span class="hs-identifier hs-var">OutStgExpr</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgExpr"><span class="hs-identifier hs-type">StgExpr</span></a></span><span>
</span><span id="line-629"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgRhs"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgRhs"><span class="hs-identifier hs-var">OutStgRhs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhs"><span class="hs-identifier hs-type">StgRhs</span></a></span><span>
</span><span id="line-630"></span><span class="hs-keyword">type</span><span> </span><span id="OutStgAlt"><span class="annot"><a href="GHC.Stg.Syntax.html#OutStgAlt"><span class="hs-identifier hs-var">OutStgAlt</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgAlt"><span class="hs-identifier hs-type">StgAlt</span></a></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="hs-comment">-- | When `-fdistinct-constructor-tables` is turned on then</span><span>
</span><span id="line-633"></span><span class="hs-comment">-- each usage of a constructor is given an unique number and</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- an info table is generated for each different constructor.</span><span>
</span><span id="line-635"></span><span class="hs-keyword">data</span><span> </span><span id="ConstructorNumber"><span class="annot"><a href="GHC.Stg.Syntax.html#ConstructorNumber"><span class="hs-identifier hs-var">ConstructorNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-636"></span><span>      </span><span id="NoNumber"><span class="annot"><a href="GHC.Stg.Syntax.html#NoNumber"><span class="hs-identifier hs-var">NoNumber</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Numbered"><span class="annot"><a href="GHC.Stg.Syntax.html#Numbered"><span class="hs-identifier hs-var">Numbered</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#ConstructorNumber"><span class="hs-identifier hs-type">ConstructorNumber</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-639"></span><span>  </span><span id="local-6989586621682506039"><span class="annot"><span class="annottext">ppr :: ConstructorNumber -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="GHC.Stg.Syntax.html#NoNumber"><span class="hs-identifier hs-var">NoNumber</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-640"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#Numbered"><span class="hs-identifier hs-type">Numbered</span></a></span><span> </span><span id="local-6989586621682506040"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506040"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506040"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span class="hs-comment">{-
Note Stg Passes
~~~~~~~~~~~~~~~
Here is a short summary of the STG pipeline and where we use the different
StgPass data type indexes:

  1. CoreToStg.Prep performs several transformations that prepare the desugared
     and simplified core to be converted to STG. One of these transformations is
     making it so that value lambdas only exist as the RHS of a binding.
     See Note [CorePrep Overview].

  2. CoreToStg converts the prepared core to STG, specifically GenStg*
     parameterised by 'Vanilla. See the GHC.CoreToStg Module.

  3. Stg.Pipeline does a number of passes on the generated STG. One of these is
     the lambda-lifting pass, which internally uses the 'LiftLams
     parameterisation to store information for deciding whether or not to lift
     each binding.
     See Note [Late lambda lifting in STG].

  4. Tag inference takes in 'Vanilla and produces 'InferTagged STG, while using
     the InferTaggedBinders annotated AST internally.
     See Note [Tag Inference].

  5. Stg.FVs annotates closures with their free variables. To store these
     annotations we use the 'CodeGen parameterisation.
     See the GHC.Stg.FVs module.

  6. The Module Stg.StgToCmm generates Cmm from the CodeGen annotated STG.
-}</span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span>
</span><span id="line-674"></span><span class="annot"><span class="hs-comment">-- | Used as a data type index for the stgSyn AST</span></span><span>
</span><span id="line-675"></span><span class="hs-keyword">data</span><span> </span><span id="StgPass"><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier hs-var">StgPass</span></a></span></span><span>
</span><span id="line-676"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Vanilla"><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-var">Vanilla</span></a></span></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LiftLams"><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-var">LiftLams</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Use internally by the lambda lifting pass</span></span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InferTaggedBinders"><span class="annot"><a href="GHC.Stg.Syntax.html#InferTaggedBinders"><span class="hs-identifier hs-var">InferTaggedBinders</span></a></span></span><span> </span><span class="hs-comment">-- ^ Tag inference information on binders.</span><span>
</span><span id="line-679"></span><span>                       </span><span class="hs-comment">-- See Note [Tag inference passes] in GHC.Stg.InferTags</span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InferTagged"><span class="annot"><a href="GHC.Stg.Syntax.html#InferTagged"><span class="hs-identifier hs-var">InferTagged</span></a></span></span><span> </span><span class="hs-comment">-- ^ Tag inference information put on relevant StgApp nodes</span><span>
</span><span id="line-681"></span><span>                </span><span class="hs-comment">-- See Note [Tag inference passes] in GHC.Stg.InferTags</span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CodeGen"><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-var">CodeGen</span></a></span></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682506045"><span class="annot"><a href="#local-6989586621682506045"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier hs-type">StgPass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-685"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-686"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-687"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTagged"><span class="hs-identifier hs-type">InferTagged</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-688"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTaggedBinders"><span class="hs-identifier hs-type">InferTaggedBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html#TagSig"><span class="hs-identifier hs-type">TagSig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BinderP"><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-var">BinderP</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Lift.Types.html#BinderInfo"><span class="hs-identifier hs-type">BinderInfo</span></a></span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682506047"><span class="annot"><a href="#local-6989586621682506047"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier hs-type">StgPass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-693"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span>  </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#DIdSet"><span class="hs-identifier hs-type">DIdSet</span></a></span><span>
</span><span id="line-694"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTagged"><span class="hs-identifier hs-type">InferTagged</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-695"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTaggedBinders"><span class="hs-identifier hs-type">InferTaggedBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-type">XRhsClosure</span></a></span><span>  </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-696"></span><span class="annot"><span class="hs-comment">-- | Code gen needs to track non-global free vars</span></span><span>
</span><span id="line-697"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XRhsClosure"><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-var">XRhsClosure</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#DIdSet"><span class="hs-identifier hs-type">DIdSet</span></a></span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682506048"><span class="annot"><a href="#local-6989586621682506048"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier hs-type">StgPass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-701"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-702"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Lift.Types.html#Skeleton"><span class="hs-identifier hs-type">Skeleton</span></a></span><span>
</span><span id="line-703"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTagged"><span class="hs-identifier hs-type">InferTagged</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-704"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTaggedBinders"><span class="hs-identifier hs-type">InferTaggedBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-type">XLet</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-705"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLet"><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-var">XLet</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-706"></span><span>
</span><span id="line-707"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682506050"><span class="annot"><a href="#local-6989586621682506050"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPass"><span class="hs-identifier hs-type">StgPass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-709"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#LiftLams"><span class="hs-identifier hs-type">LiftLams</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Lift.Types.html#Skeleton"><span class="hs-identifier hs-type">Skeleton</span></a></span><span>
</span><span id="line-710"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTagged"><span class="hs-identifier hs-type">InferTagged</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-711"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#InferTaggedBinders"><span class="hs-identifier hs-type">InferTaggedBinders</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-type">XLetNoEscape</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>
</span><span id="line-712"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="XLetNoEscape"><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-var">XLetNoEscape</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="GHC.Stg.Syntax.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#NoExtFieldSilent"><span class="hs-identifier hs-type">NoExtFieldSilent</span></a></span><span>
</span><span id="line-713"></span><span>
</span><span id="line-714"></span><span class="hs-comment">{-

************************************************************************
*                                                                      *
UpdateFlag
*                                                                      *
************************************************************************

This is also used in @LambdaFormInfo@ in the @ClosureInfo@ module.

A @ReEntrant@ closure may be entered multiple times, but should not be updated
or blackholed. An @Updatable@ closure should be updated after evaluation (and
may be blackholed during evaluation). A @SingleEntry@ closure will only be
entered once, and so need not be updated but may safely be blackholed.
-}</span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateFlag"><span class="annot"><a href="GHC.Stg.Syntax.html#UpdateFlag"><span class="hs-identifier hs-var">UpdateFlag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ReEntrant"><span class="annot"><a href="GHC.Stg.Syntax.html#ReEntrant"><span class="hs-identifier hs-var">ReEntrant</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Updatable"><span class="annot"><a href="GHC.Stg.Syntax.html#Updatable"><span class="hs-identifier hs-var">Updatable</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SingleEntry"><span class="annot"><a href="GHC.Stg.Syntax.html#SingleEntry"><span class="hs-identifier hs-var">SingleEntry</span></a></span></span><span>
</span><span id="line-731"></span><span>
</span><span id="line-732"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#UpdateFlag"><span class="hs-identifier hs-type">UpdateFlag</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-733"></span><span>    </span><span id="local-6989586621682506054"><span class="annot"><span class="annottext">ppr :: UpdateFlag -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682506055"><span class="annot"><span class="annottext">UpdateFlag
</span><a href="#local-6989586621682506055"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; SDoc) -&gt; Char -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="#local-6989586621682506055"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-734"></span><span>                       </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#ReEntrant"><span class="hs-identifier hs-var">ReEntrant</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'r'</span></span><span>
</span><span id="line-735"></span><span>                       </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#Updatable"><span class="hs-identifier hs-var">Updatable</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'u'</span></span><span>
</span><span id="line-736"></span><span>                       </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#SingleEntry"><span class="hs-identifier hs-var">SingleEntry</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'s'</span></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isUpdatable"><span class="hs-identifier hs-type">isUpdatable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#UpdateFlag"><span class="hs-identifier hs-type">UpdateFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-739"></span><span id="isUpdatable"><span class="annot"><span class="annottext">isUpdatable :: UpdateFlag -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#isUpdatable"><span class="hs-identifier hs-var hs-var">isUpdatable</span></a></span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#ReEntrant"><span class="hs-identifier hs-var">ReEntrant</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-740"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isUpdatable"><span class="hs-identifier hs-var">isUpdatable</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#SingleEntry"><span class="hs-identifier hs-var">SingleEntry</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-741"></span><span class="annot"><a href="GHC.Stg.Syntax.html#isUpdatable"><span class="hs-identifier hs-var">isUpdatable</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="GHC.Stg.Syntax.html#Updatable"><span class="hs-identifier hs-var">Updatable</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
StgOp
*                                                                      *
************************************************************************

An StgOp allows us to group together PrimOps and ForeignCalls. It's quite useful
to move these around together, notably in StgOpApp and COpStmt.
-}</span><span>
</span><span id="line-753"></span><span>
</span><span id="line-754"></span><span class="hs-keyword">data</span><span> </span><span id="StgOp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier hs-var">StgOp</span></a></span></span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StgPrimOp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimOp"><span class="hs-identifier hs-var">StgPrimOp</span></a></span></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier hs-type">PrimOp</span></a></span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgPrimCallOp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimCallOp"><span class="hs-identifier hs-var">StgPrimCallOp</span></a></span></span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimCall"><span class="hs-identifier hs-type">PrimCall</span></a></span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StgFCallOp"><span class="annot"><a href="GHC.Stg.Syntax.html#StgFCallOp"><span class="hs-identifier hs-var">StgFCallOp</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#ForeignCall"><span class="hs-identifier hs-type">ForeignCall</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-760"></span><span>        </span><span class="hs-comment">-- The Type, which is obtained from the foreign import declaration</span><span>
</span><span id="line-761"></span><span>        </span><span class="hs-comment">-- itself, is needed by the stg-to-cmm pass to determine the offset to</span><span>
</span><span id="line-762"></span><span>        </span><span class="hs-comment">-- apply to unlifted boxed arguments in GHC.StgToCmm.Foreign. See Note</span><span>
</span><span id="line-763"></span><span>        </span><span class="hs-comment">-- [Unlifted boxed arguments to foreign calls]</span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
Pretty-printing
*                                                                      *
************************************************************************

Robin Popplestone asked for semi-colon separators on STG binds; here's hoping he
likes terminators instead...  Ditto for case alternatives.
-}</span><span>
</span><span id="line-775"></span><span>
</span><span id="line-776"></span><span class="hs-keyword">type</span><span> </span><span id="OutputablePass"><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-var">OutputablePass</span></a></span></span><span> </span><span id="local-6989586621682506060"><span class="annot"><a href="#local-6989586621682506060"><span class="hs-identifier hs-type">pass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XLet"><span class="hs-identifier hs-type">XLet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506060"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XLetNoEscape"><span class="hs-identifier hs-type">XLetNoEscape</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506060"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#XRhsClosure"><span class="hs-identifier hs-type">XRhsClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506060"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506060"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>
</span><span id="line-783"></span><span class="annot"><span class="hs-comment">-- | STG pretty-printing options</span></span><span>
</span><span id="line-784"></span><span class="hs-keyword">data</span><span> </span><span id="StgPprOpts"><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-var">StgPprOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StgPprOpts"><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-var">StgPprOpts</span></a></span></span><span>
</span><span id="line-785"></span><span>   </span><span class="hs-special">{</span><span> </span><span id="stgSccEnabled"><span class="annot"><span class="annottext">StgPprOpts -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#stgSccEnabled"><span class="hs-identifier hs-var hs-var">stgSccEnabled</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Enable cost-centres</span></span><span>
</span><span id="line-786"></span><span>   </span><span class="hs-special">}</span><span>
</span><span id="line-787"></span><span>
</span><span id="line-788"></span><span class="annot"><span class="hs-comment">-- | STG pretty-printing options used for panic messages</span></span><span>
</span><span id="line-789"></span><span class="annot"><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier hs-type">panicStgPprOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-790"></span><span id="panicStgPprOpts"><span class="annot"><span class="annottext">panicStgPprOpts :: StgPprOpts
</span><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier hs-var hs-var">panicStgPprOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-791"></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">stgSccEnabled :: Bool
</span><a href="GHC.Stg.Syntax.html#stgSccEnabled"><span class="hs-identifier hs-var">stgSccEnabled</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-792"></span><span>   </span><span class="hs-special">}</span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span class="annot"><span class="hs-comment">-- | STG pretty-printing options used for short messages</span></span><span>
</span><span id="line-795"></span><span class="annot"><a href="GHC.Stg.Syntax.html#shortStgPprOpts"><span class="hs-identifier hs-type">shortStgPprOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-796"></span><span id="shortStgPprOpts"><span class="annot"><span class="annottext">shortStgPprOpts :: StgPprOpts
</span><a href="GHC.Stg.Syntax.html#shortStgPprOpts"><span class="hs-identifier hs-var hs-var">shortStgPprOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-797"></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">stgSccEnabled :: Bool
</span><a href="GHC.Stg.Syntax.html#stgSccEnabled"><span class="hs-identifier hs-var">stgSccEnabled</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-798"></span><span>   </span><span class="hs-special">}</span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span id="local-6989586621682505713"><span class="annot"><a href="GHC.Stg.Syntax.html#pprGenStgTopBinding"><span class="hs-identifier hs-type">pprGenStgTopBinding</span></a></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505713"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505713"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-803"></span><span id="pprGenStgTopBinding"><span class="annot"><span class="annottext">pprGenStgTopBinding :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBinding"><span class="hs-identifier hs-var hs-var">pprGenStgTopBinding</span></a></span></span><span> </span><span id="local-6989586621682506071"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506071"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506072"><span class="annot"><span class="annottext">GenStgTopBinding pass
</span><a href="#local-6989586621682506072"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenStgTopBinding pass
</span><a href="#local-6989586621682506072"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-804"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopStringLit"><span class="hs-identifier hs-type">StgTopStringLit</span></a></span><span> </span><span id="local-6989586621682506073"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506073"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span id="local-6989586621682506074"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682506074"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">BindingSite -&gt; Id -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#LetBind"><span class="hs-identifier hs-var">LetBind</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506073"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprHsBytes"><span class="hs-identifier hs-var">pprHsBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682506074"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-805"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopLifted"><span class="hs-identifier hs-type">StgTopLifted</span></a></span><span> </span><span id="local-6989586621682506082"><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506082"><span class="hs-identifier hs-var">bind</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506071"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506082"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span id="local-6989586621682505723"><span class="annot"><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-type">pprGenStgBinding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505723"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505723"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-808"></span><span id="pprGenStgBinding"><span class="annot"><span class="annottext">pprGenStgBinding :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var hs-var">pprGenStgBinding</span></a></span></span><span> </span><span id="local-6989586621682506103"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506103"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506104"><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506104"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506104"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-809"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgNonRec"><span class="hs-identifier hs-type">StgNonRec</span></a></span><span> </span><span id="local-6989586621682506105"><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506105"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span id="local-6989586621682506106"><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506106"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">BindingSite -&gt; BinderP pass -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#LetBind"><span class="hs-identifier hs-var">LetBind</span></a></span><span> </span><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506105"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506103"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506106"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRec"><span class="hs-identifier hs-type">StgRec</span></a></span><span> </span><span id="local-6989586621682506107"><span class="annot"><span class="annottext">[(BinderP pass, GenStgRhs pass)]
</span><a href="#local-6989586621682506107"><span class="hs-identifier hs-var">pairs</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Rec {&quot;</span></span><span>
</span><span id="line-811"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((BinderP pass, GenStgRhs pass) -&gt; SDoc)
-&gt; [(BinderP pass, GenStgRhs pass)] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(BinderP pass, GenStgRhs pass) -&gt; SDoc
</span><a href="#local-6989586621682506110"><span class="hs-identifier hs-var">ppr_bind</span></a></span><span> </span><span class="annot"><span class="annottext">[(BinderP pass, GenStgRhs pass)]
</span><a href="#local-6989586621682506107"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-812"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;end Rec }&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-813"></span><span>                         </span><span class="hs-keyword">where</span><span>
</span><span id="line-814"></span><span>                           </span><span id="local-6989586621682506110"><span class="annot"><span class="annottext">ppr_bind :: (BinderP pass, GenStgRhs pass) -&gt; SDoc
</span><a href="#local-6989586621682506110"><span class="hs-identifier hs-var hs-var">ppr_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682506111"><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506111"><span class="hs-identifier hs-var">bndr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682506112"><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506112"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">BindingSite -&gt; BinderP pass -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#LetBind"><span class="hs-identifier hs-var">LetBind</span></a></span><span> </span><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506111"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-816"></span><span>                                    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506103"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506112"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-817"></span><span>
</span><span id="line-818"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682505734"><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505734"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505734"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-819"></span><span>  </span><span id="local-6989586621682506117"><span class="annot"><span class="annottext">ppr :: GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier hs-var">panicStgPprOpts</span></a></span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span id="local-6989586621682505735"><span class="annot"><a href="GHC.Stg.Syntax.html#pprGenStgTopBindings"><span class="hs-identifier hs-type">pprGenStgTopBindings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505735"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505735"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-822"></span><span id="pprGenStgTopBindings"><span class="annot"><span class="annottext">pprGenStgTopBindings :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; [GenStgTopBinding pass] -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBindings"><span class="hs-identifier hs-var hs-var">pprGenStgTopBindings</span></a></span></span><span> </span><span id="local-6989586621682506121"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506121"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506122"><span class="annot"><span class="annottext">[GenStgTopBinding pass]
</span><a href="#local-6989586621682506122"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenStgTopBinding pass -&gt; SDoc)
-&gt; [GenStgTopBinding pass] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBinding"><span class="hs-identifier hs-var">pprGenStgTopBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506121"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenStgTopBinding pass]
</span><a href="#local-6989586621682506122"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span id="local-6989586621682506123"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgBinding"><span class="hs-identifier hs-type">pprStgBinding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506123"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506123"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-826"></span><span id="pprStgBinding"><span class="annot"><span class="annottext">pprStgBinding :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgBinding"><span class="hs-identifier hs-var hs-var">pprStgBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span id="local-6989586621682506126"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgTopBinding"><span class="hs-identifier hs-type">pprStgTopBinding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506126"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506126"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-829"></span><span id="pprStgTopBinding"><span class="annot"><span class="annottext">pprStgTopBinding :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgTopBinding"><span class="hs-identifier hs-var hs-var">pprStgTopBinding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgTopBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBinding"><span class="hs-identifier hs-var">pprGenStgTopBinding</span></a></span><span>
</span><span id="line-830"></span><span>
</span><span id="line-831"></span><span id="local-6989586621682506129"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgTopBindings"><span class="hs-identifier hs-type">pprStgTopBindings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506129"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682506129"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-832"></span><span id="pprStgTopBindings"><span class="annot"><span class="annottext">pprStgTopBindings :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; [GenStgTopBinding pass] -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgTopBindings"><span class="hs-identifier hs-var hs-var">pprStgTopBindings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; [GenStgTopBinding pass] -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; [GenStgTopBinding pass] -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBindings"><span class="hs-identifier hs-var">pprGenStgTopBindings</span></a></span><span>
</span><span id="line-833"></span><span>
</span><span id="line-834"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprIdWithRep"><span class="hs-identifier hs-type">pprIdWithRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-835"></span><span id="pprIdWithRep"><span class="annot"><span class="annottext">pprIdWithRep :: Id -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprIdWithRep"><span class="hs-identifier hs-var hs-var">pprIdWithRep</span></a></span></span><span> </span><span id="local-6989586621682506133"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506133"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506133"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UnaryType -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprTypeRep"><span class="hs-identifier hs-var">pprTypeRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; UnaryType
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506133"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprTypeRep"><span class="hs-identifier hs-type">pprTypeRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-838"></span><span id="pprTypeRep"><span class="annot"><span class="annottext">pprTypeRep :: UnaryType -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprTypeRep"><span class="hs-identifier hs-var hs-var">pprTypeRep</span></a></span></span><span> </span><span id="local-6989586621682506135"><span class="annot"><span class="annottext">UnaryType
</span><a href="#local-6989586621682506135"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-839"></span><span>    </span><span class="annot"><span class="annottext">(SDocContext -&gt; Bool) -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppUnlessOption"><span class="hs-identifier hs-var">ppUnlessOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressStgReps"><span class="hs-identifier hs-var">sdocSuppressStgReps</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-840"></span><span>    </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; UnaryType -&gt; [PrimRep]
UnaryType -&gt; [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep"><span class="hs-identifier hs-var">typePrimRep</span></a></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><a href="#local-6989586621682506135"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-841"></span><span>                  </span><span class="hs-special">[</span><span id="local-6989586621682506138"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682506138"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimRep -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682506138"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-842"></span><span>                  </span><span id="local-6989586621682506139"><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621682506139"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[PrimRep] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621682506139"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>  </span><span id="local-6989586621682506142"><span class="annot"><span class="annottext">ppr :: StgArg -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier hs-var">pprStgArg</span></a></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier hs-type">pprStgArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-849"></span><span id="pprStgArg"><span class="annot"><span class="annottext">pprStgArg :: StgArg -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier hs-var hs-var">pprStgArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621682506143"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506143"><span class="hs-identifier hs-var">var</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprIdWithRep"><span class="hs-identifier hs-var">pprIdWithRep</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506143"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-850"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier hs-var">pprStgArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLitArg"><span class="hs-identifier hs-type">StgLitArg</span></a></span><span> </span><span id="local-6989586621682506144"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682506144"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682506144"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UnaryType -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprTypeRep"><span class="hs-identifier hs-var">pprTypeRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Literal -&gt; UnaryType
</span><a href="GHC.Types.Literal.html#literalType"><span class="hs-identifier hs-var">literalType</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682506144"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682505742"><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505742"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505742"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-853"></span><span>  </span><span id="local-6989586621682506149"><span class="annot"><span class="annottext">ppr :: GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier hs-var">panicStgPprOpts</span></a></span><span>
</span><span id="line-854"></span><span>
</span><span id="line-855"></span><span id="local-6989586621682505743"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-type">pprStgExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505743"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505743"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-856"></span><span id="pprStgExpr"><span class="annot"><span class="annottext">pprStgExpr :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var hs-var">pprStgExpr</span></a></span></span><span> </span><span id="local-6989586621682506234"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506235"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506235"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506235"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-857"></span><span>                           </span><span class="hs-comment">-- special case</span><span>
</span><span id="line-858"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLit"><span class="hs-identifier hs-type">StgLit</span></a></span><span> </span><span id="local-6989586621682506236"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682506236"><span class="hs-identifier hs-var">lit</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682506236"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-859"></span><span>                           </span><span class="hs-comment">-- general case</span><span>
</span><span id="line-860"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgApp"><span class="hs-identifier hs-type">StgApp</span></a></span><span> </span><span id="local-6989586621682506237"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506237"><span class="hs-identifier hs-var">func</span></a></span></span><span> </span><span id="local-6989586621682506238"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506238"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-861"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506238"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-862"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682506240"><span class="annot"><span class="annottext">TagSig
</span><a href="#local-6989586621682506240"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Maybe TagSig
</span><a href="GHC.Types.Id.html#idTagSig_maybe"><span class="hs-identifier hs-var">idTagSig_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506237"><span class="hs-identifier hs-var">func</span></a></span><span>
</span><span id="line-863"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506237"><span class="hs-identifier hs-var">func</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TagSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TagSig
</span><a href="#local-6989586621682506240"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-864"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682506237"><span class="hs-identifier hs-var">func</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[StgArg] -&gt; SDoc
forall a. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506238"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO: Print taggedness</span><span>
</span><span id="line-865"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgConApp"><span class="hs-identifier hs-type">StgConApp</span></a></span><span> </span><span id="local-6989586621682506243"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682506243"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621682506244"><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="#local-6989586621682506244"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682506245"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506245"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">[[PrimRep]]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682506243"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConstructorNumber -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="#local-6989586621682506244"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[StgArg] -&gt; SDoc
forall a. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506245"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-866"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOpApp"><span class="hs-identifier hs-type">StgOpApp</span></a></span><span> </span><span id="local-6989586621682506247"><span class="annot"><span class="annottext">StgOp
</span><a href="#local-6989586621682506247"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682506248"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506248"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">StgOp -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-var">pprStgOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgOp
</span><a href="#local-6989586621682506247"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[StgArg] -&gt; SDoc
forall a. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506248"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="hs-comment">-- special case: let v = &lt;very specific thing&gt;</span><span>
</span><span id="line-869"></span><span class="hs-comment">--               in</span><span>
</span><span id="line-870"></span><span class="hs-comment">--               let ...</span><span>
</span><span id="line-871"></span><span class="hs-comment">--               in</span><span>
</span><span id="line-872"></span><span class="hs-comment">--               ...</span><span>
</span><span id="line-873"></span><span class="hs-comment">--</span><span>
</span><span id="line-874"></span><span class="hs-comment">-- Very special!  Suspicious! (SLPJ)</span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span class="hs-comment">{-
   StgLet srt (StgNonRec bndr (StgRhsClosure cc bi free_vars upd_flag args rhs))
                        expr@(StgLet _ _))
   -&gt; ($$)
      (hang (hcat [text &quot;let { &quot;, ppr bndr, text &quot; = &quot;,
                          ppr cc,
                          pp_binder_info bi,
                          text &quot; [&quot;, whenPprDebug (interppSP free_vars), text &quot;] \\&quot;,
                          ppr upd_flag, text &quot; [&quot;,
                          interppSP args, char ']'])
            8 (sep [hsep [ppr rhs, text &quot;} in&quot;]]))
      (ppr expr)
-}</span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span>   </span><span class="hs-comment">-- special case: let ... in let ...</span><span>
</span><span id="line-891"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLet"><span class="hs-identifier hs-type">StgLet</span></a></span><span> </span><span id="local-6989586621682506250"><span class="annot"><span class="annottext">XLet pass
</span><a href="#local-6989586621682506250"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span id="local-6989586621682506251"><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506251"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621682506252"><span class="annot"><span class="annottext">expr :: GenStgExpr pass
</span><a href="#local-6989586621682506252"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLet"><span class="hs-identifier hs-type">StgLet</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">($$)</span></a></span><span>
</span><span id="line-892"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XLet pass -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">XLet pass
</span><a href="#local-6989586621682506250"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>                </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506251"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;} in&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-894"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506252"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span>   </span><span class="hs-comment">-- general case</span><span>
</span><span id="line-897"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLet"><span class="hs-identifier hs-type">StgLet</span></a></span><span> </span><span id="local-6989586621682506256"><span class="annot"><span class="annottext">XLet pass
</span><a href="#local-6989586621682506256"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span id="local-6989586621682506257"><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506257"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621682506258"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506258"><span class="hs-identifier hs-var">expr</span></a></span></span><span>
</span><span id="line-898"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XLet pass -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">XLet pass
</span><a href="#local-6989586621682506256"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>                    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506257"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;} in &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506258"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-901"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-902"></span><span>
</span><span id="line-903"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLetNoEscape"><span class="hs-identifier hs-type">StgLetNoEscape</span></a></span><span> </span><span id="local-6989586621682506259"><span class="annot"><span class="annottext">XLetNoEscape pass
</span><a href="#local-6989586621682506259"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span id="local-6989586621682506260"><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506260"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621682506261"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506261"><span class="hs-identifier hs-var">expr</span></a></span></span><span>
</span><span id="line-904"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let-no-escape&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XLetNoEscape pass -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">XLetNoEscape pass
</span><a href="#local-6989586621682506259"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;{&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-905"></span><span>                    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgBinding pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgBinding"><span class="hs-identifier hs-var">pprGenStgBinding</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding pass
</span><a href="#local-6989586621682506260"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;} in &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506261"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-907"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTick"><span class="hs-identifier hs-type">StgTick</span></a></span><span> </span><span id="local-6989586621682506262"><span class="annot"><span class="annottext">StgTickish
</span><a href="#local-6989586621682506262"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span id="local-6989586621682506263"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506263"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SDocContext -&gt; Bool) -&gt; (Bool -&gt; SDoc) -&gt; SDoc
forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressTicks"><span class="hs-identifier hs-var">sdocSuppressTicks</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; SDoc) -&gt; SDoc) -&gt; (Bool -&gt; SDoc) -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-910"></span><span>      </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506263"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-911"></span><span>      </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">StgTickish -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">StgTickish
</span><a href="#local-6989586621682506262"><span class="hs-identifier hs-var">tickish</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506263"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span>   </span><span class="hs-comment">-- Don't indent for a single case alternative.</span><span>
</span><span id="line-914"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgCase"><span class="hs-identifier hs-type">StgCase</span></a></span><span> </span><span id="local-6989586621682506266"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506266"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span id="local-6989586621682506267"><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506267"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span id="local-6989586621682506268"><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682506268"><span class="hs-identifier hs-var">alt_type</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682506269"><span class="annot"><span class="annottext">GenStgAlt pass
</span><a href="#local-6989586621682506269"><span class="hs-identifier hs-var">alt</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-915"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case&quot;</span></span><span>
</span><span id="line-916"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506266"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-917"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsOutput doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#whenPprDebug"><span class="hs-identifier hs-var">whenPprDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AltType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682506268"><span class="hs-identifier hs-var">alt_type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>                                  </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;of&quot;</span></span><span>
</span><span id="line-920"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BindingSite -&gt; BinderP pass -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#CaseBind"><span class="hs-identifier hs-var">CaseBind</span></a></span><span> </span><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506267"><span class="hs-identifier hs-var">bndr</span></a></span><span>
</span><span id="line-921"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'{'</span></span><span>
</span><span id="line-922"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-923"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; Bool -&gt; GenStgAlt pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; Bool -&gt; GenStgAlt pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgAlt"><span class="hs-identifier hs-var">pprStgAlt</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">GenStgAlt pass
</span><a href="#local-6989586621682506269"><span class="hs-identifier hs-var">alt</span></a></span><span>
</span><span id="line-924"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'}'</span></span><span>
</span><span id="line-925"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-926"></span><span>
</span><span id="line-927"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgCase"><span class="hs-identifier hs-type">StgCase</span></a></span><span> </span><span id="local-6989586621682506274"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506274"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span id="local-6989586621682506275"><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506275"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span id="local-6989586621682506276"><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682506276"><span class="hs-identifier hs-var">alt_type</span></a></span></span><span> </span><span id="local-6989586621682506277"><span class="annot"><span class="annottext">[GenStgAlt pass]
</span><a href="#local-6989586621682506277"><span class="hs-identifier hs-var">alts</span></a></span></span><span>
</span><span id="line-928"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case&quot;</span></span><span>
</span><span id="line-929"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506274"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-930"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsOutput doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#whenPprDebug"><span class="hs-identifier hs-var">whenPprDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AltType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621682506276"><span class="hs-identifier hs-var">alt_type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-931"></span><span>                                  </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;of&quot;</span></span><span>
</span><span id="line-933"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BindingSite -&gt; BinderP pass -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#CaseBind"><span class="hs-identifier hs-var">CaseBind</span></a></span><span> </span><span class="annot"><span class="annottext">BinderP pass
</span><a href="#local-6989586621682506275"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'{'</span></span><span>
</span><span id="line-934"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-935"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenStgAlt pass -&gt; SDoc) -&gt; [GenStgAlt pass] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; Bool -&gt; GenStgAlt pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; Bool -&gt; GenStgAlt pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgAlt"><span class="hs-identifier hs-var">pprStgAlt</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506234"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenStgAlt pass]
</span><a href="#local-6989586621682506277"><span class="hs-identifier hs-var">alts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-936"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'}'</span></span><span>
</span><span id="line-937"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-938"></span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span id="local-6989586621682505759"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgAlt"><span class="hs-identifier hs-type">pprStgAlt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505759"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505759"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-941"></span><span id="pprStgAlt"><span class="annot"><span class="annottext">pprStgAlt :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; Bool -&gt; GenStgAlt pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgAlt"><span class="hs-identifier hs-var hs-var">pprStgAlt</span></a></span></span><span> </span><span id="local-6989586621682506293"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506293"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506294"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682506294"><span class="hs-identifier hs-var">indent</span></a></span></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span class="hs-special">{</span><span id="local-6989586621682506295"><span class="annot"><span class="annottext">AltCon
alt_con :: forall (pass :: StgPass). GenStgAlt pass -&gt; AltCon
alt_con :: AltCon
</span><a href="GHC.Stg.Syntax.html#alt_con"><span class="hs-identifier hs-var hs-var">alt_con</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682506296"><span class="annot"><span class="annottext">[BinderP pass]
alt_bndrs :: forall (pass :: StgPass). GenStgAlt pass -&gt; [BinderP pass]
alt_bndrs :: [BinderP pass]
</span><a href="GHC.Stg.Syntax.html#alt_bndrs"><span class="hs-identifier hs-var hs-var">alt_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682506297"><span class="annot"><span class="annottext">GenStgExpr pass
alt_rhs :: forall (pass :: StgPass). GenStgAlt pass -&gt; GenStgExpr pass
alt_rhs :: GenStgExpr pass
</span><a href="GHC.Stg.Syntax.html#alt_rhs"><span class="hs-identifier hs-var hs-var">alt_rhs</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682506294"><span class="hs-identifier hs-var">indent</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621682506298"><span class="hs-identifier hs-var">altPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506293"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506297"><span class="hs-identifier hs-var">alt_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621682506298"><span class="hs-identifier hs-var">altPattern</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506293"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506297"><span class="hs-identifier hs-var">alt_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-944"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-945"></span><span>      </span><span id="local-6989586621682506298"><span class="annot"><span class="annottext">altPattern :: SDoc
</span><a href="#local-6989586621682506298"><span class="hs-identifier hs-var hs-var">altPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">AltCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">AltCon
</span><a href="#local-6989586621682506295"><span class="hs-identifier hs-var">alt_con</span></a></span><span>
</span><span id="line-946"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BinderP pass -&gt; SDoc) -&gt; [BinderP pass] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BindingSite -&gt; BinderP pass -&gt; SDoc
forall a. OutputableBndr a =&gt; BindingSite -&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var">pprBndr</span></a></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><a href="GHC.Utils.Outputable.html#CasePatBind"><span class="hs-identifier hs-var">CasePatBind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[BinderP pass]
</span><a href="#local-6989586621682506296"><span class="hs-identifier hs-var">alt_bndrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-947"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span>
</span><span id="line-948"></span><span>                        </span><span class="hs-special">]</span><span>
</span><span id="line-949"></span><span>
</span><span id="line-950"></span><span>
</span><span id="line-951"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-type">pprStgOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier hs-type">StgOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-952"></span><span id="pprStgOp"><span class="annot"><span class="annottext">pprStgOp :: StgOp -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-var hs-var">pprStgOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimOp"><span class="hs-identifier hs-type">StgPrimOp</span></a></span><span>  </span><span id="local-6989586621682506300"><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682506300"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOp -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682506300"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-953"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-var">pprStgOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimCallOp"><span class="hs-identifier hs-type">StgPrimCallOp</span></a></span><span> </span><span id="local-6989586621682506301"><span class="annot"><span class="annottext">PrimCall
</span><a href="#local-6989586621682506301"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimCall -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PrimCall
</span><a href="#local-6989586621682506301"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-954"></span><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-var">pprStgOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgFCallOp"><span class="hs-identifier hs-type">StgFCallOp</span></a></span><span> </span><span id="local-6989586621682506302"><span class="annot"><span class="annottext">ForeignCall
</span><a href="#local-6989586621682506302"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignCall -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignCall
</span><a href="#local-6989586621682506302"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier hs-type">StgOp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-957"></span><span>  </span><span id="local-6989586621682506305"><span class="annot"><span class="annottext">ppr :: StgOp -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgOp -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgOp"><span class="hs-identifier hs-var">pprStgOp</span></a></span><span>
</span><span id="line-958"></span><span>
</span><span id="line-959"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#AltType"><span class="hs-identifier hs-type">AltType</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-960"></span><span>  </span><span id="local-6989586621682506318"><span class="annot"><span class="annottext">ppr :: AltType -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><span class="annottext">AltType
</span><a href="GHC.Stg.Syntax.html#PolyAlt"><span class="hs-identifier hs-var">PolyAlt</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Polymorphic&quot;</span></span><span>
</span><span id="line-961"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#MultiValAlt"><span class="hs-identifier hs-type">MultiValAlt</span></a></span><span> </span><span id="local-6989586621682506319"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506319"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MultiAlt&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506319"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-962"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#AlgAlt"><span class="hs-identifier hs-type">AlgAlt</span></a></span><span> </span><span id="local-6989586621682506320"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682506320"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Alg&quot;</span></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682506320"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-963"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#PrimAlt"><span class="hs-identifier hs-type">PrimAlt</span></a></span><span> </span><span id="local-6989586621682506321"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682506321"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Prim&quot;</span></span><span>   </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682506321"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span id="local-6989586621682505728"><span class="annot"><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-type">pprStgRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505728"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505728"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-966"></span><span id="pprStgRhs"><span class="annot"><span class="annottext">pprStgRhs :: forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var hs-var">pprStgRhs</span></a></span></span><span> </span><span id="local-6989586621682506351"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506351"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621682506352"><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506352"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenStgRhs pass
</span><a href="#local-6989586621682506352"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-967"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span id="local-6989586621682506353"><span class="annot"><span class="annottext">XRhsClosure pass
</span><a href="#local-6989586621682506353"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span id="local-6989586621682506354"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682506354"><span class="hs-identifier hs-var">cc</span></a></span></span><span> </span><span id="local-6989586621682506355"><span class="annot"><span class="annottext">UpdateFlag
</span><a href="#local-6989586621682506355"><span class="hs-identifier hs-var">upd_flag</span></a></span></span><span> </span><span id="local-6989586621682506356"><span class="annot"><span class="annottext">[BinderP pass]
</span><a href="#local-6989586621682506356"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682506357"><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506357"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-968"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#stgSccEnabled"><span class="hs-identifier hs-var">stgSccEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506351"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CostCentreStack -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682506354"><span class="hs-identifier hs-var">cc</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-969"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(SDocContext -&gt; Bool) -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppUnlessOption"><span class="hs-identifier hs-var">ppUnlessOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressStgExts"><span class="hs-identifier hs-var">sdocSuppressStgExts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRhsClosure pass -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">XRhsClosure pass
</span><a href="#local-6989586621682506353"><span class="hs-identifier hs-var">ext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\\'</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateFlag -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><a href="#local-6989586621682506355"><span class="hs-identifier hs-var">upd_flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[BinderP pass] -&gt; SDoc
forall a. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a></span><span> </span><span class="annot"><span class="annottext">[BinderP pass]
</span><a href="#local-6989586621682506356"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span>                    </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span>              </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506351"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621682506357"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-973"></span><span>
</span><span id="line-974"></span><span>   </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-type">StgRhsCon</span></a></span><span> </span><span id="local-6989586621682506359"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682506359"><span class="hs-identifier hs-var">cc</span></a></span></span><span> </span><span id="local-6989586621682506360"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682506360"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621682506361"><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="#local-6989586621682506361"><span class="hs-identifier hs-var">mid</span></a></span></span><span> </span><span id="local-6989586621682506362"><span class="annot"><span class="annottext">[StgTickish]
</span><a href="#local-6989586621682506362"><span class="hs-identifier hs-var">_ticks</span></a></span></span><span> </span><span id="local-6989586621682506363"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506363"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">UnaryType
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-975"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#stgSccEnabled"><span class="hs-identifier hs-var">stgSccEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621682506351"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CostCentreStack -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682506359"><span class="hs-identifier hs-var">cc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#space"><span class="hs-identifier hs-var">space</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-976"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="#local-6989586621682506361"><span class="hs-identifier hs-var">mid</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-977"></span><span>                  </span><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="GHC.Stg.Syntax.html#NoNumber"><span class="hs-identifier hs-var">NoNumber</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-978"></span><span>                  </span><span class="annot"><a href="GHC.Stg.Syntax.html#Numbered"><span class="hs-identifier hs-type">Numbered</span></a></span><span> </span><span id="local-6989586621682506366"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506366"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682506366"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#space"><span class="hs-identifier hs-var">space</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-979"></span><span>              </span><span class="hs-comment">-- The bang indicates this is an StgRhsCon instead of an StgConApp.</span><span>
</span><span id="line-980"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682506360"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;! &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(StgArg -&gt; SDoc) -&gt; [StgArg] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgArg"><span class="hs-identifier hs-var">pprStgArg</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682506363"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682505763"><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505763"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682505763"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-983"></span><span>  </span><span id="local-6989586621682506371"><span class="annot"><span class="annottext">ppr :: GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="GHC.Stg.Syntax.html#panicStgPprOpts"><span class="hs-identifier hs-var">panicStgPprOpts</span></a></span><span>
</span><span id="line-984"></span></pre></body></html>