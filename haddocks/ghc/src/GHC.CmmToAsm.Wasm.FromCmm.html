<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE MultiWayIf #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE Strict #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UnboxedTuples #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-unrecognised-pragmas #-}</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# HLINT ignore &quot;Use camelCase&quot; #-}</span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html"><span class="hs-identifier">GHC.CmmToAsm.Wasm.FromCmm</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier">alignmentFromWordType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#globalInfoFromCmmGlobalReg"><span class="hs-identifier">globalInfoFromCmmGlobalReg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#supportedCmmGlobalRegs"><span class="hs-identifier">supportedCmmGlobalRegs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmGroup"><span class="hs-identifier">onCmmGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">where</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Control.Monad.html/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../bytestring-0.12.1.0-f8cd/src//Data.ByteString.html/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Foldable.html/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Functor.html/Data.Functor.html"><span class="hs-identifier">Data.Functor</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.Word64Set.html"><span class="hs-identifier">GHC.Data.Word64Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WS</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Semigroup.html/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.String.html/Data.String.html"><span class="hs-identifier">Data.String</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Traversable.html/Data.Traversable.html"><span class="hs-identifier">Data.Traversable</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Type.Equality.html/Data.Type.Equality.html"><span class="hs-identifier">Data.Type.Equality</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.html"><span class="hs-identifier">GHC.Cmm</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html"><span class="hs-identifier">GHC.Cmm.BlockId</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html"><span class="hs-identifier">GHC.Cmm.CLabel</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html"><span class="hs-identifier">GHC.Cmm.Dataflow.Block</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Label.html"><span class="hs-identifier">GHC.Cmm.Dataflow.Label</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.InitFini.html"><span class="hs-identifier">GHC.Cmm.InitFini</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html"><span class="hs-identifier">GHC.CmmToAsm.Wasm.Types</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Utils.html"><span class="hs-identifier">GHC.CmmToAsm.Wasm.Utils</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//GHC.Float.html/GHC.Float.html"><span class="hs-identifier">GHC.Float</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.CgUtils.html"><span class="hs-identifier">GHC.StgToCmm.CgUtils</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html"><span class="hs-identifier">GHC.Types.Unique.Map</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Supply.html"><span class="hs-identifier">GHC.Types.Unique.Supply</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator">(&lt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Wasm.ControlFlow.FromCmm.html"><span class="hs-identifier">GHC.Wasm.ControlFlow.FromCmm</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">-- | Calculate the wasm representation type from a 'CmmType'. This is</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- a lossy conversion, and sometimes we need to pass the original</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- 'CmmType' or at least its 'Width' around, so to properly add</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- subword truncation or extension logic.</span><span>
</span><span id="line-60"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-type">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span>
</span><span id="line-61"></span><span id="someWasmTypeFromCmmType"><span class="annot"><span class="annottext">someWasmTypeFromCmmType :: CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var hs-var">someWasmTypeFromCmmType</span></a></span></span><span> </span><span id="local-6989586621682675346"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isWord32"><span class="hs-identifier hs-var">isWord32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isWord64"><span class="hs-identifier hs-var">isWord64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#cmmEqType"><span class="hs-operator hs-var">`cmmEqType`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#cmmEqType"><span class="hs-operator hs-var">`cmmEqType`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloat64"><span class="hs-identifier hs-var">isFloat64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloat32"><span class="hs-identifier hs-var">isFloat32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-69"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SomeWasmType
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SomeWasmType) -&gt; String -&gt; SomeWasmType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;someWasmTypeFromCmmType: unsupported CmmType &quot;</span></span><span>
</span><span id="line-71"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; SDoc -&gt; String
</span><a href="GHC.Utils.Outputable.html#showSDocOneLine"><span class="hs-identifier hs-var">showSDocOneLine</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext
</span><a href="GHC.Utils.Outputable.html#defaultSDocContext"><span class="hs-identifier hs-var">defaultSDocContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675346"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- | Calculate the optional memory narrowing of a 'CmmLoad' or</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- 'CmmStore'.</span><span>
</span><span id="line-75"></span><span id="local-6989586621682674793"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-type">wasmMemoryNarrowing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674793"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-76"></span><span id="wasmMemoryNarrowing"><span class="annot"><span class="annottext">wasmMemoryNarrowing :: forall (t :: WasmType). WasmTypeTag t -&gt; CmmType -&gt; Maybe Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-var hs-var">wasmMemoryNarrowing</span></a></span></span><span> </span><span id="local-6989586621682675368"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675368"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682675369"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675369"><span class="hs-identifier hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675368"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675369"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">(# WasmTypeTag t, Width #)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Int
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wasmMemoryNarrowing: unreachable&quot;</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | Despite this is used by the WebAssembly native codegen, we use</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- 'pprCLabel' instead of 'pprAsmLabel' when emitting the textual</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- symbol name. Either one would work, but 'pprCLabel' makes the</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- output assembly code looks closer to the unregisterised codegen</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- output, which can be handy when using the unregisterised codegen as</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- a source of truth when debugging the native codegen.</span><span>
</span><span id="line-94"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-type">symNameFromCLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span>
</span><span id="line-95"></span><span id="symNameFromCLabel"><span class="annot"><span class="annottext">symNameFromCLabel :: CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var hs-var">symNameFromCLabel</span></a></span></span><span> </span><span id="local-6989586621682675392"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675392"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><span class="annottext">SDocContext -&gt; SDoc -&gt; String
</span><a href="GHC.Utils.Outputable.html#showSDocOneLine"><span class="hs-identifier hs-var">showSDocOneLine</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext
</span><a href="GHC.Utils.Outputable.html#defaultSDocContext"><span class="hs-identifier hs-var">defaultSDocContext</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.Utils.Outputable.html#sdocStyle"><span class="hs-identifier hs-var">sdocStyle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PprCode"><span class="hs-identifier hs-type">PprCode</span></a></span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; String) -&gt; SDoc -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-98"></span><span>      </span><span class="annot"><span class="annottext">Platform -&gt; CLabel -&gt; SDoc
forall doc. IsLine doc =&gt; Platform -&gt; CLabel -&gt; doc
</span><a href="GHC.Cmm.CLabel.html#pprCLabel"><span class="hs-identifier hs-var">pprCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="GHC.Platform.html#genericPlatform"><span class="hs-identifier hs-var">genericPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675392"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- | Calculate a symbol's visibility.</span></span><span>
</span><span id="line-101"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symVisibilityFromCLabel"><span class="hs-identifier hs-type">symVisibilityFromCLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymVisibility"><span class="hs-identifier hs-type">SymVisibility</span></a></span><span>
</span><span id="line-102"></span><span id="symVisibilityFromCLabel"><span class="annot"><span class="annottext">symVisibilityFromCLabel :: CLabel -&gt; SymVisibility
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symVisibilityFromCLabel"><span class="hs-identifier hs-var hs-var">symVisibilityFromCLabel</span></a></span></span><span> </span><span id="local-6989586621682675397"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675397"><span class="hs-identifier hs-var">lbl</span></a></span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Bool
</span><a href="GHC.Cmm.CLabel.html#externallyVisibleCLabel"><span class="hs-identifier hs-var">externallyVisibleCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675397"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymVisibility
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymDefault"><span class="hs-identifier hs-var">SymDefault</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymVisibility
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymStatic"><span class="hs-identifier hs-var">SymStatic</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | Calculate a symbol's kind, see haddock docs of 'SymKind' for more</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- explanation.</span><span>
</span><span id="line-108"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symKindFromCLabel"><span class="hs-identifier hs-type">symKindFromCLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymKind"><span class="hs-identifier hs-type">SymKind</span></a></span><span>
</span><span id="line-109"></span><span id="symKindFromCLabel"><span class="annot"><span class="annottext">symKindFromCLabel :: CLabel -&gt; SymKind
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symKindFromCLabel"><span class="hs-identifier hs-var hs-var">symKindFromCLabel</span></a></span></span><span> </span><span id="local-6989586621682675402"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675402"><span class="hs-identifier hs-var">lbl</span></a></span></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Bool
</span><a href="GHC.Cmm.CLabel.html#isCFunctionLabel"><span class="hs-identifier hs-var">isCFunctionLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675402"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymFunc"><span class="hs-identifier hs-var">SymFunc</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymData"><span class="hs-identifier hs-var">SymData</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | Calculate a data section's kind, see haddock docs of</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- 'DataSectionKind' for more explanation.</span><span>
</span><span id="line-115"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#dataSectionKindFromCmmSection"><span class="hs-identifier hs-type">dataSectionKindFromCmmSection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionKind"><span class="hs-identifier hs-type">DataSectionKind</span></a></span><span>
</span><span id="line-116"></span><span id="dataSectionKindFromCmmSection"><span class="annot"><span class="annottext">dataSectionKindFromCmmSection :: Section -&gt; DataSectionKind
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#dataSectionKindFromCmmSection"><span class="hs-identifier hs-var hs-var">dataSectionKindFromCmmSection</span></a></span></span><span> </span><span id="local-6989586621682675407"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682675407"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Section -&gt; SectionProtection
</span><a href="GHC.Cmm.html#sectionProtection"><span class="hs-identifier hs-var">sectionProtection</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682675407"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="annottext">SectionProtection
</span><a href="GHC.Cmm.html#ReadWriteSection"><span class="hs-identifier hs-var">ReadWriteSection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SectionData"><span class="hs-identifier hs-var">SectionData</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><span class="annottext">SectionProtection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SectionROData"><span class="hs-identifier hs-var">SectionROData</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Calculate the natural alignment size given the platform word</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- type.</span><span>
</span><span id="line-122"></span><span id="local-6989586621682674806"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier hs-type">alignmentFromWordType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674806"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span></span><span>
</span><span id="line-123"></span><span id="alignmentFromWordType"><span class="annot"><span class="annottext">alignmentFromWordType :: forall (w :: WasmType). WasmTypeTag w -&gt; Alignment
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier hs-var hs-var">alignmentFromWordType</span></a></span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-124"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier hs-var">alignmentFromWordType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-125"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier hs-var">alignmentFromWordType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Alignment
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;alignmentFromWordType: unreachable&quot;</span></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | Calculate a data section's alignment. As a conservative</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- optimization, a data section with a single CmmString/CmmFileEmbed</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- has no alignment requirement, otherwise we always align to the word</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- size to satisfy pointer tagging requirements and avoid unaligned</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- loads/stores.</span><span>
</span><span id="line-132"></span><span id="local-6989586621682674809"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromCmmSection"><span class="hs-identifier hs-type">alignmentFromCmmSection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674809"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionContent"><span class="hs-identifier hs-type">DataSectionContent</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span></span><span>
</span><span id="line-133"></span><span id="alignmentFromCmmSection"><span class="annot"><span class="annottext">alignmentFromCmmSection :: forall (w :: WasmType).
WasmTypeTag w -&gt; [DataSectionContent] -&gt; Alignment
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromCmmSection"><span class="hs-identifier hs-var hs-var">alignmentFromCmmSection</span></a></span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataASCII"><span class="hs-identifier hs-type">DataASCII</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-134"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromCmmSection"><span class="hs-identifier hs-var">alignmentFromCmmSection</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataIncBin"><span class="hs-identifier hs-type">DataIncBin</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-135"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromCmmSection"><span class="hs-identifier hs-var">alignmentFromCmmSection</span></a></span><span> </span><span id="local-6989586621682675420"><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682675420"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">[DataSectionContent]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; Alignment
forall (w :: WasmType). WasmTypeTag w -&gt; Alignment
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromWordType"><span class="hs-identifier hs-var">alignmentFromWordType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682675420"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmStatic'.</span></span><span>
</span><span id="line-138"></span><span id="local-6989586621682674813"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStatic"><span class="hs-identifier hs-type">lower_CmmStatic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmStatic"><span class="hs-identifier hs-type">CmmStatic</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674813"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSectionContent"><span class="hs-identifier hs-type">DataSectionContent</span></a></span></span><span>
</span><span id="line-139"></span><span id="lower_CmmStatic"><span class="annot"><span class="annottext">lower_CmmStatic :: forall (w :: WasmType).
CmmStatic -&gt; WasmCodeGenM w DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStatic"><span class="hs-identifier hs-var hs-var">lower_CmmStatic</span></a></span></span><span> </span><span id="local-6989586621682675449"><span class="annot"><span class="annottext">CmmStatic
</span><a href="#local-6989586621682675449"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmStatic
</span><a href="#local-6989586621682675449"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682675452"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675452"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataI8"><span class="hs-identifier hs-var">DataI8</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; DataSectionContent) -&gt; Word8 -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word8
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word8) -&gt; Integer -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.Cmm.Type.html#narrowU"><span class="hs-identifier hs-var">narrowU</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675452"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682675455"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675455"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataI16"><span class="hs-identifier hs-var">DataI16</span></a></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; DataSectionContent) -&gt; Word16 -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word16
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word16) -&gt; Integer -&gt; Word16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.Cmm.Type.html#narrowU"><span class="hs-identifier hs-var">narrowU</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675455"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682675457"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675457"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataI32"><span class="hs-identifier hs-var">DataI32</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; DataSectionContent) -&gt; Word32 -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word32
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word32) -&gt; Integer -&gt; Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.Cmm.Type.html#narrowU"><span class="hs-identifier hs-var">narrowU</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675457"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682675459"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675459"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataI64"><span class="hs-identifier hs-var">DataI64</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DataSectionContent) -&gt; Word64 -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word64) -&gt; Integer -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.Cmm.Type.html#narrowU"><span class="hs-identifier hs-var">narrowU</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682675459"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-type">CmmFloat</span></a></span><span> </span><span id="local-6989586621682675462"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682675462"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataF32"><span class="hs-identifier hs-var">DataF32</span></a></span><span> </span><span class="annot"><span class="annottext">(Float -&gt; DataSectionContent) -&gt; Float -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682675462"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-type">CmmFloat</span></a></span><span> </span><span id="local-6989586621682675464"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682675464"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataF64"><span class="hs-identifier hs-var">DataF64</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; DataSectionContent) -&gt; Double -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682675464"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span id="local-6989586621682675467"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675467"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">CLabel -&gt; WasmCodeGenM w ()
forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-var">onAnySym</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675467"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">WasmCodeGenM w ()
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SymName -&gt; Int -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataSym"><span class="hs-identifier hs-var">DataSym</span></a></span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675467"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-151"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabelOff"><span class="hs-identifier hs-type">CmmLabelOff</span></a></span><span> </span><span id="local-6989586621682675472"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675472"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675473"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675473"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">CLabel -&gt; WasmCodeGenM w ()
forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-var">onAnySym</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675472"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="annottext">WasmCodeGenM w ()
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SymName -&gt; Int -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataSym"><span class="hs-identifier hs-var">DataSym</span></a></span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675472"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675473"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmUninitialised"><span class="hs-identifier hs-type">CmmUninitialised</span></a></span><span> </span><span id="local-6989586621682675475"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675475"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataSkip"><span class="hs-identifier hs-var">DataSkip</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675475"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmString"><span class="hs-identifier hs-type">CmmString</span></a></span><span> </span><span id="local-6989586621682675478"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682675478"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataASCII"><span class="hs-identifier hs-var">DataASCII</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682675478"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="GHC.Cmm.html#CmmFileEmbed"><span class="hs-identifier hs-type">CmmFileEmbed</span></a></span><span> </span><span id="local-6989586621682675480"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682675480"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682675481"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675481"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DataSectionContent -&gt; WasmCodeGenM w DataSectionContent)
-&gt; DataSectionContent -&gt; WasmCodeGenM w DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataIncBin"><span class="hs-identifier hs-var">DataIncBin</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682675480"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675481"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">CmmStatic
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w DataSectionContent
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CmmStatic: unreachable&quot;</span></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">{-
Note [Register mapping on WebAssembly]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Unlike typical ISAs, WebAssembly doesn't expose a fixed set of
registers. For now, we map each Cmm LocalReg to a wasm local, and each
Cmm GlobalReg to a wasm global. The wasm globals are defined in
rts/wasm/Wasm.S, and must be kept in sync with
'globalInfoFromCmmGlobalReg' and 'supportedCmmGlobalRegs' here.

There are some other Cmm GlobalRegs which are still represented by
StgRegTable fields instead of wasm globals (e.g. HpAlloc). It's cheap
to add wasm globals, but other parts of rts logic only work with the
StgRegTable fields, so we also need to instrument StgRun/StgReturn to
sync the wasm globals with the StgRegTable. It's not really worth the
trouble.

-}</span><span>
</span><span id="line-179"></span><span id="local-6989586621682674827"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#globalInfoFromCmmGlobalReg"><span class="hs-identifier hs-type">globalInfoFromCmmGlobalReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674827"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalReg"><span class="hs-identifier hs-type">GlobalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#GlobalInfo"><span class="hs-identifier hs-type">GlobalInfo</span></a></span></span><span>
</span><span id="line-180"></span><span id="globalInfoFromCmmGlobalReg"><span class="annot"><span class="annottext">globalInfoFromCmmGlobalReg :: forall (w :: WasmType).
WasmTypeTag w -&gt; GlobalReg -&gt; Maybe GlobalInfo
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#globalInfoFromCmmGlobalReg"><span class="hs-identifier hs-var hs-var">globalInfoFromCmmGlobalReg</span></a></span></span><span> </span><span id="local-6989586621682675519"><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682675519"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682675520"><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682675520"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682675520"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Reg.html#VanillaReg"><span class="hs-identifier hs-type">VanillaReg</span></a></span><span> </span><span id="local-6989586621682675522"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675522"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675522"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675522"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;__R&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675522"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Reg.html#FloatReg"><span class="hs-identifier hs-type">FloatReg</span></a></span><span> </span><span id="local-6989586621682675528"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675528"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675528"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675528"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;__F&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675528"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Reg.html#DoubleReg"><span class="hs-identifier hs-type">DoubleReg</span></a></span><span> </span><span id="local-6989586621682675530"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675530"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675530"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675530"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>        </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;__D&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675530"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Reg.html#LongReg"><span class="hs-identifier hs-type">LongReg</span></a></span><span> </span><span id="local-6989586621682675532"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675532"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675532"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;__L&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675532"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64 -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#Sp"><span class="hs-identifier hs-var">Sp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__Sp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#SpLim"><span class="hs-identifier hs-var">SpLim</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__SpLim&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#Hp"><span class="hs-identifier hs-var">Hp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__Hp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#HpLim"><span class="hs-identifier hs-var">HpLim</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalInfo -&gt; Maybe GlobalInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__HpLim&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="annottext">GlobalReg
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalInfo
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>    </span><span id="local-6989586621682675526"><span class="annot"><span class="annottext">ty_word :: SomeWasmType
</span><a href="#local-6989586621682675526"><span class="hs-identifier hs-var hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; SomeWasmType
forall (t :: WasmType). WasmTypeTag t -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-var">SomeWasmType</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682675519"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#supportedCmmGlobalRegs"><span class="hs-identifier hs-type">supportedCmmGlobalRegs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalReg"><span class="hs-identifier hs-type">GlobalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span id="supportedCmmGlobalRegs"><span class="annot"><span class="annottext">supportedCmmGlobalRegs :: [GlobalReg]
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#supportedCmmGlobalRegs"><span class="hs-identifier hs-var hs-var">supportedCmmGlobalRegs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; GlobalReg
</span><a href="GHC.Cmm.Reg.html#VanillaReg"><span class="hs-identifier hs-var">VanillaReg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675537"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682675537"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675537"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><span class="annottext">[GlobalReg] -&gt; [GlobalReg] -&gt; [GlobalReg]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; GlobalReg
</span><a href="GHC.Cmm.Reg.html#FloatReg"><span class="hs-identifier hs-var">FloatReg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675538"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682675538"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675538"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">[GlobalReg] -&gt; [GlobalReg] -&gt; [GlobalReg]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; GlobalReg
</span><a href="GHC.Cmm.Reg.html#DoubleReg"><span class="hs-identifier hs-var">DoubleReg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675539"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682675539"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675539"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><span class="annottext">[GlobalReg] -&gt; [GlobalReg] -&gt; [GlobalReg]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; GlobalReg
</span><a href="GHC.Cmm.Reg.html#LongReg"><span class="hs-identifier hs-var">LongReg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675540"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682675540"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682675540"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><span class="annottext">[GlobalReg] -&gt; [GlobalReg] -&gt; [GlobalReg]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#Sp"><span class="hs-identifier hs-var">Sp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#SpLim"><span class="hs-identifier hs-var">SpLim</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#Hp"><span class="hs-identifier hs-var">Hp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#HpLim"><span class="hs-identifier hs-var">HpLim</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="annot"><span class="hs-comment">-- | Truncate a subword.</span></span><span>
</span><span id="line-208"></span><span id="local-6989586621682674834"><span id="local-6989586621682674835"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674834"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674835"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674834"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674835"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674834"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="truncSubword"><span class="annot"><span class="annottext">truncSubword :: forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-var hs-var">truncSubword</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span id="local-6989586621682675542"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675542"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675544"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675544"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-210"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675544"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : t : pre)
-&gt; WasmInstr w pre (t : t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Integer -&gt; WasmInstr w (t : pre) (t : t : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675542"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0xFF</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : t : pre)
-&gt; WasmInstr w (t : t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675542"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-211"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-var">truncSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span id="local-6989586621682675548"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675548"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675549"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675549"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675549"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : t : pre)
-&gt; WasmInstr w pre (t : t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Integer -&gt; WasmInstr w (t : pre) (t : t : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675548"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0xFFFF</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : t : pre)
-&gt; WasmInstr w (t : t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675548"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-213"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-var">truncSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682675550"><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682675550"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682675550"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><span class="hs-comment">-- | Sign-extend a subword.</span></span><span>
</span><span id="line-216"></span><span id="local-6989586621682675551"><span id="local-6989586621682675552"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-type">extendSubword</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675551"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675552"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675551"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675552"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675551"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-217"></span><span id="extendSubword"><span class="annot"><span class="annottext">extendSubword :: forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var hs-var">extendSubword</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675555"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675555"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-218"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675555"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (t : pre) (t : pre)
WasmInstr w ('I32 : pre) ('I32 : pre)
forall (a :: WasmType) (pre :: [WasmType]).
WasmInstr a ('I32 : pre) ('I32 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32Extend8S"><span class="hs-identifier hs-var">WasmI32Extend8S</span></a></span><span>
</span><span id="line-219"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675558"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675558"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-220"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675558"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (t : pre) (t : pre)
WasmInstr w ('I32 : pre) ('I32 : pre)
forall (a :: WasmType) (pre :: [WasmType]).
WasmInstr a ('I32 : pre) ('I32 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32Extend16S"><span class="hs-identifier hs-var">WasmI32Extend16S</span></a></span><span>
</span><span id="line-221"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675561"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675561"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675561"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (t : pre) (t : pre)
WasmInstr w ('I64 : pre) ('I64 : pre)
forall (a :: WasmType) (pre :: [WasmType]).
WasmInstr a ('I64 : pre) ('I64 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend8S"><span class="hs-identifier hs-var">WasmI64Extend8S</span></a></span><span>
</span><span id="line-223"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675564"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675564"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675564"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (t : pre) (t : pre)
WasmInstr w ('I64 : pre) ('I64 : pre)
forall (a :: WasmType) (pre :: [WasmType]).
WasmInstr a ('I64 : pre) ('I64 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend16S"><span class="hs-identifier hs-var">WasmI64Extend16S</span></a></span><span>
</span><span id="line-225"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675567"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675567"><span class="hs-identifier hs-var">instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
forall (pre :: [WasmType]). WasmInstr w pre (t : pre)
</span><a href="#local-6989586621682675567"><span class="hs-identifier hs-var">instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre (t : pre)
-&gt; WasmInstr w (t : pre) (t : pre) -&gt; WasmInstr w pre (t : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (t : pre) (t : pre)
WasmInstr w ('I64 : pre) ('I64 : pre)
forall (a :: WasmType) (pre :: [WasmType]).
WasmInstr a ('I64 : pre) ('I64 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64Extend32S"><span class="hs-identifier hs-var">WasmI64Extend32S</span></a></span><span>
</span><span id="line-227"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682675569"><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682675569"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682675569"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="annot"><span class="hs-comment">-- | Lower an unary homogeneous operation.</span></span><span>
</span><span id="line-230"></span><span id="local-6989586621682674862"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Homo"><span class="hs-identifier hs-type">lower_MO_Un_Homo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674863"><span class="annot"><a href="#local-6989586621682674863"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674861"><span class="annot"><a href="#local-6989586621682674861"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674861"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-234"></span><span>      </span><span class="annot"><a href="#local-6989586621682674862"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674861"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674863"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674861"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674863"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674862"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674862"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-242"></span><span id="lower_MO_Un_Homo"><span class="annot"><span class="annottext">lower_MO_Un_Homo :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Homo"><span class="hs-identifier hs-var hs-var">lower_MO_Un_Homo</span></a></span></span><span> </span><span id="local-6989586621682675573"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre)
</span><a href="#local-6989586621682675573"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675574"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675574"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675575"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675575"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675576"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675576"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675575"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-243"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675580"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675580"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675581"><span class="annot"><a href="#local-6989586621682675581"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675574"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675580"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675576"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675580"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-247"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-248"></span><span>          </span><span class="annot"><a href="#local-6989586621682675581"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675573"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675580"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-249"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Homo"><span class="hs-identifier hs-var">lower_MO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Un_Homo: unreachable&quot;</span></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Lower a binary homogeneous operation. Homogeneous: result type is</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- the same with operand types.</span><span>
</span><span id="line-253"></span><span id="local-6989586621682674875"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-type">lower_MO_Bin_Homo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674876"><span class="annot"><a href="#local-6989586621682674876"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674874"><span class="annot"><a href="#local-6989586621682674874"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674874"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><a href="#local-6989586621682674875"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674874"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674874"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674876"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674874"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674876"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674875"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674875"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-265"></span><span id="lower_MO_Bin_Homo"><span class="annot"><span class="annottext">lower_MO_Bin_Homo :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var hs-var">lower_MO_Bin_Homo</span></a></span></span><span> </span><span id="local-6989586621682675587"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><a href="#local-6989586621682675587"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675588"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675588"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675589"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675589"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675590"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675590"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675591"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675591"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675589"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675595"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675595"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675596"><span class="annot"><a href="#local-6989586621682675596"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675588"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675595"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675590"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675597"><span class="annot"><a href="#local-6989586621682675597"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675588"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675595"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675591"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675595"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-272"></span><span>          </span><span class="annot"><a href="#local-6989586621682675596"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675597"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675587"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675595"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-273"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Bin_Homo: unreachable&quot;</span></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-comment">-- | Lower a binary homogeneous operation, and truncate the result if</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- it's a subword.</span><span>
</span><span id="line-277"></span><span id="local-6989586621682674881"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-type">lower_MO_Bin_Homo_Trunc</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674882"><span class="annot"><a href="#local-6989586621682674882"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674880"><span class="annot"><a href="#local-6989586621682674880"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674880"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674881"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674880"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674880"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674882"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674880"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674882"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674881"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674881"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-283"></span><span id="lower_MO_Bin_Homo_Trunc"><span class="annot"><span class="annottext">lower_MO_Bin_Homo_Trunc :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-var hs-var">lower_MO_Bin_Homo_Trunc</span></a></span></span><span> </span><span id="local-6989586621682675601"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><a href="#local-6989586621682675601"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675602"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675602"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675603"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675603"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675604"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675604"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675605"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675605"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675603"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-285"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675610"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675610"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-286"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675611"><span class="annot"><a href="#local-6989586621682675611"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675602"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675610"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675604"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-287"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675612"><span class="annot"><a href="#local-6989586621682675612"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675602"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675610"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675605"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675610"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-290"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675603"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675610"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-291"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-292"></span><span>              </span><span class="annot"><a href="#local-6989586621682675611"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675612"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675601"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675610"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-293"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Trunc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Bin_Homo_Trunc: unreachable&quot;</span></span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-comment">-- | Lower a binary homogeneous operation, first sign extending the</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- operands, then truncating the result.</span><span>
</span><span id="line-297"></span><span id="local-6989586621682675613"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Ext_Trunc"><span class="hs-identifier hs-type">lower_MO_Bin_Homo_Ext_Trunc</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674888"><span class="annot"><a href="#local-6989586621682674888"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674886"><span class="annot"><a href="#local-6989586621682674886"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674886"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675613"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674886"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674886"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674888"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674886"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674888"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675613"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675613"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-303"></span><span id="lower_MO_Bin_Homo_Ext_Trunc"><span class="annot"><span class="annottext">lower_MO_Bin_Homo_Ext_Trunc :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Ext_Trunc"><span class="hs-identifier hs-var hs-var">lower_MO_Bin_Homo_Ext_Trunc</span></a></span></span><span> </span><span id="local-6989586621682675617"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><a href="#local-6989586621682675617"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675618"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675618"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675619"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675619"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675620"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675620"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675621"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675621"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675619"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675627"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675627"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-306"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675628"><span class="annot"><a href="#local-6989586621682675628"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-307"></span><span>        </span><span class="annot"><span class="annottext">Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675619"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675627"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; WasmExpr w t)
-&gt; WasmCodeGenM w (WasmExpr w t) -&gt; WasmCodeGenM w (WasmExpr w t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675618"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675627"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675620"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675630"><span class="annot"><a href="#local-6989586621682675630"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-309"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-type">extendSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675619"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675627"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675618"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675627"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675621"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-310"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-311"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675627"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675619"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675627"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-313"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-314"></span><span>              </span><span class="annot"><a href="#local-6989586621682675628"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675630"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675617"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675627"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-315"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Ext_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Ext_Trunc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Bin_Homo_Ext_Trunc: unreachable&quot;</span></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- | Lower a relational binary operation, first sign extending the</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- operands. Relational: result type is a boolean (word type).</span><span>
</span><span id="line-320"></span><span id="local-6989586621682674895"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-type">lower_MO_Bin_Rel_Ext</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674896"><span class="annot"><a href="#local-6989586621682674896"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674894"><span class="annot"><a href="#local-6989586621682674894"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674894"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674895"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674894"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674894"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674896"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674895"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674896"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674895"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674895"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-326"></span><span id="lower_MO_Bin_Rel_Ext"><span class="annot"><span class="annottext">lower_MO_Bin_Rel_Ext :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var hs-var">lower_MO_Bin_Rel_Ext</span></a></span></span><span> </span><span id="local-6989586621682675634"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
</span><a href="#local-6989586621682675634"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675635"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675635"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675636"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675636"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675637"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675637"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675638"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675638"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675636"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675645"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675645"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675646"><span class="annot"><a href="#local-6989586621682675646"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-330"></span><span>        </span><span class="annot"><span class="annottext">Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675636"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675645"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; WasmExpr w t)
-&gt; WasmCodeGenM w (WasmExpr w t) -&gt; WasmCodeGenM w (WasmExpr w t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675635"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675645"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675637"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-331"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675647"><span class="annot"><a href="#local-6989586621682675647"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-type">extendSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675636"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675645"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675635"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675645"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675638"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-333"></span><span>      </span><span id="local-6989586621682675648"><span class="annot"><a href="#local-6989586621682675648"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-type">wasmWordTypeM</span></a></span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-335"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675648"><span class="hs-identifier hs-type">ty_word</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-336"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-337"></span><span>            </span><span class="annot"><a href="#local-6989586621682675646"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675647"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675634"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675645"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-338"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var">lower_MO_Bin_Rel_Ext</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Bin_Rel_Ext: unreachable&quot;</span></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="annot"><span class="hs-comment">-- | Lower a relational binary operation.</span></span><span>
</span><span id="line-341"></span><span id="local-6989586621682674902"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-type">lower_MO_Bin_Rel</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674903"><span class="annot"><a href="#local-6989586621682674903"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674901"><span class="annot"><a href="#local-6989586621682674901"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674901"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-344"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><a href="#local-6989586621682674902"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-346"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674901"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674901"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674903"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674902"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674903"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674902"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674902"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-353"></span><span id="lower_MO_Bin_Rel"><span class="annot"><span class="annottext">lower_MO_Bin_Rel :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var hs-var">lower_MO_Bin_Rel</span></a></span></span><span> </span><span id="local-6989586621682675653"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
</span><a href="#local-6989586621682675653"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675654"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675654"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675655"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675655"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675656"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675656"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675657"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675657"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675655"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-354"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675662"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675662"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675663"><span class="annot"><a href="#local-6989586621682675663"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675654"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675662"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675656"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675664"><span class="annot"><a href="#local-6989586621682675664"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675654"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675662"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675657"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621682675665"><span class="annot"><a href="#local-6989586621682675665"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-type">wasmWordTypeM</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675665"><span class="hs-identifier hs-type">ty_word</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-360"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-361"></span><span>          </span><span class="annot"><a href="#local-6989586621682675663"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675664"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675653"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675662"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-362"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Bin_Rel: unreachable&quot;</span></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | Cast a shiftL/shiftR RHS to the same type as LHS. Because we may</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- have a 64-bit LHS and 32-bit RHS, but wasm shift operators are</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- homogeneous.</span><span>
</span><span id="line-367"></span><span id="local-6989586621682675666"><span id="local-6989586621682675667"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#shiftRHSCast"><span class="hs-identifier hs-type">shiftRHSCast</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-369"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675666"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><a href="#local-6989586621682675667"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675667"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675666"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-374"></span><span id="shiftRHSCast"><span class="annot"><span class="annottext">shiftRHSCast :: forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#shiftRHSCast"><span class="hs-identifier hs-var hs-var">shiftRHSCast</span></a></span></span><span> </span><span id="local-6989586621682675670"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675670"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675671"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675671"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682675672"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675672"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682675677"><span class="annot"><a href="#local-6989586621682675677"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675678"><span class="annot"><a href="#local-6989586621682675678"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675670"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675672"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-keyword">if</span><span>
</span><span id="line-377"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682675677"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`testEquality`</span></span><span> </span><span class="annot"><a href="#local-6989586621682675671"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675678"><span class="hs-identifier hs-type">x_instr</span></a></span><span>
</span><span id="line-378"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682675677"><span class="hs-identifier hs-type">t0</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682675671"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-380"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682675678"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64ExtendI32"><span class="hs-identifier hs-type">WasmI64ExtendI32</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span>
</span><span id="line-381"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-type">panic</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;shiftRHSCast: unreachable&quot;</span></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_Shl' operation, truncating the result.</span></span><span>
</span><span id="line-384"></span><span id="local-6989586621682674921"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Shl"><span class="hs-identifier hs-type">lower_MO_Shl</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-386"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-389"></span><span>    </span><span class="annot"><a href="#local-6989586621682674921"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674921"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-391"></span><span id="lower_MO_Shl"><span class="annot"><span class="annottext">lower_MO_Shl :: forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Shl"><span class="hs-identifier hs-var hs-var">lower_MO_Shl</span></a></span></span><span> </span><span id="local-6989586621682675694"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675694"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675695"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675695"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675696"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675696"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675697"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675697"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675695"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675701"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675701"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675702"><span class="annot"><a href="#local-6989586621682675702"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675694"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675701"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675696"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-394"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675703"><span class="annot"><a href="#local-6989586621682675703"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#shiftRHSCast"><span class="hs-identifier hs-type">shiftRHSCast</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675694"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675701"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675697"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-396"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675701"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-397"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675695"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675701"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-398"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-399"></span><span>            </span><span class="annot"><a href="#local-6989586621682675702"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675703"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmShl"><span class="hs-identifier hs-type">WasmShl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675701"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-400"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Shl"><span class="hs-identifier hs-var">lower_MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Shl: unreachable&quot;</span></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_U_Shr' operation.</span></span><span>
</span><span id="line-403"></span><span id="local-6989586621682675706"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_U_Shr"><span class="hs-identifier hs-type">lower_MO_U_Shr</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-405"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><a href="#local-6989586621682675706"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-409"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675706"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-410"></span><span id="lower_MO_U_Shr"><span class="annot"><span class="annottext">lower_MO_U_Shr :: forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_U_Shr"><span class="hs-identifier hs-var hs-var">lower_MO_U_Shr</span></a></span></span><span> </span><span id="local-6989586621682675710"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675710"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675711"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675711"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675712"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675712"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675713"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675713"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675711"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675717"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675717"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675718"><span class="annot"><a href="#local-6989586621682675718"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675710"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675717"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675712"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675719"><span class="annot"><a href="#local-6989586621682675719"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#shiftRHSCast"><span class="hs-identifier hs-type">shiftRHSCast</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675710"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675717"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675713"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-415"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675717"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-416"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-417"></span><span>          </span><span class="annot"><a href="#local-6989586621682675718"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675719"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmShr"><span class="hs-identifier hs-type">WasmShr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675717"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-418"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_U_Shr"><span class="hs-identifier hs-var">lower_MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_U_Shr: unreachable&quot;</span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-comment">-- | Lower a 'MO_S_Shr' operation, first sign-extending the LHS, then</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- truncating the result.</span><span>
</span><span id="line-422"></span><span id="local-6989586621682675722"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_S_Shr"><span class="hs-identifier hs-type">lower_MO_S_Shr</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><a href="#local-6989586621682675722"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675722"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-429"></span><span id="lower_MO_S_Shr"><span class="annot"><span class="annottext">lower_MO_S_Shr :: forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_S_Shr"><span class="hs-identifier hs-var hs-var">lower_MO_S_Shr</span></a></span></span><span> </span><span id="local-6989586621682675726"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675726"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675727"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675727"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675728"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675728"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675729"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675729"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675727"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675734"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675734"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-431"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675735"><span class="annot"><a href="#local-6989586621682675735"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675727"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675734"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; WasmExpr w t)
-&gt; WasmCodeGenM w (WasmExpr w t) -&gt; WasmCodeGenM w (WasmExpr w t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675726"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675734"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675728"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675736"><span class="annot"><a href="#local-6989586621682675736"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#shiftRHSCast"><span class="hs-identifier hs-type">shiftRHSCast</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675726"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675734"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675729"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-434"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675734"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-435"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675727"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675734"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-436"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-437"></span><span>            </span><span class="annot"><a href="#local-6989586621682675735"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675736"><span class="hs-identifier hs-type">y_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmShr"><span class="hs-identifier hs-type">WasmShr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-type">Signed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675734"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-438"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_S_Shr"><span class="hs-identifier hs-var">lower_MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_S_Shr: unreachable&quot;</span></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- | Lower a 'MO_MulMayOflo' operation. It's translated to a ccall to</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- @hs_mulIntMayOflo@ function in @ghc-prim/cbits/mulIntMayOflo@,</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- otherwise it's quite non-trivial to implement as inline assembly.</span><span>
</span><span id="line-443"></span><span id="local-6989586621682675738"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_MulMayOflo"><span class="hs-identifier hs-type">lower_MO_MulMayOflo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675738"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675738"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-445"></span><span id="lower_MO_MulMayOflo"><span class="annot"><span class="annottext">lower_MO_MulMayOflo :: forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_MulMayOflo"><span class="hs-identifier hs-var hs-var">lower_MO_MulMayOflo</span></a></span></span><span> </span><span id="local-6989586621682675742"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675742"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675743"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675743"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675744"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675744"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675745"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675745"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675746"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675752"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675752"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675753"><span class="annot"><a href="#local-6989586621682675753"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675742"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675752"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675744"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675754"><span class="annot"><a href="#local-6989586621682675754"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675742"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675752"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675745"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-449"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_mulIntMayOflo&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682675746"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682675746"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682675746"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-450"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-451"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675752"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-453"></span><span>          </span><span class="annot"><a href="#local-6989586621682675753"><span class="hs-identifier hs-type">x_instr</span></a></span><span>
</span><span id="line-454"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675754"><span class="hs-identifier hs-type">y_instr</span></a></span><span>
</span><span id="line-455"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCall"><span class="hs-identifier hs-type">WasmCCall</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;hs_mulIntMayOflo&quot;</span></span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621682675746"><span class="annot"><span class="annottext">ty_cmm :: CmmType
</span><a href="#local-6989586621682675746"><span class="hs-identifier hs-var hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675743"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-458"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_MulMayOflo"><span class="hs-identifier hs-var">lower_MO_MulMayOflo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_MulMayOflo: unreachable&quot;</span></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><span class="hs-comment">-- | Lower an unary conversion operation.</span></span><span>
</span><span id="line-461"></span><span id="local-6989586621682674939"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Conv"><span class="hs-identifier hs-type">lower_MO_Un_Conv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682674940"><span class="annot"><a href="#local-6989586621682674940"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span id="local-6989586621682674937"><span class="annot"><a href="#local-6989586621682674937"><span class="hs-identifier hs-type">t0</span></a></span></span><span> </span><span id="local-6989586621682674938"><span class="annot"><a href="#local-6989586621682674938"><span class="hs-identifier hs-type">t1</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674937"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674938"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674939"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674937"><span class="hs-identifier hs-type">t0</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674940"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682674938"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682674940"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-467"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-468"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-471"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674939"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674939"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-472"></span><span id="lower_MO_Un_Conv"><span class="annot"><span class="annottext">lower_MO_Un_Conv :: forall (w :: WasmType).
(forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
 WasmTypeTag t0
 -&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Conv"><span class="hs-identifier hs-var hs-var">lower_MO_Un_Conv</span></a></span></span><span> </span><span id="local-6989586621682675761"><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
WasmTypeTag t0
-&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre)
</span><a href="#local-6989586621682675761"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682675762"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675762"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675763"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675763"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span id="local-6989586621682675764"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675764"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675765"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675765"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675763"><span class="hs-identifier hs-var">t0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682675764"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-474"></span><span>    </span><span class="hs-special">(#</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675766"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675766"><span class="hs-identifier hs-var">ty0</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675769"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675769"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-475"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675770"><span class="annot"><a href="#local-6989586621682675770"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675762"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675766"><span class="hs-identifier hs-var">ty0</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675765"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-476"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675769"><span class="hs-identifier hs-type">ty1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682675770"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675761"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675766"><span class="hs-identifier hs-type">ty0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675769"><span class="hs-identifier hs-type">ty1</span></a></span><span>
</span><span id="line-477"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Conv"><span class="hs-identifier hs-var">lower_MO_Un_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
WasmTypeTag t0
-&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Un_Conv: unreachable&quot;</span></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_SS_Conv' operation.</span></span><span>
</span><span id="line-480"></span><span id="local-6989586621682674945"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-type">lower_MO_SS_Conv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-484"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-485"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><a href="#local-6989586621682674945"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-487"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674945"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-488"></span><span id="lower_MO_SS_Conv"><span class="annot"><span class="annottext">lower_MO_SS_Conv :: forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var hs-var">lower_MO_SS_Conv</span></a></span></span><span> </span><span id="local-6989586621682675800"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675800"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675801"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675801"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682675802"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675802"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675803"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675803"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675801"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675802"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675800"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675803"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-490"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675804"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675804"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675805"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675805"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682675806"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675806"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span id="local-6989586621682675807"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675807"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682675808"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682675808"><span class="hs-identifier hs-var">align</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-491"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675805"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675806"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675806"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-493"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675810"><span class="annot"><a href="#local-6989586621682675810"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675811"><span class="annot"><a href="#local-6989586621682675811"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675804"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675807"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-494"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-495"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-496"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675806"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-497"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-498"></span><span>              </span><span class="annot"><a href="#local-6989586621682675810"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-499"></span><span>                </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-type">WasmLoad</span></a></span><span>
</span><span id="line-500"></span><span>                  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span>
</span><span id="line-501"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-type">wasmMemoryNarrowing</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-type">cmmBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675805"><span class="hs-identifier hs-type">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>                  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-type">Signed</span></a></span><span>
</span><span id="line-503"></span><span>                  </span><span class="annot"><a href="#local-6989586621682675811"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-504"></span><span>                  </span><span class="annot"><a href="#local-6989586621682675808"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-505"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675805"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675806"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-506"></span><span>      </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; WasmExpr w 'I32 -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-507"></span><span>        </span><span class="annot"><span class="annottext">(WasmExpr w 'I32 -&gt; SomeWasmExpr w)
-&gt; WasmCodeGenM w (WasmExpr w 'I32)
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag 'I32
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad_Typed"><span class="hs-identifier hs-var">lower_CmmLoad_Typed</span></a></span><span>
</span><span id="line-508"></span><span>          </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675804"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-509"></span><span>          </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675807"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-510"></span><span>          </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-511"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675806"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>          </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682675808"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-513"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675816"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675816"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675817"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675817"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span id="local-6989586621682675818"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675818"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682675819"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682675819"><span class="hs-identifier hs-var">align</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-514"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675820"><span class="annot"><a href="#local-6989586621682675820"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682675821"><span class="annot"><a href="#local-6989586621682675821"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675816"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675818"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-515"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-516"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-517"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-518"></span><span>        </span><span class="annot"><a href="#local-6989586621682675820"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-519"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-type">WasmLoad</span></a></span><span>
</span><span id="line-520"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span>
</span><span id="line-521"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-type">wasmMemoryNarrowing</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-type">cmmBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675817"><span class="hs-identifier hs-type">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-type">Signed</span></a></span><span>
</span><span id="line-523"></span><span>            </span><span class="annot"><a href="#local-6989586621682675821"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-524"></span><span>            </span><span class="annot"><a href="#local-6989586621682675819"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-525"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675822"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675822"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675823"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675823"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682675824"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675824"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675825"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675825"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675823"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675824"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-527"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675824"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-528"></span><span>      </span><span id="local-6989586621682675826"><span class="annot"><a href="#local-6989586621682675826"><span class="hs-identifier hs-var">x_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675822"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675825"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-529"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-530"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-531"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675824"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-532"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-type">extendSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675823"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675826"><span class="hs-identifier hs-type">x_expr</span></a></span><span>
</span><span id="line-533"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675823"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675823"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675824"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-535"></span><span>      </span><span id="local-6989586621682675827"><span class="annot"><a href="#local-6989586621682675827"><span class="hs-identifier hs-var">x_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675822"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675825"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-536"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675824"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675827"><span class="hs-identifier hs-type">x_expr</span></a></span><span>
</span><span id="line-537"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675828"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675828"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675829"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675829"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-538"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675830"><span class="annot"><a href="#local-6989586621682675830"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675828"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675829"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-539"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-541"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-542"></span><span>        </span><span class="annot"><a href="#local-6989586621682675830"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64ExtendI32"><span class="hs-identifier hs-type">WasmI64ExtendI32</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-type">Signed</span></a></span><span>
</span><span id="line-543"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675831"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675831"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675832"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675832"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675833"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675833"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675834"><span class="annot"><a href="#local-6989586621682675834"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675831"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675833"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-545"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-546"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-547"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-type">extendSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675832"><span class="hs-identifier hs-type">w0</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-548"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-549"></span><span>          </span><span class="annot"><a href="#local-6989586621682675834"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64ExtendI32"><span class="hs-identifier hs-type">WasmI64ExtendI32</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span>
</span><span id="line-550"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682675835"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675835"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span id="local-6989586621682675836"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675836"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675837"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675837"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675838"><span class="annot"><a href="#local-6989586621682675838"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I64 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I64)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675835"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675837"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-554"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675836"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-555"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-556"></span><span>          </span><span class="annot"><a href="#local-6989586621682675838"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32WrapI64"><span class="hs-identifier hs-type">WasmI32WrapI64</span></a></span><span>
</span><span id="line-557"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_SS_Conv: unreachable&quot;</span></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_UU_Conv' operation.</span></span><span>
</span><span id="line-560"></span><span id="local-6989586621682675841"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-type">lower_MO_UU_Conv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-564"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-565"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-566"></span><span>    </span><span class="annot"><a href="#local-6989586621682675841"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-567"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675841"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-568"></span><span id="lower_MO_UU_Conv"><span class="annot"><span class="annottext">lower_MO_UU_Conv :: forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var hs-var">lower_MO_UU_Conv</span></a></span></span><span> </span><span id="local-6989586621682675856"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675856"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675857"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675857"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682675858"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675858"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span id="local-6989586621682675859"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675859"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682675860"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682675860"><span class="hs-identifier hs-var">align</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-569"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675858"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-570"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682675863"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675863"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-571"></span><span>      </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675863"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-572"></span><span>        </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; SomeWasmExpr w)
-&gt; WasmCodeGenM w (WasmExpr w t) -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad_Typed"><span class="hs-identifier hs-var">lower_CmmLoad_Typed</span></a></span><span>
</span><span id="line-573"></span><span>          </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675856"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-574"></span><span>          </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675859"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-575"></span><span>          </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682675863"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-576"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Width
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675857"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675858"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>          </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682675860"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-578"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span id="local-6989586621682675865"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675865"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682675866"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675866"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682675867"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675867"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675868"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675868"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-579"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675866"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675867"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675865"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675868"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675866"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675867"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675867"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675865"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675868"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675866"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-582"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675866"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675867"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-583"></span><span>      </span><span id="local-6989586621682675869"><span class="annot"><a href="#local-6989586621682675869"><span class="hs-identifier hs-var">x_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675865"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675868"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-584"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675867"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675869"><span class="hs-identifier hs-type">x_expr</span></a></span><span>
</span><span id="line-585"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span id="local-6989586621682675870"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675870"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675871"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675871"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-586"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675872"><span class="annot"><a href="#local-6989586621682675872"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675870"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675871"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-587"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-588"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-type">TagI64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-589"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-590"></span><span>        </span><span class="annot"><a href="#local-6989586621682675872"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI64ExtendI32"><span class="hs-identifier hs-type">WasmI64ExtendI32</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span>
</span><span id="line-591"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span id="local-6989586621682675873"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675873"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span id="local-6989586621682675874"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675874"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675875"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675875"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-592"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675876"><span class="annot"><a href="#local-6989586621682675876"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'I64 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'I64)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675873"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675875"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-593"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-594"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-595"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#truncSubword"><span class="hs-identifier hs-type">truncSubword</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675874"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-type">TagI32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-596"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-597"></span><span>          </span><span class="annot"><a href="#local-6989586621682675876"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmI32WrapI64"><span class="hs-identifier hs-type">WasmI32WrapI64</span></a></span><span>
</span><span id="line-598"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_UU_Conv: unreachable&quot;</span></span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_FF_Conv' operation.</span></span><span>
</span><span id="line-601"></span><span id="local-6989586621682675878"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_FF_Conv"><span class="hs-identifier hs-type">lower_MO_FF_Conv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-602"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-603"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-604"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-605"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-606"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-607"></span><span>    </span><span class="annot"><a href="#local-6989586621682675878"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675878"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-609"></span><span id="lower_MO_FF_Conv"><span class="annot"><span class="annottext">lower_MO_FF_Conv :: forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_FF_Conv"><span class="hs-identifier hs-var hs-var">lower_MO_FF_Conv</span></a></span></span><span> </span><span id="local-6989586621682675886"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675886"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675887"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675887"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-610"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675888"><span class="annot"><a href="#local-6989586621682675888"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'F32 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'F32)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675886"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675887"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-611"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-612"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-type">TagF64</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-613"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-614"></span><span>        </span><span class="annot"><a href="#local-6989586621682675888"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmF64PromoteF32"><span class="hs-identifier hs-type">WasmF64PromoteF32</span></a></span><span>
</span><span id="line-615"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_FF_Conv"><span class="hs-identifier hs-var">lower_MO_FF_Conv</span></a></span><span> </span><span id="local-6989586621682675890"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675890"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675891"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675891"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-616"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682675892"><span class="annot"><a href="#local-6989586621682675892"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; WasmTypeTag 'F64 -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w 'F64)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675890"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675891"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-617"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-618"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-type">TagF32</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-619"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-620"></span><span>        </span><span class="annot"><a href="#local-6989586621682675892"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmF32DemoteF64"><span class="hs-identifier hs-type">WasmF32DemoteF64</span></a></span><span>
</span><span id="line-621"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_FF_Conv"><span class="hs-identifier hs-var">lower_MO_FF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_FF_Conv: unreachable&quot;</span></span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmMachOp'.</span></span><span>
</span><span id="line-624"></span><span id="local-6989586621682674969"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-type">lower_CmmMachOp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-625"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-626"></span><span>  </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-627"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-629"></span><span>    </span><span class="annot"><a href="#local-6989586621682674969"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-630"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674969"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-631"></span><span id="lower_CmmMachOp"><span class="annot"><span class="annottext">lower_CmmMachOp :: forall (w :: WasmType).
CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var hs-var">lower_CmmMachOp</span></a></span></span><span> </span><span id="local-6989586621682675902"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675902"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_RelaxedRead"><span class="hs-identifier hs-type">MO_RelaxedRead</span></a></span><span> </span><span id="local-6989586621682675904"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675904"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675905"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675905"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675902"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmType -&gt; AlignmentSpec -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-var">CmmLoad</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675905"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675904"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-var">NaturallyAligned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-632"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675907"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675907"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-type">MO_Add</span></a></span><span> </span><span id="local-6989586621682675909"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675909"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675910"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675910"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Trunc</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAdd"><span class="hs-identifier hs-var">WasmAdd</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675907"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675909"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675910"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-633"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675912"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675912"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-type">MO_Sub</span></a></span><span> </span><span id="local-6989586621682675914"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675914"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675915"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675915"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Trunc</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSub"><span class="hs-identifier hs-var">WasmSub</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675912"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675914"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675915"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-634"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675917"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675917"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-type">MO_Eq</span></a></span><span> </span><span id="local-6989586621682675919"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675919"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675920"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675920"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmEq"><span class="hs-identifier hs-var">WasmEq</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675917"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675919"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675920"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-635"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675922"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675922"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-type">MO_Ne</span></a></span><span> </span><span id="local-6989586621682675924"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675924"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675925"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675925"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNe"><span class="hs-identifier hs-var">WasmNe</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675922"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675924"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675925"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-636"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675927"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675927"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-type">MO_Mul</span></a></span><span> </span><span id="local-6989586621682675929"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675929"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675930"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675930"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Trunc</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmMul"><span class="hs-identifier hs-var">WasmMul</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675927"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675929"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675930"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-637"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675932"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675932"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_MulMayOflo"><span class="hs-identifier hs-type">MO_S_MulMayOflo</span></a></span><span> </span><span id="local-6989586621682675934"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675934"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675935"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675935"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_MulMayOflo"><span class="hs-identifier hs-var">lower_MO_MulMayOflo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675932"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675934"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675935"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-638"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675936"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675936"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-type">MO_S_Quot</span></a></span><span> </span><span id="local-6989586621682675938"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675938"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675939"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675939"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-639"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Ext_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Ext_Trunc</span></a></span><span>
</span><span id="line-640"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmDiv"><span class="hs-identifier hs-var">WasmDiv</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675936"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-642"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675938"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-643"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675939"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-644"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675941"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675941"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-type">MO_S_Rem</span></a></span><span> </span><span id="local-6989586621682675943"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675943"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675944"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675944"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-645"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo_Ext_Trunc"><span class="hs-identifier hs-var">lower_MO_Bin_Homo_Ext_Trunc</span></a></span><span>
</span><span id="line-646"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmRem"><span class="hs-identifier hs-var">WasmRem</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675941"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-648"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675943"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-649"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675944"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-650"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675946"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675946"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Neg"><span class="hs-identifier hs-type">MO_S_Neg</span></a></span><span> </span><span id="local-6989586621682675948"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675948"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682675949"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675949"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="annottext">CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span>
</span><span id="line-652"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675946"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-653"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675948"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmExpr) -&gt; CmmLit -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675948"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682675949"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-655"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675951"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675951"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-type">MO_U_Quot</span></a></span><span> </span><span id="local-6989586621682675953"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675953"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675954"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675954"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-656"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-657"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmDiv"><span class="hs-identifier hs-var">WasmDiv</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675951"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-659"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675953"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675954"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-661"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675955"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675955"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-type">MO_U_Rem</span></a></span><span> </span><span id="local-6989586621682675957"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675957"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675958"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675958"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-662"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmRem"><span class="hs-identifier hs-var">WasmRem</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675955"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675957"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675958"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-667"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675959"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675959"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Ge"><span class="hs-identifier hs-type">MO_S_Ge</span></a></span><span> </span><span id="local-6989586621682675961"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675961"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675962"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675962"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-668"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var">lower_MO_Bin_Rel_Ext</span></a></span><span>
</span><span id="line-669"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGe"><span class="hs-identifier hs-var">WasmGe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675959"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-671"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675961"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-672"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675962"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-673"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675964"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675964"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Le"><span class="hs-identifier hs-type">MO_S_Le</span></a></span><span> </span><span id="local-6989586621682675966"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675966"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675967"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675967"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-674"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var">lower_MO_Bin_Rel_Ext</span></a></span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLe"><span class="hs-identifier hs-var">WasmLe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675964"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-677"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675966"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-678"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675967"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-679"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675969"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675969"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Gt"><span class="hs-identifier hs-type">MO_S_Gt</span></a></span><span> </span><span id="local-6989586621682675971"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675971"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675972"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675972"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-680"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var">lower_MO_Bin_Rel_Ext</span></a></span><span>
</span><span id="line-681"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGt"><span class="hs-identifier hs-var">WasmGt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675969"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-683"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675971"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-684"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675972"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-685"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675974"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675974"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Lt"><span class="hs-identifier hs-type">MO_S_Lt</span></a></span><span> </span><span id="local-6989586621682675976"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675976"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675977"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675977"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-686"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel_Ext"><span class="hs-identifier hs-var">lower_MO_Bin_Rel_Ext</span></a></span><span>
</span><span id="line-687"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLt"><span class="hs-identifier hs-var">WasmLt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675974"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-689"></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675976"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-690"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675977"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-691"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675979"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675979"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-type">MO_U_Ge</span></a></span><span> </span><span id="local-6989586621682675981"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675981"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675982"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675982"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-692"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGe"><span class="hs-identifier hs-var">WasmGe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675979"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-695"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675981"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675982"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-697"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675983"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675983"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-type">MO_U_Le</span></a></span><span> </span><span id="local-6989586621682675985"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675985"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675986"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675986"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-698"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-699"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLe"><span class="hs-identifier hs-var">WasmLe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-700"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675983"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-701"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675985"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675986"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-703"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675987"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675987"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-type">MO_U_Gt</span></a></span><span> </span><span id="local-6989586621682675989"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675989"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675990"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675990"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-704"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-705"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGt"><span class="hs-identifier hs-var">WasmGt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-706"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675987"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-707"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675989"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675990"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-709"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675991"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675991"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-type">MO_U_Lt</span></a></span><span> </span><span id="local-6989586621682675993"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675993"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675994"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675994"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-710"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLt"><span class="hs-identifier hs-var">WasmLt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-var">Unsigned</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675991"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-713"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675993"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-714"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675994"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-715"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682675995"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675995"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Add"><span class="hs-identifier hs-type">MO_F_Add</span></a></span><span> </span><span id="local-6989586621682675997"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675997"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682675998"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675998"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-716"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-717"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAdd"><span class="hs-identifier hs-var">WasmAdd</span></a></span><span>
</span><span id="line-718"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682675995"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-719"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682675997"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682675998"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-721"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676000"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676000"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Sub"><span class="hs-identifier hs-type">MO_F_Sub</span></a></span><span> </span><span id="local-6989586621682676002"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676002"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676003"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676003"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-722"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-723"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSub"><span class="hs-identifier hs-var">WasmSub</span></a></span><span>
</span><span id="line-724"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676000"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-725"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676002"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676003"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-727"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676004"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676004"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Neg"><span class="hs-identifier hs-type">MO_F_Neg</span></a></span><span> </span><span id="local-6989586621682676006"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676006"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676007"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676007"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Homo"><span class="hs-identifier hs-var">lower_MO_Un_Homo</span></a></span><span>
</span><span id="line-729"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNeg"><span class="hs-identifier hs-var">WasmNeg</span></a></span><span>
</span><span id="line-730"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676004"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-731"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676006"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676007"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-733"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676009"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676009"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Mul"><span class="hs-identifier hs-type">MO_F_Mul</span></a></span><span> </span><span id="local-6989586621682676011"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676011"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676012"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676012"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-734"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-735"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmMul"><span class="hs-identifier hs-var">WasmMul</span></a></span><span>
</span><span id="line-736"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676009"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-737"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676011"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676012"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-739"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676013"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676013"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Quot"><span class="hs-identifier hs-type">MO_F_Quot</span></a></span><span> </span><span id="local-6989586621682676015"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676015"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676016"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676016"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-740"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-741"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmDiv"><span class="hs-identifier hs-var">WasmDiv</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-742"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676013"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676015"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676016"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-745"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676017"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676017"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Eq"><span class="hs-identifier hs-type">MO_F_Eq</span></a></span><span> </span><span id="local-6989586621682676019"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676019"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676020"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676020"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-746"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmEq"><span class="hs-identifier hs-var">WasmEq</span></a></span><span>
</span><span id="line-748"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676017"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-749"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676019"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-750"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676020"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-751"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676021"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676021"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Ne"><span class="hs-identifier hs-type">MO_F_Ne</span></a></span><span> </span><span id="local-6989586621682676023"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676023"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676024"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676024"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-752"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNe"><span class="hs-identifier hs-var">WasmNe</span></a></span><span>
</span><span id="line-754"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676021"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-755"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676023"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-756"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676024"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-757"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676025"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676025"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Ge"><span class="hs-identifier hs-type">MO_F_Ge</span></a></span><span> </span><span id="local-6989586621682676027"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676027"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676028"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676028"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-758"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-759"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGe"><span class="hs-identifier hs-var">WasmGe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676025"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-761"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676027"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-762"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676028"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-763"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676029"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676029"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Le"><span class="hs-identifier hs-type">MO_F_Le</span></a></span><span> </span><span id="local-6989586621682676031"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676031"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676032"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676032"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-764"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-765"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLe"><span class="hs-identifier hs-var">WasmLe</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676029"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-767"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676031"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676032"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-769"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676033"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676033"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Gt"><span class="hs-identifier hs-type">MO_F_Gt</span></a></span><span> </span><span id="local-6989586621682676035"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676035"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676036"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676036"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-770"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-771"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGt"><span class="hs-identifier hs-var">WasmGt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676033"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-773"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676035"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-774"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676036"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-775"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676037"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676037"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_F_Lt"><span class="hs-identifier hs-type">MO_F_Lt</span></a></span><span> </span><span id="local-6989586621682676039"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676039"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676040"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676040"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-776"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Rel"><span class="hs-identifier hs-var">lower_MO_Bin_Rel</span></a></span><span>
</span><span id="line-777"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage -&gt; WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
Signage -&gt; WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (a : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLt"><span class="hs-identifier hs-var">WasmLt</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676037"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-779"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676039"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676040"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-781"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676041"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676041"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-type">MO_And</span></a></span><span> </span><span id="local-6989586621682676043"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676043"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676044"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676044"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-782"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-783"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span><span>
</span><span id="line-784"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676041"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676043"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-786"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676044"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-787"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676045"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676045"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-type">MO_Or</span></a></span><span> </span><span id="local-6989586621682676047"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676047"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676048"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676048"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmOr"><span class="hs-identifier hs-var">WasmOr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676045"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676047"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676048"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-788"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676050"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676050"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-type">MO_Xor</span></a></span><span> </span><span id="local-6989586621682676052"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676052"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676053"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676053"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-789"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t :: WasmType).
 WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Bin_Homo"><span class="hs-identifier hs-var">lower_MO_Bin_Homo</span></a></span><span>
</span><span id="line-790"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (pre :: [WasmType]) (t :: WasmType).
WasmTypeTag t -&gt; WasmInstr w (t : t : pre) (t : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmXor"><span class="hs-identifier hs-var">WasmXor</span></a></span><span>
</span><span id="line-791"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676050"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-792"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676052"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-793"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676053"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-794"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676055"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676055"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Not"><span class="hs-identifier hs-type">MO_Not</span></a></span><span> </span><span id="local-6989586621682676057"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676057"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676058"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676058"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-795"></span><span>  </span><span class="annot"><span class="annottext">CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span>
</span><span id="line-796"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676055"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-797"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-var">MO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676057"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-798"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676058"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmExpr) -&gt; CmmLit -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer
</span><a href="GHC.CmmToAsm.Wasm.Utils.html#widthMax"><span class="hs-identifier hs-var">widthMax</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676057"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676057"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-799"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676060"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676060"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-type">MO_Shl</span></a></span><span> </span><span id="local-6989586621682676061"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676061"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676062"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676062"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Shl"><span class="hs-identifier hs-var">lower_MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676060"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676061"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676062"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-800"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676063"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676063"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-type">MO_U_Shr</span></a></span><span> </span><span id="local-6989586621682676064"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676064"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676065"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676065"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_U_Shr"><span class="hs-identifier hs-var">lower_MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676063"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676064"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676065"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-801"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676066"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676066"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-type">MO_S_Shr</span></a></span><span> </span><span id="local-6989586621682676067"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676067"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676068"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676068"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_S_Shr"><span class="hs-identifier hs-var">lower_MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676066"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676067"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676068"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-802"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676069"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676069"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_SF_Conv"><span class="hs-identifier hs-type">MO_SF_Conv</span></a></span><span> </span><span id="local-6989586621682676071"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676071"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676072"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676072"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676073"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676073"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-803"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
 WasmTypeTag t0
 -&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
 WasmTypeTag t0
 -&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Conv"><span class="hs-identifier hs-var">lower_MO_Un_Conv</span></a></span><span>
</span><span id="line-804"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage
-&gt; WasmTypeTag t0
-&gt; WasmTypeTag t1
-&gt; WasmInstr w (t0 : pre) (t1 : pre)
forall (t0 :: WasmType) (t1 :: WasmType) (a :: WasmType)
       (pre :: [WasmType]).
Signage
-&gt; WasmTypeTag t0
-&gt; WasmTypeTag t1
-&gt; WasmInstr a (t0 : pre) (t1 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConvert"><span class="hs-identifier hs-var">WasmConvert</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-805"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676069"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-806"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676071"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-807"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676072"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-808"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676073"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-809"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676075"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676075"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_FS_Conv"><span class="hs-identifier hs-type">MO_FS_Conv</span></a></span><span> </span><span id="local-6989586621682676077"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676077"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676078"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676078"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676079"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676079"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-810"></span><span>  </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
 WasmTypeTag t0
 -&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
(forall (pre :: [WasmType]) (t0 :: WasmType) (t1 :: WasmType).
 WasmTypeTag t0
 -&gt; WasmTypeTag t1 -&gt; WasmInstr w (t0 : pre) (t1 : pre))
-&gt; CLabel
-&gt; CmmType
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Un_Conv"><span class="hs-identifier hs-var">lower_MO_Un_Conv</span></a></span><span>
</span><span id="line-811"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Signage
-&gt; WasmTypeTag t0
-&gt; WasmTypeTag t1
-&gt; WasmInstr w (t0 : pre) (t1 : pre)
forall (t0 :: WasmType) (t1 :: WasmType) (a :: WasmType)
       (pre :: [WasmType]).
Signage
-&gt; WasmTypeTag t0
-&gt; WasmTypeTag t1
-&gt; WasmInstr a (t0 : pre) (t1 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTruncSat"><span class="hs-identifier hs-var">WasmTruncSat</span></a></span><span> </span><span class="annot"><span class="annottext">Signage
</span><a href="GHC.CmmToAsm.Wasm.Types.html#Signed"><span class="hs-identifier hs-var">Signed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-812"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676075"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-813"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676077"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-814"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676078"><span class="hs-identifier hs-var">w1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676079"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-816"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676081"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676081"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-type">MO_SS_Conv</span></a></span><span> </span><span id="local-6989586621682676082"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676082"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676083"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676083"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676084"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676084"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_SS_Conv"><span class="hs-identifier hs-var">lower_MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676081"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676082"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676083"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676084"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-817"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676085"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676085"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-type">MO_UU_Conv</span></a></span><span> </span><span id="local-6989586621682676086"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676086"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676087"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676087"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676088"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676088"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676085"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676086"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676087"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676088"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-818"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676089"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676089"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_XX_Conv"><span class="hs-identifier hs-type">MO_XX_Conv</span></a></span><span> </span><span id="local-6989586621682676091"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676091"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676092"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676092"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676093"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676093"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UU_Conv"><span class="hs-identifier hs-var">lower_MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676089"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676091"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676092"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676093"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-819"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676094"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676094"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_FF_Conv"><span class="hs-identifier hs-type">MO_FF_Conv</span></a></span><span> </span><span id="local-6989586621682676095"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676095"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676096"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676096"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676097"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676097"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; Width -&gt; Width -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_FF_Conv"><span class="hs-identifier hs-var">lower_MO_FF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676094"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676095"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676096"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676097"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-820"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682676098"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682676098"><span class="hs-identifier hs-var">mop</span></a></span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-821"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CmmMachOp: unreachable&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SDoc -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-822"></span><span>    </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;offending MachOp:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; SDoc
</span><a href="GHC.Cmm.MachOp.html#pprMachOp"><span class="hs-identifier hs-var">pprMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682676098"><span class="hs-identifier hs-var">mop</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-823"></span><span>
</span><span id="line-824"></span><span class="hs-comment">-- | Lower a 'CmmLit'. Note that we don't emit 'f32.const' or</span><span>
</span><span id="line-825"></span><span class="hs-comment">-- 'f64.const' for the time being, and instead emit their relative bit</span><span>
</span><span id="line-826"></span><span class="hs-comment">-- pattern as int literals, then use an reinterpret cast. This is</span><span>
</span><span id="line-827"></span><span class="hs-comment">-- simpler than dealing with textual representation of floating point</span><span>
</span><span id="line-828"></span><span class="hs-comment">-- values.</span><span>
</span><span id="line-829"></span><span id="local-6989586621682675052"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLit"><span class="hs-identifier hs-type">lower_CmmLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675052"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675052"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-830"></span><span id="lower_CmmLit"><span class="annot"><span class="annottext">lower_CmmLit :: forall (w :: WasmType). CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLit"><span class="hs-identifier hs-var hs-var">lower_CmmLit</span></a></span></span><span> </span><span id="local-6989586621682676114"><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682676114"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-831"></span><span>  </span><span id="local-6989586621682676115"><span class="annot"><a href="#local-6989586621682676115"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676114"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682676116"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682676116"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682676117"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676117"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676117"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-834"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676119"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676119"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-835"></span><span>        </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-836"></span><span>          </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676119"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; SomeWasmExpr w) -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-837"></span><span>            </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-838"></span><span>              </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Integer -&gt; WasmInstr w pre (t : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676119"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; WasmInstr w pre (t : pre))
-&gt; Integer -&gt; WasmInstr w pre (t : pre)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-839"></span><span>                </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.Cmm.Type.html#narrowU"><span class="hs-identifier hs-var">narrowU</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676117"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682676116"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-840"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-type">CmmFloat</span></a></span><span> </span><span id="local-6989586621682676120"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682676120"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-841"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-842"></span><span>        </span><span class="annot"><span class="annottext">WasmTypeTag 'F32 -&gt; WasmExpr w 'F32 -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w 'F32 -&gt; SomeWasmExpr w)
-&gt; WasmExpr w 'F32 -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-843"></span><span>          </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre ('F32 : pre))
-&gt; WasmExpr w 'F32
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre ('F32 : pre))
 -&gt; WasmExpr w 'F32)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre ('F32 : pre))
-&gt; WasmExpr w 'F32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-844"></span><span>            </span><span class="annot"><span class="annottext">WasmTypeTag 'I32 -&gt; Integer -&gt; WasmInstr w pre ('I32 : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span>
</span><span id="line-845"></span><span>              </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span>
</span><span id="line-846"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Integer) -&gt; Word32 -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word32
</span><span class="hs-identifier hs-var">castFloatToWord32</span></span><span> </span><span class="annot"><span class="annottext">(Float -&gt; Word32) -&gt; Float -&gt; Word32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682676120"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>              </span><span class="annot"><span class="annottext">WasmInstr w pre ('I32 : pre)
-&gt; WasmInstr w ('I32 : pre) ('F32 : pre)
-&gt; WasmInstr w pre ('F32 : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
-&gt; WasmTypeTag 'F32 -&gt; WasmInstr w ('I32 : pre) ('F32 : pre)
forall (t0 :: WasmType) (t1 :: WasmType) (a :: WasmType)
       (pre :: [WasmType]).
WasmTypeTag t0
-&gt; WasmTypeTag t1 -&gt; WasmInstr a (t0 : pre) (t1 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmReinterpret"><span class="hs-identifier hs-var">WasmReinterpret</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI32"><span class="hs-identifier hs-var">TagI32</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span>
</span><span id="line-848"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-type">CmmFloat</span></a></span><span> </span><span id="local-6989586621682676126"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682676126"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-849"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-850"></span><span>        </span><span class="annot"><span class="annottext">WasmTypeTag 'F64 -&gt; WasmExpr w 'F64 -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w 'F64 -&gt; SomeWasmExpr w)
-&gt; WasmExpr w 'F64 -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-851"></span><span>          </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre ('F64 : pre))
-&gt; WasmExpr w 'F64
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre ('F64 : pre))
 -&gt; WasmExpr w 'F64)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre ('F64 : pre))
-&gt; WasmExpr w 'F64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-852"></span><span>            </span><span class="annot"><span class="annottext">WasmTypeTag 'I64 -&gt; Integer -&gt; WasmInstr w pre ('I64 : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span>
</span><span id="line-853"></span><span>              </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span>
</span><span id="line-854"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Integer) -&gt; Word64 -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Word64
</span><span class="hs-identifier hs-var">castDoubleToWord64</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Word64) -&gt; Double -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682676126"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>              </span><span class="annot"><span class="annottext">WasmInstr w pre ('I64 : pre)
-&gt; WasmInstr w ('I64 : pre) ('F64 : pre)
-&gt; WasmInstr w pre ('F64 : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
-&gt; WasmTypeTag 'F64 -&gt; WasmInstr w ('I64 : pre) ('F64 : pre)
forall (t0 :: WasmType) (t1 :: WasmType) (a :: WasmType)
       (pre :: [WasmType]).
WasmTypeTag t0
-&gt; WasmTypeTag t1 -&gt; WasmInstr a (t0 : pre) (t1 : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmReinterpret"><span class="hs-identifier hs-var">WasmReinterpret</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'I64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagI64"><span class="hs-identifier hs-var">TagI64</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span>
</span><span id="line-856"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span id="local-6989586621682676131"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676131"><span class="hs-identifier hs-var">lbl'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-857"></span><span>      </span><span class="annot"><span class="annottext">CLabel -&gt; WasmCodeGenM w ()
forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-var">onAnySym</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676131"><span class="hs-identifier hs-var">lbl'</span></a></span><span>
</span><span id="line-858"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676132"><span class="annot"><span class="annottext">sym :: SymName
</span><a href="#local-6989586621682676132"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676131"><span class="hs-identifier hs-var">lbl'</span></a></span><span>
</span><span id="line-859"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676115"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w w -&gt; SomeWasmExpr w) -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
 -&gt; WasmExpr w w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SymName -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]).
SymName -&gt; WasmInstr a b (a : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676132"><span class="hs-identifier hs-var">sym</span></a></span><span>
</span><span id="line-860"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabelOff"><span class="hs-identifier hs-type">CmmLabelOff</span></a></span><span> </span><span id="local-6989586621682676134"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676134"><span class="hs-identifier hs-var">lbl'</span></a></span></span><span> </span><span id="local-6989586621682676135"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676135"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-861"></span><span>      </span><span class="annot"><span class="annottext">CLabel -&gt; WasmCodeGenM w ()
forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-var">onAnySym</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676134"><span class="hs-identifier hs-var">lbl'</span></a></span><span>
</span><span id="line-862"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676136"><span class="annot"><span class="annottext">sym :: SymName
</span><a href="#local-6989586621682676136"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676134"><span class="hs-identifier hs-var">lbl'</span></a></span><span>
</span><span id="line-863"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-864"></span><span>        </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676115"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w w -&gt; SomeWasmExpr w) -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-865"></span><span>          </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
 -&gt; WasmExpr w w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-866"></span><span>            </span><span class="annot"><span class="annottext">SymName -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]).
SymName -&gt; WasmInstr a b (a : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676136"><span class="hs-identifier hs-var">sym</span></a></span><span>
</span><span id="line-867"></span><span>              </span><span class="annot"><span class="annottext">WasmInstr w pre (w : pre)
-&gt; WasmInstr w (w : pre) (w : w : pre)
-&gt; WasmInstr w pre (w : w : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; Integer -&gt; WasmInstr w (w : pre) (w : w : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676115"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676135"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>              </span><span class="annot"><span class="annottext">WasmInstr w pre (w : w : pre)
-&gt; WasmInstr w (w : w : pre) (w : pre) -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmInstr w (w : w : pre) (w : pre)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAdd"><span class="hs-identifier hs-var">WasmAdd</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676115"><span class="hs-identifier hs-var">ty_word</span></a></span><span>
</span><span id="line-869"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmBlock"><span class="hs-identifier hs-type">CmmBlock</span></a></span><span> </span><span id="local-6989586621682676140"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621682676140"><span class="hs-identifier hs-var">bid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType). CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLit"><span class="hs-identifier hs-var">lower_CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; CmmLit) -&gt; CLabel -&gt; CmmLit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BlockId -&gt; CLabel
</span><a href="GHC.Cmm.BlockId.html#infoTblLbl"><span class="hs-identifier hs-var">infoTblLbl</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621682676140"><span class="hs-identifier hs-var">bid</span></a></span><span>
</span><span id="line-870"></span><span>    </span><span class="annot"><span class="annottext">CmmLit
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CmmLit: unreachable&quot;</span></span><span>
</span><span id="line-871"></span><span>
</span><span id="line-872"></span><span class="hs-comment">--  | Lower a 'CmmReg'. Some of the logic here wouldn't be needed if</span><span>
</span><span id="line-873"></span><span class="hs-comment">--  we have run 'fixStgRegisters' on the wasm NCG's input Cmm, but we</span><span>
</span><span id="line-874"></span><span class="hs-comment">--  haven't run it yet for certain reasons.</span><span>
</span><span id="line-875"></span><span id="local-6989586621682675066"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-type">lower_CmmReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675066"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675066"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-876"></span><span id="lower_CmmReg"><span class="annot"><span class="annottext">lower_CmmReg :: forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-var hs-var">lower_CmmReg</span></a></span></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span id="local-6989586621682676156"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676156"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-877"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682676157"><span class="annot"><a href="#local-6989586621682676157"><span class="hs-identifier hs-var">reg_i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676159"><span class="annot"><a href="#local-6989586621682676159"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676156"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-878"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676159"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalGet"><span class="hs-identifier hs-type">WasmLocalGet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676159"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676157"><span class="hs-identifier hs-type">reg_i</span></a></span><span>
</span><span id="line-879"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-var">lower_CmmReg</span></a></span><span> </span><span id="local-6989586621682676162"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676162"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmGlobal"><span class="hs-identifier hs-type">CmmGlobal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalRegUse"><span class="hs-identifier hs-type">GlobalRegUse</span></a></span><span> </span><span id="local-6989586621682676165"><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676165"><span class="hs-identifier hs-var">greg</span></a></span></span><span> </span><span id="local-6989586621682676166"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676166"><span class="hs-identifier hs-var">reg_use_ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-880"></span><span>  </span><span id="local-6989586621682676167"><span class="annot"><a href="#local-6989586621682676167"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-881"></span><span>  </span><span id="local-6989586621682676168"><span class="annot"><a href="#local-6989586621682676168"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-type">wasmWordCmmTypeM</span></a></span><span>
</span><span id="line-882"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676165"><span class="hs-identifier hs-type">greg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-883"></span><span>    </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#EagerBlackholeInfo"><span class="hs-identifier hs-var">EagerBlackholeInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-884"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-885"></span><span>        </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676167"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w w -&gt; SomeWasmExpr w) -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-886"></span><span>          </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
 -&gt; WasmExpr w w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-887"></span><span>            </span><span class="annot"><span class="annottext">SymName -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]).
SymName -&gt; WasmInstr a b (a : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__stg_EAGER_BLACKHOLE_info&quot;</span></span><span>
</span><span id="line-888"></span><span>    </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#GCEnter1"><span class="hs-identifier hs-var">GCEnter1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-889"></span><span>      </span><span class="annot"><span class="annottext">SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-var">onFuncSym</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__stg_gc_enter_1&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676168"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-890"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676167"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w w -&gt; SomeWasmExpr w) -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
 -&gt; WasmExpr w w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SymName -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]).
SymName -&gt; WasmInstr a b (a : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__stg_gc_enter_1&quot;</span></span><span>
</span><span id="line-891"></span><span>    </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#GCFun"><span class="hs-identifier hs-var">GCFun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-892"></span><span>      </span><span class="annot"><span class="annottext">SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-var">onFuncSym</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__stg_gc_fun&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676168"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-893"></span><span>      </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676167"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w w -&gt; SomeWasmExpr w) -&gt; WasmExpr w w -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
 -&gt; WasmExpr w w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (w : pre))
-&gt; WasmExpr w w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SymName -&gt; WasmInstr w pre (w : pre)
forall (a :: WasmType) (b :: [WasmType]).
SymName -&gt; WasmInstr a b (a : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmSymConst"><span class="hs-identifier hs-var">WasmSymConst</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;__stg_gc_fun&quot;</span></span><span>
</span><span id="line-894"></span><span>    </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#BaseReg"><span class="hs-identifier hs-var">BaseReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-895"></span><span>      </span><span id="local-6989586621682676177"><span class="annot"><a href="#local-6989586621682676177"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Platform
forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var">wasmPlatformM</span></a></span><span>
</span><span id="line-896"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676162"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.CgUtils.html#regTableOffset"><span class="hs-identifier hs-type">regTableOffset</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676177"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-897"></span><span>    </span><span id="local-6989586621682676180"><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676180"><span class="hs-identifier hs-var">_other</span></a></span></span><span>
</span><span id="line-898"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682676181"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676181"><span class="hs-identifier hs-var">sym_global</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676183"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676183"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-899"></span><span>          </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; GlobalReg -&gt; Maybe GlobalInfo
forall (w :: WasmType).
WasmTypeTag w -&gt; GlobalReg -&gt; Maybe GlobalInfo
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#globalInfoFromCmmGlobalReg"><span class="hs-identifier hs-var">globalInfoFromCmmGlobalReg</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676167"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676165"><span class="hs-identifier hs-var">greg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-900"></span><span>          </span><span class="annot"><span class="annottext">SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w))
-&gt; SomeWasmExpr w -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676183"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; SomeWasmExpr w) -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall (w :: WasmType) (t :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-var">WasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
 -&gt; WasmExpr w t)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre (t : pre))
-&gt; WasmExpr w t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; SymName -&gt; WasmInstr w pre (t : pre)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; SymName -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGlobalGet"><span class="hs-identifier hs-var">WasmGlobalGet</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676183"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676181"><span class="hs-identifier hs-var">sym_global</span></a></span><span>
</span><span id="line-901"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-902"></span><span>          </span><span id="local-6989586621682676185"><span class="annot"><a href="#local-6989586621682676185"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Platform
forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var">wasmPlatformM</span></a></span><span>
</span><span id="line-903"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-type">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676166"><span class="hs-identifier hs-type">reg_use_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-904"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676188"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676188"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-905"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676189"><span class="annot"><a href="#local-6989586621682676189"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676190"><span class="annot"><a href="#local-6989586621682676190"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-906"></span><span>                </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676162"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int))
-&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-907"></span><span>                  </span><span class="annot"><span class="annottext">Platform -&gt; GlobalReg -&gt; CmmExpr
</span><a href="GHC.StgToCmm.CgUtils.html#get_GlobalReg_addr"><span class="hs-identifier hs-var">get_GlobalReg_addr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682676185"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676165"><span class="hs-identifier hs-var">greg</span></a></span><span>
</span><span id="line-908"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-909"></span><span>                </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676188"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-910"></span><span>                  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-911"></span><span>                    </span><span class="annot"><a href="#local-6989586621682676189"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-912"></span><span>                      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-type">WasmLoad</span></a></span><span>
</span><span id="line-913"></span><span>                        </span><span class="annot"><a href="#local-6989586621682676188"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-914"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-915"></span><span>                        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span>
</span><span id="line-916"></span><span>                        </span><span class="annot"><a href="#local-6989586621682676190"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-917"></span><span>                        </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmRegOff'.</span></span><span>
</span><span id="line-920"></span><span id="local-6989586621682675084"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmRegOff"><span class="hs-identifier hs-type">lower_CmmRegOff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675084"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675084"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-921"></span><span id="lower_CmmRegOff"><span class="annot"><span class="annottext">lower_CmmRegOff :: forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; Int -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmRegOff"><span class="hs-identifier hs-var hs-var">lower_CmmRegOff</span></a></span></span><span> </span><span id="local-6989586621682676197"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676197"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676198"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676198"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-var">lower_CmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676197"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676198"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-922"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmRegOff"><span class="hs-identifier hs-var">lower_CmmRegOff</span></a></span><span> </span><span id="local-6989586621682676199"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676199"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676200"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676200"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span id="local-6989586621682676201"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676201"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-923"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676203"><span class="annot"><a href="#local-6989586621682676203"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676204"><span class="annot"><a href="#local-6989586621682676204"><span class="hs-identifier hs-var">reg_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-var">lower_CmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676199"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676200"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-924"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-925"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676203"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-926"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-927"></span><span>        </span><span class="annot"><a href="#local-6989586621682676204"><span class="hs-identifier hs-type">reg_instr</span></a></span><span>
</span><span id="line-928"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-type">WasmConst</span></a></span><span>
</span><span id="line-929"></span><span>            </span><span class="annot"><a href="#local-6989586621682676203"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-930"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">toInteger</span></span><span> </span><span class="annot"><a href="#local-6989586621682676201"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-931"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAdd"><span class="hs-identifier hs-type">WasmAdd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676203"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-932"></span><span>
</span><span id="line-933"></span><span class="hs-comment">-- | Lower a 'CmmLoad', passing in the expected wasm representation</span><span>
</span><span id="line-934"></span><span class="hs-comment">-- type, and also the Cmm type (which contains width info needed for</span><span>
</span><span id="line-935"></span><span class="hs-comment">-- memory narrowing).</span><span>
</span><span id="line-936"></span><span class="hs-comment">--</span><span>
</span><span id="line-937"></span><span class="hs-comment">-- The Cmm type system doesn't track signedness, so all 'CmmLoad's are</span><span>
</span><span id="line-938"></span><span class="hs-comment">-- unsigned loads. However, as an optimization, we do emit signed</span><span>
</span><span id="line-939"></span><span class="hs-comment">-- loads when a 'CmmLoad' result is immediately used as a 'MO_SS_Conv'</span><span>
</span><span id="line-940"></span><span class="hs-comment">-- operand.</span><span>
</span><span id="line-941"></span><span id="local-6989586621682674952"><span id="local-6989586621682674953"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad_Typed"><span class="hs-identifier hs-type">lower_CmmLoad_Typed</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-942"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-943"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-944"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674952"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-945"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-946"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674953"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674953"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674952"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-948"></span><span id="lower_CmmLoad_Typed"><span class="annot"><span class="annottext">lower_CmmLoad_Typed :: forall (t :: WasmType) (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad_Typed"><span class="hs-identifier hs-var hs-var">lower_CmmLoad_Typed</span></a></span></span><span> </span><span id="local-6989586621682676208"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676208"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676209"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676209"><span class="hs-identifier hs-var">ptr_expr</span></a></span></span><span> </span><span id="local-6989586621682676210"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676210"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682676211"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676211"><span class="hs-identifier hs-var">ty_cmm</span></a></span></span><span> </span><span id="local-6989586621682676212"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676212"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-949"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676213"><span class="annot"><a href="#local-6989586621682676213"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676214"><span class="annot"><a href="#local-6989586621682676214"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676208"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676209"><span class="hs-identifier hs-var">ptr_expr</span></a></span><span>
</span><span id="line-950"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-951"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-952"></span><span>      </span><span class="annot"><a href="#local-6989586621682676213"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-953"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-type">WasmLoad</span></a></span><span>
</span><span id="line-954"></span><span>          </span><span class="annot"><a href="#local-6989586621682676210"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-955"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-type">wasmMemoryNarrowing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676210"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676211"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span>
</span><span id="line-957"></span><span>          </span><span class="annot"><a href="#local-6989586621682676214"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-958"></span><span>          </span><span class="annot"><a href="#local-6989586621682676212"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-959"></span><span>
</span><span id="line-960"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmLoad'.</span></span><span>
</span><span id="line-961"></span><span id="local-6989586621682675091"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad"><span class="hs-identifier hs-type">lower_CmmLoad</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-962"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-963"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-964"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-965"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-966"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-967"></span><span>    </span><span class="annot"><a href="#local-6989586621682675091"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-968"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675091"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-969"></span><span id="lower_CmmLoad"><span class="annot"><span class="annottext">lower_CmmLoad :: forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad"><span class="hs-identifier hs-var hs-var">lower_CmmLoad</span></a></span></span><span> </span><span id="local-6989586621682676216"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676216"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676217"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676217"><span class="hs-identifier hs-var">ptr_expr</span></a></span></span><span> </span><span id="local-6989586621682676218"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676218"><span class="hs-identifier hs-var">ty_cmm</span></a></span></span><span> </span><span id="local-6989586621682676219"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676219"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676218"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-970"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676221"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676221"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-971"></span><span>    </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; WasmExpr w t -&gt; SomeWasmExpr w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-var">SomeWasmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676221"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(WasmExpr w t -&gt; SomeWasmExpr w)
-&gt; WasmCodeGenM w (WasmExpr w t) -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; WasmTypeTag t
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad_Typed"><span class="hs-identifier hs-var">lower_CmmLoad_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676216"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676217"><span class="hs-identifier hs-var">ptr_expr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676221"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676218"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676219"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-972"></span><span>
</span><span id="line-973"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmExpr'.</span></span><span>
</span><span id="line-974"></span><span id="local-6989586621682674911"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674911"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674911"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-975"></span><span id="lower_CmmExpr"><span class="annot"><span class="annottext">lower_CmmExpr :: forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var hs-var">lower_CmmExpr</span></a></span></span><span> </span><span id="local-6989586621682676224"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676224"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676225"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676225"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676225"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-976"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span id="local-6989586621682676226"><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682676226"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType). CmmLit -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLit"><span class="hs-identifier hs-var">lower_CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682676226"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-977"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span id="local-6989586621682676227"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676227"><span class="hs-identifier hs-var">ptr_expr</span></a></span></span><span> </span><span id="local-6989586621682676228"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676228"><span class="hs-identifier hs-var">ty_cmm</span></a></span></span><span> </span><span id="local-6989586621682676229"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676229"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad"><span class="hs-identifier hs-var">lower_CmmLoad</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676224"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676227"><span class="hs-identifier hs-var">ptr_expr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676228"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676229"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-978"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span id="local-6989586621682676231"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676231"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmReg"><span class="hs-identifier hs-var">lower_CmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676224"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676231"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmRegOff"><span class="hs-identifier hs-type">CmmRegOff</span></a></span><span> </span><span id="local-6989586621682676232"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676232"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span id="local-6989586621682676233"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676233"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmReg -&gt; Int -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmReg -&gt; Int -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmRegOff"><span class="hs-identifier hs-var">lower_CmmRegOff</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676224"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682676232"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676233"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-980"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span id="local-6989586621682676234"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682676234"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682676235"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676235"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; MachOp -&gt; [CmmExpr] -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmMachOp"><span class="hs-identifier hs-var">lower_CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676224"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682676234"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676235"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-981"></span><span>  </span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CmmExpr: unreachable&quot;</span></span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span class="hs-comment">-- | Lower a 'CmmExpr', passing in the expected wasm representation</span><span>
</span><span id="line-984"></span><span class="hs-comment">-- type.</span><span>
</span><span id="line-985"></span><span id="local-6989586621682674869"><span id="local-6989586621682674870"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-986"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-987"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674869"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-988"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-989"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-990"></span><span>    </span><span class="annot"><a href="#local-6989586621682674870"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-991"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674870"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674869"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-992"></span><span id="lower_CmmExpr_Typed"><span class="annot"><span class="annottext">lower_CmmExpr_Typed :: forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var hs-var">lower_CmmExpr_Typed</span></a></span></span><span> </span><span id="local-6989586621682676237"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676237"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676238"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676238"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682676239"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676239"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-993"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676243"><span class="annot"><a href="#local-6989586621682676243"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span id="local-6989586621682676244"><span class="annot"><a href="#local-6989586621682676244"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676237"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676239"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-994"></span><span>  </span><span class="hs-keyword">if</span><span>
</span><span id="line-995"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682676243"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`testEquality`</span></span><span> </span><span class="annot"><a href="#local-6989586621682676238"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682676244"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-996"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-type">panic</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;lower_CmmExpr_Typed: unreachable&quot;</span></span><span>
</span><span id="line-997"></span><span>
</span><span id="line-998"></span><span class="hs-comment">-- | Lower a 'CmmExpr' as a pointer, returning the pair of base</span><span>
</span><span id="line-999"></span><span class="hs-comment">-- pointer and non-negative offset.</span><span>
</span><span id="line-1000"></span><span id="local-6989586621682674948"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-type">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674948"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674948"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674948"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-1001"></span><span id="lower_CmmExpr_Ptr"><span class="annot"><span class="annottext">lower_CmmExpr_Ptr :: forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var hs-var">lower_CmmExpr_Ptr</span></a></span></span><span> </span><span id="local-6989586621682676262"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676262"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676263"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676263"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1002"></span><span>  </span><span id="local-6989586621682676264"><span class="annot"><a href="#local-6989586621682676264"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-1003"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676263"><span class="hs-identifier hs-type">ptr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1004"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabelOff"><span class="hs-identifier hs-type">CmmLabelOff</span></a></span><span> </span><span id="local-6989586621682676265"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676265"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676266"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676266"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1005"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676266"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1006"></span><span>          </span><span id="local-6989586621682676267"><span class="annot"><a href="#local-6989586621682676267"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1007"></span><span>            </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag w -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span>
</span><span id="line-1008"></span><span>              </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676265"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1009"></span><span>              </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676264"><span class="hs-identifier hs-var">ty_word</span></a></span><span>
</span><span id="line-1010"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmExpr) -&gt; CmmLit -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676265"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676267"><span class="hs-identifier hs-type">instrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682676266"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-type">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676268"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676268"><span class="hs-identifier hs-var">base</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682676269"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682676269"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1013"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682676269"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1014"></span><span>          </span><span id="local-6989586621682676270"><span class="annot"><a href="#local-6989586621682676270"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag w -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676262"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676264"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676268"><span class="hs-identifier hs-var">base</span></a></span><span>
</span><span id="line-1015"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676270"><span class="hs-identifier hs-type">instrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fromInteger</span></span><span> </span><span class="annot"><a href="#local-6989586621682676269"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1016"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1017"></span><span>      </span><span id="local-6989586621682676271"><span class="annot"><a href="#local-6989586621682676271"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag w -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676262"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676264"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676263"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-1018"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676271"><span class="hs-identifier hs-type">instrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span>
</span><span id="line-1020"></span><span class="hs-comment">-- | Push a series of values onto the wasm value stack, returning the</span><span>
</span><span id="line-1021"></span><span class="hs-comment">-- result stack type.</span><span>
</span><span id="line-1022"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span>
</span><span id="line-1023"></span><span>  </span><span id="WasmPushes"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-var">WasmPushes</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682676272"><span class="annot"><a href="#local-6989586621682676272"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682676273"><span class="annot"><a href="#local-6989586621682676273"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1024"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmType"><span class="hs-identifier hs-type">WasmType</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1025"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1026"></span><span>  </span><span id="WasmPushes"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-var">WasmPushes</span></a></span></span><span> </span><span id="local-6989586621682676274"><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682676274"><span class="hs-identifier hs-type">pre</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682676274"><span class="hs-identifier hs-type">pre</span></a></span><span>
</span><span id="line-1027"></span><span>  </span><span id="WasmPushes"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-var">WasmPushes</span></a></span></span><span> </span><span id="local-6989586621682676275"><span id="local-6989586621682676276"><span id="local-6989586621682676277"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676275"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682676276"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682676277"><span class="hs-identifier hs-type">pre</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-type">WasmPushes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676276"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676275"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621682676277"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1028"></span><span>
</span><span id="line-1029"></span><span class="annot"><span class="hs-comment">-- | Push the arguments onto the wasm value stack before a ccall.</span></span><span>
</span><span id="line-1030"></span><span class="hs-keyword">data</span><span> </span><span id="SomeWasmPreCCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-var">SomeWasmPreCCall</span></a></span></span><span> </span><span id="local-6989586621682676278"><span class="annot"><a href="#local-6989586621682676278"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1031"></span><span>  </span><span id="local-6989586621682675162"><span id="local-6989586621682676279"><span id="SomeWasmPreCCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-var">SomeWasmPreCCall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1032"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676279"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1033"></span><span>    </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682675152"><span class="annot"><a href="#local-6989586621682675152"><span class="hs-identifier hs-type">pre</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675162"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675152"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-type">WasmPushes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676279"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675152"><span class="hs-identifier hs-type">pre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1034"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-type">SomeWasmPreCCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675162"><span class="hs-identifier hs-type">w</span></a></span></span></span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span class="annot"><span class="hs-comment">-- | Pop the results into locals after a ccall.</span></span><span>
</span><span id="line-1037"></span><span class="hs-keyword">data</span><span> </span><span id="SomeWasmPostCCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-var">SomeWasmPostCCall</span></a></span></span><span> </span><span id="local-6989586621682676281"><span class="annot"><a href="#local-6989586621682676281"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1038"></span><span>  </span><span id="local-6989586621682675173"><span id="local-6989586621682676282"><span id="SomeWasmPostCCall"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-var">SomeWasmPostCCall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1039"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeList"><span class="hs-identifier hs-type">TypeList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676282"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1040"></span><span>    </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682675169"><span class="annot"><a href="#local-6989586621682675169"><span class="hs-identifier hs-type">post</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmInstr"><span class="hs-identifier hs-type">WasmInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675173"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#WasmPushes"><span class="hs-identifier hs-type">WasmPushes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676282"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675169"><span class="hs-identifier hs-type">post</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682675169"><span class="hs-identifier hs-type">post</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-type">SomeWasmPostCCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675173"><span class="hs-identifier hs-type">w</span></a></span></span></span><span>
</span><span id="line-1042"></span><span>
</span><span id="line-1043"></span><span class="annot"><span class="hs-comment">-- | Lower an unary homogeneous 'CallishMachOp' to a ccall.</span></span><span>
</span><span id="line-1044"></span><span id="local-6989586621682675099"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-type">lower_CMO_Un_Homo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1045"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1046"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1047"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1048"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1049"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675099"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675099"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1050"></span><span id="lower_CMO_Un_Homo"><span class="annot"><span class="annottext">lower_CMO_Un_Homo :: forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var hs-var">lower_CMO_Un_Homo</span></a></span></span><span> </span><span id="local-6989586621682676290"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676290"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676291"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676291"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676292"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676292"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676293"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676293"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1051"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682676294"><span class="annot"><a href="#local-6989586621682676294"><span class="hs-identifier hs-var">ri</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676298"><span class="annot"><a href="#local-6989586621682676298"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676292"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1052"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676299"><span class="annot"><a href="#local-6989586621682676299"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676290"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676298"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676293"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-1053"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676300"><span class="annot"><a href="#local-6989586621682676300"><span class="hs-identifier hs-var hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmType
</span><a href="GHC.Cmm.Reg.html#localRegType"><span class="hs-identifier hs-var">localRegType</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676292"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1054"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676291"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682676300"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682676300"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1055"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1056"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1057"></span><span>      </span><span class="annot"><a href="#local-6989586621682676299"><span class="hs-identifier hs-type">x_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCall"><span class="hs-identifier hs-type">WasmCCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676291"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676298"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676294"><span class="hs-identifier hs-type">ri</span></a></span><span>
</span><span id="line-1058"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CMO_Un_Homo: unreachable&quot;</span></span><span>
</span><span id="line-1059"></span><span>
</span><span id="line-1060"></span><span class="annot"><span class="hs-comment">-- | Lower a binary homogeneous 'CallishMachOp' to a ccall.</span></span><span>
</span><span id="line-1061"></span><span id="local-6989586621682676304"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Bin_Homo"><span class="hs-identifier hs-type">lower_CMO_Bin_Homo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1062"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1063"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1064"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1066"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676304"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676304"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1067"></span><span id="lower_CMO_Bin_Homo"><span class="annot"><span class="annottext">lower_CMO_Bin_Homo :: forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Bin_Homo"><span class="hs-identifier hs-var hs-var">lower_CMO_Bin_Homo</span></a></span></span><span> </span><span id="local-6989586621682676309"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676309"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676310"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676310"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676311"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676311"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676312"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676312"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676313"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676313"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1068"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682676314"><span class="annot"><a href="#local-6989586621682676314"><span class="hs-identifier hs-var">ri</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676319"><span class="annot"><a href="#local-6989586621682676319"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676311"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1069"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676320"><span class="annot"><a href="#local-6989586621682676320"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676309"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676319"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676312"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-1070"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676321"><span class="annot"><a href="#local-6989586621682676321"><span class="hs-identifier hs-var">y_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676309"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676319"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676313"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1071"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676322"><span class="annot"><a href="#local-6989586621682676322"><span class="hs-identifier hs-var hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmType
</span><a href="GHC.Cmm.Reg.html#localRegType"><span class="hs-identifier hs-var">localRegType</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676311"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1072"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676310"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682676322"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682676322"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682676322"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1073"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1074"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1075"></span><span>      </span><span class="annot"><a href="#local-6989586621682676320"><span class="hs-identifier hs-type">x_instr</span></a></span><span>
</span><span id="line-1076"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676321"><span class="hs-identifier hs-type">y_instr</span></a></span><span>
</span><span id="line-1077"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCall"><span class="hs-identifier hs-type">WasmCCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676310"><span class="hs-identifier hs-type">op</span></a></span><span>
</span><span id="line-1078"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676319"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676314"><span class="hs-identifier hs-type">ri</span></a></span><span>
</span><span id="line-1079"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Bin_Homo"><span class="hs-identifier hs-var">lower_CMO_Bin_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CMO_Bin_Homo: unreachable&quot;</span></span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span class="annot"><span class="hs-comment">-- | Lower a 'MO_UF_Conv' operation.</span></span><span>
</span><span id="line-1082"></span><span id="local-6989586621682675110"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UF_Conv"><span class="hs-identifier hs-type">lower_MO_UF_Conv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1083"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1084"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1086"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1087"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675110"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675110"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1088"></span><span id="lower_MO_UF_Conv"><span class="annot"><span class="annottext">lower_MO_UF_Conv :: forall (w :: WasmType).
CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UF_Conv"><span class="hs-identifier hs-var hs-var">lower_MO_UF_Conv</span></a></span></span><span> </span><span id="local-6989586621682676331"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676331"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676332"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676332"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676333"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676333"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1089"></span><span>  </span><span id="local-6989586621682676334"><span class="annot"><a href="#local-6989586621682676334"><span class="hs-identifier hs-var">ri</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32 -&gt; LocalReg -&gt; WasmCodeGenM w Int
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; LocalReg -&gt; WasmCodeGenM w Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-var">onCmmLocalReg_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F32
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-var">TagF32</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676332"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1090"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676337"><span class="annot"><a href="#local-6989586621682676337"><span class="hs-identifier hs-var">ty0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676338"><span class="annot"><a href="#local-6989586621682676338"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676331"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676333"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-1091"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1092"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1093"></span><span>      </span><span class="annot"><a href="#local-6989586621682676338"><span class="hs-identifier hs-type">x_instr</span></a></span><span>
</span><span id="line-1094"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConvert"><span class="hs-identifier hs-type">WasmConvert</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676337"><span class="hs-identifier hs-type">ty0</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-type">TagF32</span></a></span><span>
</span><span id="line-1095"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF32"><span class="hs-identifier hs-type">TagF32</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676334"><span class="hs-identifier hs-type">ri</span></a></span><span>
</span><span id="line-1096"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UF_Conv"><span class="hs-identifier hs-var">lower_MO_UF_Conv</span></a></span><span> </span><span id="local-6989586621682676339"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676339"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676340"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676340"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676341"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676341"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1097"></span><span>  </span><span id="local-6989586621682676342"><span class="annot"><a href="#local-6989586621682676342"><span class="hs-identifier hs-var">ri</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64 -&gt; LocalReg -&gt; WasmCodeGenM w Int
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; LocalReg -&gt; WasmCodeGenM w Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-var">onCmmLocalReg_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag 'F64
</span><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-var">TagF64</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676340"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1098"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676344"><span class="annot"><a href="#local-6989586621682676344"><span class="hs-identifier hs-var">ty0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676345"><span class="annot"><a href="#local-6989586621682676345"><span class="hs-identifier hs-var">x_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676339"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676341"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-1099"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1100"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1101"></span><span>      </span><span class="annot"><a href="#local-6989586621682676345"><span class="hs-identifier hs-type">x_instr</span></a></span><span>
</span><span id="line-1102"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConvert"><span class="hs-identifier hs-type">WasmConvert</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676344"><span class="hs-identifier hs-type">ty0</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-type">TagF64</span></a></span><span>
</span><span id="line-1103"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TagF64"><span class="hs-identifier hs-type">TagF64</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676342"><span class="hs-identifier hs-type">ri</span></a></span><span>
</span><span id="line-1104"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UF_Conv"><span class="hs-identifier hs-var">lower_MO_UF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_UF_Conv: unreachable&quot;</span></span><span>
</span><span id="line-1105"></span><span>
</span><span id="line-1106"></span><span class="hs-comment">-- | Lower a 'MO_Cmpxchg' operation to inline assembly. Currently we</span><span>
</span><span id="line-1107"></span><span class="hs-comment">-- target wasm without atomics and threads, so it's just lowered to</span><span>
</span><span id="line-1108"></span><span class="hs-comment">-- regular memory loads and stores.</span><span>
</span><span id="line-1109"></span><span id="local-6989586621682676347"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Cmpxchg"><span class="hs-identifier hs-type">lower_MO_Cmpxchg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1110"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1111"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1112"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1113"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1114"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676347"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676347"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1115"></span><span id="lower_MO_Cmpxchg"><span class="annot"><span class="annottext">lower_MO_Cmpxchg :: forall (w :: WasmType).
CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Cmpxchg"><span class="hs-identifier hs-var hs-var">lower_MO_Cmpxchg</span></a></span></span><span> </span><span id="local-6989586621682676351"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676351"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676352"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676352"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676353"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676353"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676354"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676354"><span class="hs-identifier hs-var">ptr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676355"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676355"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676356"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676356"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1116"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676357"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1117"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676363"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676363"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1118"></span><span>      </span><span id="local-6989586621682676364"><span class="annot"><a href="#local-6989586621682676364"><span class="hs-identifier hs-var">reg_i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; LocalReg -&gt; WasmCodeGenM w Int
forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; LocalReg -&gt; WasmCodeGenM w Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-var">onCmmLocalReg_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676363"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676353"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1119"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676365"><span class="annot"><a href="#local-6989586621682676365"><span class="hs-identifier hs-var hs-var">narrowing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; CmmType -&gt; Maybe Int
forall (t :: WasmType). WasmTypeTag t -&gt; CmmType -&gt; Maybe Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-var">wasmMemoryNarrowing</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676363"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676357"><span class="hs-identifier hs-var">ty_cmm</span></a></span><span>
</span><span id="line-1120"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676366"><span class="annot"><a href="#local-6989586621682676366"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676367"><span class="annot"><a href="#local-6989586621682676367"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-type">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676351"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676354"><span class="hs-identifier hs-type">ptr</span></a></span><span>
</span><span id="line-1121"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676368"><span class="annot"><a href="#local-6989586621682676368"><span class="hs-identifier hs-var">expected_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676351"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676355"><span class="hs-identifier hs-type">expected</span></a></span><span>
</span><span id="line-1122"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676369"><span class="annot"><a href="#local-6989586621682676369"><span class="hs-identifier hs-var">new_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676351"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676356"><span class="hs-identifier hs-type">new</span></a></span><span>
</span><span id="line-1123"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1124"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1125"></span><span>          </span><span class="annot"><a href="#local-6989586621682676366"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-1126"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLoad"><span class="hs-identifier hs-type">WasmLoad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676365"><span class="hs-identifier hs-type">narrowing</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#Unsigned"><span class="hs-identifier hs-type">Unsigned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676367"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span>
</span><span id="line-1127"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalTee"><span class="hs-identifier hs-type">WasmLocalTee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676364"><span class="hs-identifier hs-type">reg_i</span></a></span><span>
</span><span id="line-1128"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676368"><span class="hs-identifier hs-type">expected_instr</span></a></span><span>
</span><span id="line-1129"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmEq"><span class="hs-identifier hs-type">WasmEq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1130"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCond"><span class="hs-identifier hs-type">WasmCond</span></a></span><span>
</span><span id="line-1131"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621682676366"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-1132"></span><span>                  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676369"><span class="hs-identifier hs-type">new_instr</span></a></span><span>
</span><span id="line-1133"></span><span>                  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStore"><span class="hs-identifier hs-type">WasmStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676363"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676365"><span class="hs-identifier hs-type">narrowing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676367"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span>
</span><span id="line-1134"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1135"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1136"></span><span>    </span><span id="local-6989586621682676357"><span class="annot"><span class="annottext">ty_cmm :: CmmType
</span><a href="#local-6989586621682676357"><span class="hs-identifier hs-var hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676352"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-1137"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Cmpxchg"><span class="hs-identifier hs-var">lower_MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_MO_Cmpxchg: unreachable&quot;</span></span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CallishMachOp'.</span></span><span>
</span><span id="line-1140"></span><span id="local-6989586621682675125"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-type">lower_CallishMachOp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1141"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1142"></span><span>  </span><span class="annot"><a href="GHC.Cmm.MachOp.html#CallishMachOp"><span class="hs-identifier hs-type">CallishMachOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1144"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1145"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675125"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675125"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1146"></span><span id="lower_CallishMachOp"><span class="annot"><span class="annottext">lower_CallishMachOp :: forall (w :: WasmType).
CLabel
-&gt; CallishMachOp
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var hs-var">lower_CallishMachOp</span></a></span></span><span> </span><span id="local-6989586621682676470"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676470"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Pwr"><span class="hs-identifier hs-var">MO_F64_Pwr</span></a></span><span> </span><span id="local-6989586621682676472"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676472"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676473"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676473"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Bin_Homo"><span class="hs-identifier hs-var">lower_CMO_Bin_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676470"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;pow&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676472"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676473"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1147"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676474"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676474"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sin"><span class="hs-identifier hs-var">MO_F64_Sin</span></a></span><span> </span><span id="local-6989586621682676476"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676476"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676477"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676477"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676474"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sin&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676476"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676477"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1148"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676478"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676478"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Cos"><span class="hs-identifier hs-var">MO_F64_Cos</span></a></span><span> </span><span id="local-6989586621682676480"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676480"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676481"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676481"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676478"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;cos&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676480"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676481"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1149"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676482"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676482"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Tan"><span class="hs-identifier hs-var">MO_F64_Tan</span></a></span><span> </span><span id="local-6989586621682676484"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676484"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676485"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676485"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676482"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;tan&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676484"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676485"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1150"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676486"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676486"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sinh"><span class="hs-identifier hs-var">MO_F64_Sinh</span></a></span><span> </span><span id="local-6989586621682676488"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676488"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676489"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676489"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676486"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sinh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676488"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676489"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1151"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676490"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676490"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Cosh"><span class="hs-identifier hs-var">MO_F64_Cosh</span></a></span><span> </span><span id="local-6989586621682676492"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676492"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676493"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676493"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676490"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;cosh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676492"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676493"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1152"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676494"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676494"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Tanh"><span class="hs-identifier hs-var">MO_F64_Tanh</span></a></span><span> </span><span id="local-6989586621682676496"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676496"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676497"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676497"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676494"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;tanh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676496"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676497"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1153"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676498"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676498"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Asin"><span class="hs-identifier hs-var">MO_F64_Asin</span></a></span><span> </span><span id="local-6989586621682676500"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676500"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676501"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676501"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676498"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;asin&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676500"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676501"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1154"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676502"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676502"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Acos"><span class="hs-identifier hs-var">MO_F64_Acos</span></a></span><span> </span><span id="local-6989586621682676504"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676504"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676505"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676505"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676502"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;acos&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676504"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676505"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1155"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676506"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676506"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Atan"><span class="hs-identifier hs-var">MO_F64_Atan</span></a></span><span> </span><span id="local-6989586621682676508"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676508"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676509"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676509"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676506"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;atan&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676508"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676509"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1156"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676510"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676510"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Asinh"><span class="hs-identifier hs-var">MO_F64_Asinh</span></a></span><span> </span><span id="local-6989586621682676512"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676512"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676513"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676513"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676510"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;asinh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676512"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676513"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1157"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676514"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676514"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Acosh"><span class="hs-identifier hs-var">MO_F64_Acosh</span></a></span><span> </span><span id="local-6989586621682676516"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676516"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676517"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676517"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676514"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;acosh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676516"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676517"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1158"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676518"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676518"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Atanh"><span class="hs-identifier hs-var">MO_F64_Atanh</span></a></span><span> </span><span id="local-6989586621682676520"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676520"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676521"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676521"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676518"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;atanh&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676520"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676521"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1159"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676522"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676522"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Log"><span class="hs-identifier hs-var">MO_F64_Log</span></a></span><span> </span><span id="local-6989586621682676524"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676524"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676525"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676525"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676522"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;log&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676524"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676525"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1160"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676526"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676526"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Log1P"><span class="hs-identifier hs-var">MO_F64_Log1P</span></a></span><span> </span><span id="local-6989586621682676528"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676528"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676529"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676529"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676526"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;log1p&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676528"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676529"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1161"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676530"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676530"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Exp"><span class="hs-identifier hs-var">MO_F64_Exp</span></a></span><span> </span><span id="local-6989586621682676532"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676532"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676533"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676533"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676530"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;exp&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676532"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676533"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1162"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676534"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676534"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_ExpM1"><span class="hs-identifier hs-var">MO_F64_ExpM1</span></a></span><span> </span><span id="local-6989586621682676536"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676536"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676537"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676537"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676534"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;expm1&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676536"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676537"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1163"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676538"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676538"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Fabs"><span class="hs-identifier hs-var">MO_F64_Fabs</span></a></span><span> </span><span id="local-6989586621682676540"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676540"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676541"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676541"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676538"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;fabs&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676540"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676541"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1164"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676542"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676542"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sqrt"><span class="hs-identifier hs-var">MO_F64_Sqrt</span></a></span><span> </span><span id="local-6989586621682676544"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676544"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676545"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676545"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676542"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sqrt&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676544"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676545"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1165"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676546"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676546"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Pwr"><span class="hs-identifier hs-var">MO_F32_Pwr</span></a></span><span> </span><span id="local-6989586621682676548"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676548"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676549"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676549"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Bin_Homo"><span class="hs-identifier hs-var">lower_CMO_Bin_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676546"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;powf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676548"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676549"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1166"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676550"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676550"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sin"><span class="hs-identifier hs-var">MO_F32_Sin</span></a></span><span> </span><span id="local-6989586621682676552"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676552"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676553"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676553"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676550"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sinf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676552"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676553"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1167"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676554"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676554"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Cos"><span class="hs-identifier hs-var">MO_F32_Cos</span></a></span><span> </span><span id="local-6989586621682676556"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676556"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676557"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676557"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676554"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;cosf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676556"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676557"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1168"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676558"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676558"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Tan"><span class="hs-identifier hs-var">MO_F32_Tan</span></a></span><span> </span><span id="local-6989586621682676560"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676560"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676561"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676561"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676558"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;tanf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676560"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676561"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1169"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676562"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676562"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sinh"><span class="hs-identifier hs-var">MO_F32_Sinh</span></a></span><span> </span><span id="local-6989586621682676564"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676564"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676565"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676565"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676562"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sinhf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676564"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676565"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1170"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676566"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676566"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Cosh"><span class="hs-identifier hs-var">MO_F32_Cosh</span></a></span><span> </span><span id="local-6989586621682676568"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676568"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676569"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676569"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676566"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;coshf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676568"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676569"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1171"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676570"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676570"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Tanh"><span class="hs-identifier hs-var">MO_F32_Tanh</span></a></span><span> </span><span id="local-6989586621682676572"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676572"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676573"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676573"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676570"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;tanhf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676572"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676573"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1172"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676574"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676574"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Asin"><span class="hs-identifier hs-var">MO_F32_Asin</span></a></span><span> </span><span id="local-6989586621682676576"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676576"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676577"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676577"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676574"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;asinf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676576"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676577"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1173"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676578"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676578"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Acos"><span class="hs-identifier hs-var">MO_F32_Acos</span></a></span><span> </span><span id="local-6989586621682676580"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676580"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676581"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676581"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676578"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;acosf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676580"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676581"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1174"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676582"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676582"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Atan"><span class="hs-identifier hs-var">MO_F32_Atan</span></a></span><span> </span><span id="local-6989586621682676584"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676584"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676585"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676585"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676582"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;atanf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676584"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676585"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1175"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676586"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676586"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Asinh"><span class="hs-identifier hs-var">MO_F32_Asinh</span></a></span><span> </span><span id="local-6989586621682676588"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676588"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676589"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676589"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1176"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676586"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;asinhf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676588"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676589"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1177"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676590"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676590"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Acosh"><span class="hs-identifier hs-var">MO_F32_Acosh</span></a></span><span> </span><span id="local-6989586621682676592"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676592"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676593"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676593"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1178"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676590"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;acoshf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676592"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676593"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1179"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676594"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676594"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Atanh"><span class="hs-identifier hs-var">MO_F32_Atanh</span></a></span><span> </span><span id="local-6989586621682676596"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676596"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676597"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676597"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1180"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676594"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;atanhf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676596"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676597"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1181"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676598"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676598"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Log"><span class="hs-identifier hs-var">MO_F32_Log</span></a></span><span> </span><span id="local-6989586621682676600"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676600"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676601"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676601"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676598"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;logf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676600"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676601"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1182"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676602"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676602"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Log1P"><span class="hs-identifier hs-var">MO_F32_Log1P</span></a></span><span> </span><span id="local-6989586621682676604"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676604"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676605"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676605"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1183"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676602"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;log1pf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676604"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676605"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1184"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676606"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676606"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Exp"><span class="hs-identifier hs-var">MO_F32_Exp</span></a></span><span> </span><span id="local-6989586621682676608"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676608"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676609"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676609"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676606"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;expf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676608"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676609"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1185"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676610"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676610"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_ExpM1"><span class="hs-identifier hs-var">MO_F32_ExpM1</span></a></span><span> </span><span id="local-6989586621682676612"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676612"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676613"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676613"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1186"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676610"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;expm1f&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676612"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676613"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1187"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676614"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676614"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Fabs"><span class="hs-identifier hs-var">MO_F32_Fabs</span></a></span><span> </span><span id="local-6989586621682676616"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676616"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676617"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676617"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676614"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;fabsf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676616"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676617"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1188"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676618"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676618"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sqrt"><span class="hs-identifier hs-var">MO_F32_Sqrt</span></a></span><span> </span><span id="local-6989586621682676620"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676620"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676621"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676621"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CMO_Un_Homo"><span class="hs-identifier hs-var">lower_CMO_Un_Homo</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676618"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;sqrtf&quot;</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676620"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676621"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1189"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676622"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676622"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_UF_Conv"><span class="hs-identifier hs-type">MO_UF_Conv</span></a></span><span> </span><span id="local-6989586621682676623"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676623"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676624"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676624"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676625"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676625"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_UF_Conv"><span class="hs-identifier hs-var">lower_MO_UF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676622"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676623"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676624"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676625"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1190"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AcquireFence"><span class="hs-identifier hs-var">MO_AcquireFence</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1191"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_ReleaseFence"><span class="hs-identifier hs-var">MO_ReleaseFence</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1192"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SeqCstFence"><span class="hs-identifier hs-var">MO_SeqCstFence</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1193"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Touch"><span class="hs-identifier hs-var">MO_Touch</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1194"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Prefetch_Data"><span class="hs-identifier hs-type">MO_Prefetch_Data</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1195"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676632"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676632"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Memcpy"><span class="hs-identifier hs-type">MO_Memcpy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621682676634"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676634"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1196"></span><span>  </span><span id="local-6989586621682676635"><span class="annot"><a href="#local-6989586621682676635"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w CmmType
forall (w :: WasmType). WasmCodeGenM w CmmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-var">wasmWordCmmTypeM</span></a></span><span>
</span><span id="line-1197"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall_Drop"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall_Drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676632"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;memcpy&quot;</span></span><span> </span><span class="annot"><a href="#local-6989586621682676635"><span class="hs-identifier hs-type">ty_word_cmm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676634"><span class="hs-identifier hs-type">xs</span></a></span><span>
</span><span id="line-1198"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676637"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676637"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Memset"><span class="hs-identifier hs-type">MO_Memset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621682676639"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676639"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1199"></span><span>  </span><span id="local-6989586621682676640"><span class="annot"><a href="#local-6989586621682676640"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w CmmType
forall (w :: WasmType). WasmCodeGenM w CmmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-var">wasmWordCmmTypeM</span></a></span><span>
</span><span id="line-1200"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall_Drop"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall_Drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676637"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;memset&quot;</span></span><span> </span><span class="annot"><a href="#local-6989586621682676640"><span class="hs-identifier hs-type">ty_word_cmm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676639"><span class="hs-identifier hs-type">xs</span></a></span><span>
</span><span id="line-1201"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676641"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676641"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Memmove"><span class="hs-identifier hs-type">MO_Memmove</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621682676643"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676643"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1202"></span><span>  </span><span id="local-6989586621682676644"><span class="annot"><a href="#local-6989586621682676644"><span class="hs-identifier hs-var">ty_word_cmm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w CmmType
forall (w :: WasmType). WasmCodeGenM w CmmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-var">wasmWordCmmTypeM</span></a></span><span>
</span><span id="line-1203"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall_Drop"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall_Drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676641"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;memmove&quot;</span></span><span> </span><span class="annot"><a href="#local-6989586621682676644"><span class="hs-identifier hs-type">ty_word_cmm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676643"><span class="hs-identifier hs-type">xs</span></a></span><span>
</span><span id="line-1204"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676645"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676645"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Memcmp"><span class="hs-identifier hs-type">MO_Memcmp</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676647"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676647"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676648"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676648"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1205"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1206"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676645"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1207"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;memcmp&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1208"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1209"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1210"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676647"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1211"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676648"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1212"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676651"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676651"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_PopCnt"><span class="hs-identifier hs-type">MO_PopCnt</span></a></span><span> </span><span id="local-6989586621682676653"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676653"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676654"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676654"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676655"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676655"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1213"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1214"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676651"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1215"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_popcnt&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676653"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1217"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1218"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676654"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1219"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676655"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1220"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676657"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676657"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Pdep"><span class="hs-identifier hs-type">MO_Pdep</span></a></span><span> </span><span id="local-6989586621682676659"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676659"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676660"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676660"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676661"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676661"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1221"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1222"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676657"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1223"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_pdep&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676659"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1224"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1225"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1226"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676660"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1227"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676661"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1228"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676662"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676662"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Pext"><span class="hs-identifier hs-type">MO_Pext</span></a></span><span> </span><span id="local-6989586621682676664"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676664"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676665"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676665"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676666"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676666"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1229"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1230"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676662"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1231"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_pext&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676664"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1232"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1233"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1234"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676665"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1235"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676666"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1236"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676667"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676667"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Clz"><span class="hs-identifier hs-type">MO_Clz</span></a></span><span> </span><span id="local-6989586621682676669"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676669"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676670"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676670"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676671"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676671"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1237"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1238"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676667"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1239"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_clz&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676669"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1241"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1242"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676670"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1243"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676671"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1244"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676672"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676672"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Ctz"><span class="hs-identifier hs-type">MO_Ctz</span></a></span><span> </span><span id="local-6989586621682676674"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676674"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676675"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676675"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676676"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676676"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1245"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1246"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676672"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1247"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_ctz&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676674"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1248"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1249"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1250"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676675"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1251"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676676"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1252"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676677"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676677"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_BSwap"><span class="hs-identifier hs-type">MO_BSwap</span></a></span><span> </span><span id="local-6989586621682676679"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676679"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676680"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676680"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676681"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676681"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1253"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1254"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676677"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1255"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_bswap&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676679"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1257"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1258"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676680"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1259"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676681"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1260"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676682"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676682"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_BRev"><span class="hs-identifier hs-type">MO_BRev</span></a></span><span> </span><span id="local-6989586621682676684"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676684"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676685"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676685"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676686"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676686"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1261"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1262"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676682"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1263"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_bitrev&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676684"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1265"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1266"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676685"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1267"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676686"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1268"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676687"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676687"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_AtomicRMW"><span class="hs-identifier hs-type">MO_AtomicRMW</span></a></span><span> </span><span id="local-6989586621682676689"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676689"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span id="local-6989586621682676690"><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="#local-6989586621682676690"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676691"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676691"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676692"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676692"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1269"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1270"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676687"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1271"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1272"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1273"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="#local-6989586621682676690"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1274"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Add"><span class="hs-identifier hs-var">AMO_Add</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_add&quot;</span></span><span>
</span><span id="line-1275"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Sub"><span class="hs-identifier hs-var">AMO_Sub</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_sub&quot;</span></span><span>
</span><span id="line-1276"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_And"><span class="hs-identifier hs-var">AMO_And</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_and&quot;</span></span><span>
</span><span id="line-1277"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Nand"><span class="hs-identifier hs-var">AMO_Nand</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_nand&quot;</span></span><span>
</span><span id="line-1278"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Or"><span class="hs-identifier hs-var">AMO_Or</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_or&quot;</span></span><span>
</span><span id="line-1279"></span><span>              </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Xor"><span class="hs-identifier hs-var">AMO_Xor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_atomic_xor&quot;</span></span><span>
</span><span id="line-1280"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1281"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676689"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1282"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1283"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1284"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1285"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676691"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1286"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676692"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1287"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676699"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676699"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_AtomicRead"><span class="hs-identifier hs-type">MO_AtomicRead</span></a></span><span> </span><span id="local-6989586621682676701"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676701"><span class="hs-identifier hs-var">w0</span></a></span></span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676702"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676702"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676703"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676703"><span class="hs-identifier hs-var">ptr</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1288"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676706"><span class="annot"><a href="#local-6989586621682676706"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676707"><span class="annot"><a href="#local-6989586621682676707"><span class="hs-identifier hs-var">ret_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1289"></span><span>    </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmType
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmLoad"><span class="hs-identifier hs-var">lower_CmmLoad</span></a></span><span>
</span><span id="line-1290"></span><span>      </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676699"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1291"></span><span>      </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676703"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-1292"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676701"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>      </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-var">NaturallyAligned</span></a></span><span>
</span><span id="line-1294"></span><span>  </span><span id="local-6989586621682676708"><span class="annot"><a href="#local-6989586621682676708"><span class="hs-identifier hs-var">ri</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-type">onCmmLocalReg_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676706"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676702"><span class="hs-identifier hs-type">reg</span></a></span><span>
</span><span id="line-1295"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682676707"><span class="hs-identifier hs-type">ret_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676706"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676708"><span class="hs-identifier hs-type">ri</span></a></span><span>
</span><span id="line-1296"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676709"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676709"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_AtomicWrite"><span class="hs-identifier hs-type">MO_AtomicWrite</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682676711"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676711"><span class="hs-identifier hs-var">ptr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676712"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676712"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1297"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStore"><span class="hs-identifier hs-var">lower_CmmStore</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676709"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676711"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676712"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-var">NaturallyAligned</span></a></span><span>
</span><span id="line-1298"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676714"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676714"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-type">MO_Cmpxchg</span></a></span><span> </span><span id="local-6989586621682676715"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676715"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676716"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676716"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676717"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676717"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Width
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_MO_Cmpxchg"><span class="hs-identifier hs-var">lower_MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676714"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676715"><span class="hs-identifier hs-var">w0</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676716"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676717"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1299"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676718"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676718"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Xchg"><span class="hs-identifier hs-type">MO_Xchg</span></a></span><span> </span><span id="local-6989586621682676720"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676720"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676721"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676721"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676722"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676722"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1300"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1301"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676718"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1302"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SymName
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymName) -&gt; String -&gt; SymName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs_xchg&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682676720"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1303"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1304"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1305"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676721"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1306"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676722"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1307"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676723"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676723"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SuspendThread"><span class="hs-identifier hs-var">MO_SuspendThread</span></a></span><span> </span><span id="local-6989586621682676725"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676725"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676726"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676726"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1308"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1309"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676723"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1310"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;suspendThread&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1311"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1312"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1313"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676725"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1314"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676726"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1315"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span id="local-6989586621682676727"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676727"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_ResumeThread"><span class="hs-identifier hs-var">MO_ResumeThread</span></a></span><span> </span><span id="local-6989586621682676729"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676729"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span id="local-6989586621682676730"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676730"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1316"></span><span>  </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1317"></span><span>    </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676727"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1318"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">SymName
</span><span class="hs-string">&quot;resumeThread&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1319"></span><span>    </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1320"></span><span>    </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span>
</span><span id="line-1321"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676729"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1322"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676730"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1323"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CallishMachOp: unreachable&quot;</span></span><span>
</span><span id="line-1324"></span><span>
</span><span id="line-1325"></span><span class="hs-comment">-- | Lower a ccall, but drop the result by assigning it to an unused</span><span>
</span><span id="line-1326"></span><span class="hs-comment">-- local. This is only used for lowering 'MO_Memcpy' and such, where</span><span>
</span><span id="line-1327"></span><span class="hs-comment">-- the libc functions do have a return value, but the corresponding</span><span>
</span><span id="line-1328"></span><span class="hs-comment">-- 'CallishMachOp' does not expect one.</span><span>
</span><span id="line-1329"></span><span id="local-6989586621682675132"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall_Drop"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall_Drop</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1330"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1331"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1332"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1333"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1334"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675132"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675132"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1335"></span><span id="lower_CmmUnsafeForeignCall_Drop"><span class="annot"><span class="annottext">lower_CmmUnsafeForeignCall_Drop :: forall (w :: WasmType).
CLabel
-&gt; SymName
-&gt; CmmType
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall_Drop"><span class="hs-identifier hs-var hs-var">lower_CmmUnsafeForeignCall_Drop</span></a></span></span><span> </span><span id="local-6989586621682676734"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676734"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676735"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676735"><span class="hs-identifier hs-var">sym_callee</span></a></span></span><span> </span><span id="local-6989586621682676736"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676736"><span class="hs-identifier hs-var">ret_cmm_ty</span></a></span></span><span> </span><span id="local-6989586621682676737"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676737"><span class="hs-identifier hs-var">arg_exprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1336"></span><span>  </span><span id="local-6989586621682676738"><span class="annot"><a href="#local-6989586621682676738"><span class="hs-identifier hs-var">ret_uniq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Unique
forall (m :: * -&gt; *). MonadUnique m =&gt; m Unique
</span><a href="GHC.Types.Unique.Supply.html#getUniqueM"><span class="hs-identifier hs-var">getUniqueM</span></a></span><span>
</span><span id="line-1337"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676740"><span class="annot"><a href="#local-6989586621682676740"><span class="hs-identifier hs-var hs-var">ret_local</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; CmmType -&gt; LocalReg
</span><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-var">LocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682676738"><span class="hs-identifier hs-var">ret_uniq</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682676736"><span class="hs-identifier hs-var">ret_cmm_ty</span></a></span><span>
</span><span id="line-1338"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1339"></span><span>    </span><span class="annot"><a href="#local-6989586621682676734"><span class="hs-identifier hs-type">lbl</span></a></span><span>
</span><span id="line-1340"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621682676735"><span class="hs-identifier hs-type">sym_callee</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1341"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-1342"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-type">CmmMayReturn</span></a></span><span>
</span><span id="line-1343"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682676740"><span class="hs-identifier hs-type">ret_local</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1344"></span><span>    </span><span class="annot"><a href="#local-6989586621682676737"><span class="hs-identifier hs-type">arg_exprs</span></a></span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span class="hs-comment">-- | Lower a 'CmmUnsafeForeignCall'. The target is 'Either' a symbol,</span><span>
</span><span id="line-1347"></span><span class="hs-comment">-- which translates to a direct @call@, or an expression, which</span><span>
</span><span id="line-1348"></span><span class="hs-comment">-- translates to a @call_indirect@. The callee function signature is</span><span>
</span><span id="line-1349"></span><span class="hs-comment">-- inferred from the passed in arguments here.</span><span>
</span><span id="line-1350"></span><span id="local-6989586621682675135"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-type">lower_CmmUnsafeForeignCall</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1351"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1352"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1353"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span>
</span><span id="line-1354"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Type.html#ForeignHint"><span class="hs-identifier hs-type">ForeignHint</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Type.html#ForeignHint"><span class="hs-identifier hs-type">ForeignHint</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1355"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmReturnInfo"><span class="hs-identifier hs-type">CmmReturnInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1356"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1357"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1358"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675135"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675135"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1359"></span><span id="lower_CmmUnsafeForeignCall"><span class="annot"><span class="annottext">lower_CmmUnsafeForeignCall :: forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var hs-var">lower_CmmUnsafeForeignCall</span></a></span></span><span> </span><span id="local-6989586621682676748"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676748"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676749"><span class="annot"><span class="annottext">Either SymName CmmExpr
</span><a href="#local-6989586621682676749"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span id="local-6989586621682676750"><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
</span><a href="#local-6989586621682676750"><span class="hs-identifier hs-var">mb_hints</span></a></span></span><span> </span><span id="local-6989586621682676751"><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="#local-6989586621682676751"><span class="hs-identifier hs-var">ret_info</span></a></span></span><span> </span><span id="local-6989586621682676752"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676752"><span class="hs-identifier hs-var">ret_locals</span></a></span></span><span> </span><span id="local-6989586621682676753"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676753"><span class="hs-identifier hs-var">arg_exprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1360"></span><span>  </span><span id="local-6989586621682676754"><span class="annot"><a href="#local-6989586621682676754"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Platform
forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var">wasmPlatformM</span></a></span><span>
</span><span id="line-1361"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-type">SomeWasmPreCCall</span></a></span><span> </span><span id="local-6989586621682676758"><span class="annot"><a href="#local-6989586621682676758"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span> </span><span id="local-6989586621682676759"><span class="annot"><a href="#local-6989586621682676759"><span class="hs-identifier hs-var">args_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1362"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldrM</span></span><span>
</span><span id="line-1363"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682676761"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676761"><span class="hs-identifier hs-var">arg_expr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676762"><span class="annot"><span class="annottext">ForeignHint
</span><a href="#local-6989586621682676762"><span class="hs-identifier hs-var">arg_hint</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-type">SomeWasmPreCCall</span></a></span><span> </span><span id="local-6989586621682676764"><span class="annot"><span class="annottext">TypeList ts
</span><a href="#local-6989586621682676764"><span class="hs-identifier hs-var">acc_tys</span></a></span></span><span> </span><span id="local-6989586621682676765"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre (WasmPushes ts pre)
</span><a href="#local-6989586621682676765"><span class="hs-identifier hs-var">acc_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1364"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676767"><span class="annot"><a href="#local-6989586621682676767"><span class="hs-identifier hs-var">arg_ty</span></a></span></span><span> </span><span id="local-6989586621682676768"><span class="annot"><a href="#local-6989586621682676768"><span class="hs-identifier hs-var">arg_wasm_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (SomeWasmExpr w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-var">lower_CmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676748"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676761"><span class="hs-identifier hs-var">arg_expr</span></a></span><span>
</span><span id="line-1365"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676769"><span class="annot"><a href="#local-6989586621682676769"><span class="hs-identifier hs-var">arg_instr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676762"><span class="hs-identifier hs-type">arg_hint</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1366"></span><span>                </span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#SignedHint"><span class="hs-identifier hs-var">SignedHint</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1367"></span><span>                  </span><span class="annot"><span class="annottext">Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
forall (t :: WasmType) (w :: WasmType).
Width -&gt; WasmTypeTag t -&gt; WasmExpr w t -&gt; WasmExpr w t
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#extendSubword"><span class="hs-identifier hs-var">extendSubword</span></a></span><span>
</span><span id="line-1368"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Width
</span><a href="GHC.Cmm.Expr.html#cmmExprWidth"><span class="hs-identifier hs-var">cmmExprWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682676754"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676761"><span class="hs-identifier hs-var">arg_expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1369"></span><span>                    </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676767"><span class="hs-identifier hs-var">arg_ty</span></a></span><span>
</span><span id="line-1370"></span><span>                    </span><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682676768"><span class="hs-identifier hs-var">arg_wasm_expr</span></a></span><span>
</span><span id="line-1371"></span><span>                </span><span class="annot"><span class="annottext">ForeignHint
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmExpr w t
</span><a href="#local-6989586621682676768"><span class="hs-identifier hs-var">arg_wasm_expr</span></a></span><span>
</span><span id="line-1372"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1373"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-type">SomeWasmPreCCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676767"><span class="hs-identifier hs-type">arg_ty</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListCons"><span class="hs-operator hs-type">`TypeListCons`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676764"><span class="hs-identifier hs-type">acc_tys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1374"></span><span>              </span><span class="annot"><a href="#local-6989586621682676769"><span class="hs-identifier hs-type">arg_instr</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676765"><span class="hs-identifier hs-type">acc_instr</span></a></span><span>
</span><span id="line-1375"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1376"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPreCCall"><span class="hs-identifier hs-type">SomeWasmPreCCall</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListNil"><span class="hs-identifier hs-type">TypeListNil</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-type">WasmNop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1377"></span><span>      </span><span class="annot"><a href="#local-6989586621682676774"><span class="hs-identifier hs-type">arg_exprs_hints</span></a></span><span>
</span><span id="line-1378"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-type">SomeWasmPostCCall</span></a></span><span> </span><span id="local-6989586621682676780"><span class="annot"><a href="#local-6989586621682676780"><span class="hs-identifier hs-var">ret_tys</span></a></span></span><span> </span><span id="local-6989586621682676781"><span class="annot"><a href="#local-6989586621682676781"><span class="hs-identifier hs-var">ret_instr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1379"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldrM</span></span><span>
</span><span id="line-1380"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682676782"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676782"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676783"><span class="annot"><span class="annottext">ForeignHint
</span><a href="#local-6989586621682676783"><span class="hs-identifier hs-var">ret_hint</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-type">SomeWasmPostCCall</span></a></span><span> </span><span id="local-6989586621682676785"><span class="annot"><span class="annottext">TypeList ts
</span><a href="#local-6989586621682676785"><span class="hs-identifier hs-var">acc_tys</span></a></span></span><span> </span><span id="local-6989586621682676786"><span class="annot"><span class="annottext">forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676786"><span class="hs-identifier hs-var">acc_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1381"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682676787"><span class="annot"><a href="#local-6989586621682676787"><span class="hs-identifier hs-var">reg_i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676789"><span class="annot"><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676782"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1382"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1383"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-type">SomeWasmPostCCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682676789"><span class="hs-identifier hs-type">reg_ty</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListCons"><span class="hs-operator hs-type">`TypeListCons`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676785"><span class="hs-identifier hs-type">acc_tys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1384"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><a href="#local-6989586621682676783"><span class="hs-identifier hs-type">ret_hint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#cmmRegWidth"><span class="hs-identifier hs-type">cmmRegWidth</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676782"><span class="hs-identifier hs-type">reg</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1385"></span><span>                </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#SignedHint"><span class="hs-identifier hs-var">SignedHint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1386"></span><span>                  </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676786"><span class="hs-identifier hs-var">acc_instr</span></a></span><span>
</span><span id="line-1387"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
-&gt; WasmInstr w (t : post) (t : t : post)
-&gt; WasmInstr w (WasmPushes ts (t : post)) (t : t : post)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Integer -&gt; WasmInstr w (t : post) (t : t : post)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0xFF</span></span><span>
</span><span id="line-1388"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : t : post)
-&gt; WasmInstr w (t : t : post) (t : post)
-&gt; WasmInstr w (WasmPushes ts (t : post)) (t : post)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : post) (t : post)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span>
</span><span id="line-1389"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
-&gt; WasmInstr w (t : post) post
-&gt; WasmInstr w (WasmPushes ts (t : post)) post
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Int -&gt; WasmInstr w (t : post) post
forall (t :: WasmType) (a :: WasmType) (c :: [WasmType]).
WasmTypeTag t -&gt; Int -&gt; WasmInstr a (t : c) c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-var">WasmLocalSet</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676787"><span class="hs-identifier hs-var">reg_i</span></a></span><span>
</span><span id="line-1390"></span><span>                </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#SignedHint"><span class="hs-identifier hs-var">SignedHint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1391"></span><span>                  </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676786"><span class="hs-identifier hs-var">acc_instr</span></a></span><span>
</span><span id="line-1392"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
-&gt; WasmInstr w (t : post) (t : t : post)
-&gt; WasmInstr w (WasmPushes ts (t : post)) (t : t : post)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Integer -&gt; WasmInstr w (t : post) (t : t : post)
forall (t :: WasmType) (a :: WasmType) (b :: [WasmType]).
WasmTypeTag t -&gt; Integer -&gt; WasmInstr a b (t : b)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConst"><span class="hs-identifier hs-var">WasmConst</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0xFFFF</span></span><span>
</span><span id="line-1393"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : t : post)
-&gt; WasmInstr w (t : t : post) (t : post)
-&gt; WasmInstr w (WasmPushes ts (t : post)) (t : post)
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; WasmInstr w (t : t : post) (t : post)
forall (t :: WasmType) (a :: WasmType) (pre :: [WasmType]).
WasmTypeTag t -&gt; WasmInstr a (t : t : pre) (t : pre)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmAnd"><span class="hs-identifier hs-var">WasmAnd</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span>
</span><span id="line-1394"></span><span>                    </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
-&gt; WasmInstr w (t : post) post
-&gt; WasmInstr w (WasmPushes ts (t : post)) post
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Int -&gt; WasmInstr w (t : post) post
forall (t :: WasmType) (a :: WasmType) (c :: [WasmType]).
WasmTypeTag t -&gt; Int -&gt; WasmInstr a (t : c) c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-var">WasmLocalSet</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676787"><span class="hs-identifier hs-var">reg_i</span></a></span><span>
</span><span id="line-1395"></span><span>                </span><span class="annot"><span class="annottext">(# ForeignHint, Width #)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676786"><span class="hs-identifier hs-var">acc_instr</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts (t : post)) (t : post)
-&gt; WasmInstr w (t : post) post
-&gt; WasmInstr w (WasmPushes ts (t : post)) post
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t -&gt; Int -&gt; WasmInstr w (t : post) post
forall (t :: WasmType) (a :: WasmType) (c :: [WasmType]).
WasmTypeTag t -&gt; Int -&gt; WasmInstr a (t : c) c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-var">WasmLocalSet</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676789"><span class="hs-identifier hs-var">reg_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682676787"><span class="hs-identifier hs-var">reg_i</span></a></span><span>
</span><span id="line-1396"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1397"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#SomeWasmPostCCall"><span class="hs-identifier hs-type">SomeWasmPostCCall</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#TypeListNil"><span class="hs-identifier hs-type">TypeListNil</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-type">WasmNop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1398"></span><span>      </span><span class="annot"><a href="#local-6989586621682676791"><span class="hs-identifier hs-type">ret_locals_hints</span></a></span><span>
</span><span id="line-1399"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676749"><span class="hs-identifier hs-type">target</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1400"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682676792"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676792"><span class="hs-identifier hs-var">sym_callee</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1401"></span><span>      </span><span id="local-6989586621682676793"><span class="annot"><a href="#local-6989586621682676793"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Platform
forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var">wasmPlatformM</span></a></span><span>
</span><span id="line-1402"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676794"><span class="annot"><a href="#local-6989586621682676794"><span class="hs-identifier hs-var hs-var">arg_cmm_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmType) -&gt; [CmmExpr] -&gt; [CmmType]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682676793"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676753"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span>
</span><span id="line-1403"></span><span>          </span><span id="local-6989586621682676796"><span class="annot"><a href="#local-6989586621682676796"><span class="hs-identifier hs-var hs-var">ret_cmm_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocalReg -&gt; CmmType) -&gt; [LocalReg] -&gt; [CmmType]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmType
</span><a href="GHC.Cmm.Reg.html#localRegType"><span class="hs-identifier hs-var">localRegType</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676752"><span class="hs-identifier hs-var">ret_locals</span></a></span><span>
</span><span id="line-1404"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676792"><span class="hs-identifier hs-type">sym_callee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676794"><span class="hs-identifier hs-type">arg_cmm_tys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676796"><span class="hs-identifier hs-type">ret_cmm_tys</span></a></span><span>
</span><span id="line-1405"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1406"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1407"></span><span>          </span><span class="annot"><a href="#local-6989586621682676759"><span class="hs-identifier hs-type">args_instr</span></a></span><span>
</span><span id="line-1408"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCall"><span class="hs-identifier hs-type">WasmCCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676792"><span class="hs-identifier hs-type">sym_callee</span></a></span><span>
</span><span id="line-1409"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676751"><span class="hs-identifier hs-type">ret_info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1410"></span><span>                             </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts pre) pre
forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676781"><span class="hs-identifier hs-var">ret_instr</span></a></span><span>
</span><span id="line-1411"></span><span>                             </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmNeverReturns"><span class="hs-identifier hs-var">CmmNeverReturns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts pre) pre
forall (a :: WasmType) (b :: [WasmType]) (c :: [WasmType]).
WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmUnreachable"><span class="hs-identifier hs-var">WasmUnreachable</span></a></span><span>
</span><span id="line-1412"></span><span>                         </span><span class="hs-special">)</span><span>
</span><span id="line-1413"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682676799"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676799"><span class="hs-identifier hs-var">fptr_callee</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1414"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676800"><span class="annot"><a href="#local-6989586621682676800"><span class="hs-identifier hs-var">instr_callee</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676748"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676799"><span class="hs-identifier hs-var">fptr_callee</span></a></span><span>
</span><span id="line-1415"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1416"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1417"></span><span>          </span><span class="annot"><a href="#local-6989586621682676759"><span class="hs-identifier hs-type">args_instr</span></a></span><span>
</span><span id="line-1418"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676800"><span class="hs-identifier hs-type">instr_callee</span></a></span><span>
</span><span id="line-1419"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCCallIndirect"><span class="hs-identifier hs-type">WasmCCallIndirect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676758"><span class="hs-identifier hs-type">arg_tys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676780"><span class="hs-identifier hs-type">ret_tys</span></a></span><span>
</span><span id="line-1420"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676751"><span class="hs-identifier hs-type">ret_info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1421"></span><span>                             </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmMayReturn"><span class="hs-identifier hs-var">CmmMayReturn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts pre) pre
forall (post :: [WasmType]). WasmInstr w (WasmPushes ts post) post
</span><a href="#local-6989586621682676781"><span class="hs-identifier hs-var">ret_instr</span></a></span><span>
</span><span id="line-1422"></span><span>                             </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="GHC.Cmm.Node.html#CmmNeverReturns"><span class="hs-identifier hs-var">CmmNeverReturns</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmInstr w (WasmPushes ts pre) pre
forall (a :: WasmType) (b :: [WasmType]) (c :: [WasmType]).
WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmUnreachable"><span class="hs-identifier hs-var">WasmUnreachable</span></a></span><span>
</span><span id="line-1423"></span><span>                         </span><span class="hs-special">)</span><span>
</span><span id="line-1424"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1425"></span><span>    </span><span class="hs-special">(#</span><span> </span><span id="local-6989586621682676774"><span class="annot"><span class="annottext">[(CmmExpr, ForeignHint)]
</span><a href="#local-6989586621682676774"><span class="hs-identifier hs-var">arg_exprs_hints</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676791"><span class="annot"><span class="annottext">[(LocalReg, ForeignHint)]
</span><a href="#local-6989586621682676791"><span class="hs-identifier hs-var">ret_locals_hints</span></a></span></span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
</span><a href="#local-6989586621682676750"><span class="hs-identifier hs-var">mb_hints</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1426"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682676802"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676802"><span class="hs-identifier hs-var">arg_hints</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676803"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676803"><span class="hs-identifier hs-var">ret_hints</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1427"></span><span>        </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; [ForeignHint] -&gt; [(CmmExpr, ForeignHint)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676753"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span> </span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676802"><span class="hs-identifier hs-var">arg_hints</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [ForeignHint] -&gt; [(LocalReg, ForeignHint)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676752"><span class="hs-identifier hs-var">ret_locals</span></a></span><span> </span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676803"><span class="hs-identifier hs-var">ret_hints</span></a></span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-1428"></span><span>      </span><span class="annot"><span class="annottext">Maybe ([ForeignHint], [ForeignHint])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; (CmmExpr, ForeignHint))
-&gt; [CmmExpr] -&gt; [(CmmExpr, ForeignHint)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676753"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(LocalReg -&gt; (LocalReg, ForeignHint))
-&gt; [LocalReg] -&gt; [(LocalReg, ForeignHint)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676752"><span class="hs-identifier hs-var">ret_locals</span></a></span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-1429"></span><span>
</span><span id="line-1430"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmStore'.</span></span><span>
</span><span id="line-1431"></span><span id="local-6989586621682675142"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStore"><span class="hs-identifier hs-type">lower_CmmStore</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1432"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1433"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1434"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1435"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1436"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-1437"></span><span>    </span><span class="annot"><a href="#local-6989586621682675142"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-1438"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675142"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1439"></span><span id="lower_CmmStore"><span class="annot"><span class="annottext">lower_CmmStore :: forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStore"><span class="hs-identifier hs-var hs-var">lower_CmmStore</span></a></span></span><span> </span><span id="local-6989586621682676808"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676808"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676809"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676809"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621682676810"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676810"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span id="local-6989586621682676811"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676811"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1440"></span><span>  </span><span id="local-6989586621682676812"><span class="annot"><a href="#local-6989586621682676812"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w Platform
forall (w :: WasmType). WasmCodeGenM w Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-var">wasmPlatformM</span></a></span><span>
</span><span id="line-1441"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676813"><span class="annot"><a href="#local-6989586621682676813"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676814"><span class="annot"><a href="#local-6989586621682676814"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-type">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676808"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676809"><span class="hs-identifier hs-type">ptr</span></a></span><span>
</span><span id="line-1442"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682676815"><span class="annot"><a href="#local-6989586621682676815"><span class="hs-identifier hs-var hs-var">ty_cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682676812"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676810"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-1443"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676817"><span class="annot"><a href="#local-6989586621682676817"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676818"><span class="annot"><a href="#local-6989586621682676818"><span class="hs-identifier hs-var">val_instr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676808"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676810"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-1444"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1445"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1446"></span><span>      </span><span class="annot"><a href="#local-6989586621682676813"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-1447"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676818"><span class="hs-identifier hs-type">val_instr</span></a></span><span>
</span><span id="line-1448"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStore"><span class="hs-identifier hs-type">WasmStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676817"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#wasmMemoryNarrowing"><span class="hs-identifier hs-type">wasmMemoryNarrowing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676817"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676815"><span class="hs-identifier hs-type">ty_cmm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682676814"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676811"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-1449"></span><span>
</span><span id="line-1450"></span><span class="annot"><span class="hs-comment">-- | Lower a single Cmm action.</span></span><span>
</span><span id="line-1451"></span><span id="local-6989586621682675190"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmAction"><span class="hs-identifier hs-type">lower_CmmAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675190"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675190"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1452"></span><span id="lower_CmmAction"><span class="annot"><span class="annottext">lower_CmmAction :: forall (w :: WasmType).
CLabel -&gt; CmmNode O O -&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmAction"><span class="hs-identifier hs-var hs-var">lower_CmmAction</span></a></span></span><span> </span><span id="local-6989586621682676824"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676825"><span class="annot"><span class="annottext">CmmNode O O
</span><a href="#local-6989586621682676825"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1453"></span><span>  </span><span id="local-6989586621682676826"><span class="annot"><a href="#local-6989586621682676826"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-1454"></span><span>  </span><span id="local-6989586621682676827"><span class="annot"><a href="#local-6989586621682676827"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-type">wasmPlatformM</span></a></span><span>
</span><span id="line-1455"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682676825"><span class="hs-identifier hs-type">act</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1456"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmComment"><span class="hs-identifier hs-type">CmmComment</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1457"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmTick"><span class="hs-identifier hs-type">CmmTick</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1458"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnwind"><span class="hs-identifier hs-type">CmmUnwind</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1459"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmAssign"><span class="hs-identifier hs-type">CmmAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span id="local-6989586621682676844"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676844"><span class="hs-identifier hs-var">reg</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676845"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676845"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1460"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682676846"><span class="annot"><a href="#local-6989586621682676846"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676849"><span class="annot"><a href="#local-6989586621682676849"><span class="hs-identifier hs-var">ty_reg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682676844"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1461"></span><span>      </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676850"><span class="annot"><a href="#local-6989586621682676850"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-type">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676824"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676849"><span class="hs-identifier hs-type">ty_reg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676845"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1462"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682676850"><span class="hs-identifier hs-type">instrs</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmLocalSet"><span class="hs-identifier hs-type">WasmLocalSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676849"><span class="hs-identifier hs-type">ty_reg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676846"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-1463"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmAssign"><span class="hs-identifier hs-type">CmmAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmGlobal"><span class="hs-identifier hs-type">CmmGlobal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalRegUse"><span class="hs-identifier hs-type">GlobalRegUse</span></a></span><span> </span><span id="local-6989586621682676856"><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676856"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676857"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676857"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-1464"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="GHC.Cmm.Reg.html#BaseReg"><span class="hs-identifier hs-var">BaseReg</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676856"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w -&gt; WasmCodeGenM w (WasmStatements w)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span>
</span><span id="line-1465"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682676858"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676858"><span class="hs-identifier hs-var">sym_global</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682676861"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676861"><span class="hs-identifier hs-var">ty_reg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1466"></span><span>          </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; GlobalReg -&gt; Maybe GlobalInfo
forall (w :: WasmType).
WasmTypeTag w -&gt; GlobalReg -&gt; Maybe GlobalInfo
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#globalInfoFromCmmGlobalReg"><span class="hs-identifier hs-var">globalInfoFromCmmGlobalReg</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676826"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676856"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1467"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676862"><span class="annot"><a href="#local-6989586621682676862"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682676861"><span class="hs-identifier hs-var">ty_reg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676857"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1468"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1469"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1470"></span><span>              </span><span class="annot"><a href="#local-6989586621682676862"><span class="hs-identifier hs-type">instrs</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmGlobalSet"><span class="hs-identifier hs-type">WasmGlobalSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676861"><span class="hs-identifier hs-type">ty_reg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676858"><span class="hs-identifier hs-type">sym_global</span></a></span><span>
</span><span id="line-1471"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1472"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676864"><span class="annot"><a href="#local-6989586621682676864"><span class="hs-identifier hs-var">ptr_instr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682676865"><span class="annot"><a href="#local-6989586621682676865"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1473"></span><span>            </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall (w :: WasmType).
CLabel -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Ptr"><span class="hs-identifier hs-var">lower_CmmExpr_Ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int))
-&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; GlobalReg -&gt; CmmExpr
</span><a href="GHC.StgToCmm.CgUtils.html#get_GlobalReg_addr"><span class="hs-identifier hs-var">get_GlobalReg_addr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682676827"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalReg
</span><a href="#local-6989586621682676856"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1474"></span><span>          </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmExpr"><span class="hs-identifier hs-type">SomeWasmExpr</span></a></span><span> </span><span id="local-6989586621682676867"><span class="annot"><a href="#local-6989586621682676867"><span class="hs-identifier hs-var">ty_e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmExpr"><span class="hs-identifier hs-type">WasmExpr</span></a></span><span> </span><span id="local-6989586621682676868"><span class="annot"><a href="#local-6989586621682676868"><span class="hs-identifier hs-var">instrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr"><span class="hs-identifier hs-type">lower_CmmExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676824"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676857"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1475"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1476"></span><span>            </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1477"></span><span>              </span><span class="annot"><a href="#local-6989586621682676864"><span class="hs-identifier hs-type">ptr_instr</span></a></span><span>
</span><span id="line-1478"></span><span>                </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676868"><span class="hs-identifier hs-type">instrs</span></a></span><span>
</span><span id="line-1479"></span><span>                </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-type">`WasmConcat`</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStore"><span class="hs-identifier hs-type">WasmStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676867"><span class="hs-identifier hs-type">ty_e</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><a href="#local-6989586621682676865"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span>
</span><span id="line-1480"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmStore"><span class="hs-identifier hs-type">CmmStore</span></a></span><span> </span><span id="local-6989586621682676871"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676871"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621682676872"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676872"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span id="local-6989586621682676873"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676873"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; AlignmentSpec
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStore"><span class="hs-identifier hs-var">lower_CmmStore</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676871"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676872"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682676873"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-1481"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnsafeForeignCall"><span class="hs-identifier hs-type">CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1482"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-type">ForeignTarget</span></a></span><span>
</span><span id="line-1483"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span id="local-6989586621682676880"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676880"><span class="hs-identifier hs-var">lbl_callee</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1484"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignConvention"><span class="hs-identifier hs-type">ForeignConvention</span></a></span><span> </span><span id="local-6989586621682676882"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621682676882"><span class="hs-identifier hs-var">conv</span></a></span></span><span> </span><span id="local-6989586621682676883"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676883"><span class="hs-identifier hs-var">arg_hints</span></a></span></span><span> </span><span id="local-6989586621682676884"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676884"><span class="hs-identifier hs-var">ret_hints</span></a></span></span><span> </span><span id="local-6989586621682676885"><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="#local-6989586621682676885"><span class="hs-identifier hs-var">ret_info</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1485"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1486"></span><span>      </span><span id="local-6989586621682676886"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676886"><span class="hs-identifier hs-var">ret_locals</span></a></span></span><span>
</span><span id="line-1487"></span><span>      </span><span id="local-6989586621682676887"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676887"><span class="hs-identifier hs-var">arg_exprs</span></a></span></span><span>
</span><span id="line-1488"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621682676882"><span class="hs-identifier hs-var">conv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv -&gt; [CCallConv] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1489"></span><span>            </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1490"></span><span>              </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1491"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymName -&gt; Either SymName CmmExpr
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(SymName -&gt; Either SymName CmmExpr)
-&gt; SymName -&gt; Either SymName CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676880"><span class="hs-identifier hs-var">lbl_callee</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1492"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([ForeignHint], [ForeignHint])
-&gt; Maybe ([ForeignHint], [ForeignHint])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676883"><span class="hs-identifier hs-var">arg_hints</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676884"><span class="hs-identifier hs-var">ret_hints</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1493"></span><span>              </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="#local-6989586621682676885"><span class="hs-identifier hs-var">ret_info</span></a></span><span>
</span><span id="line-1494"></span><span>              </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676886"><span class="hs-identifier hs-var">ret_locals</span></a></span><span>
</span><span id="line-1495"></span><span>              </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676887"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span>
</span><span id="line-1496"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnsafeForeignCall"><span class="hs-identifier hs-type">CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1497"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-type">ForeignTarget</span></a></span><span> </span><span id="local-6989586621682676895"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676895"><span class="hs-identifier hs-var">target_expr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignConvention"><span class="hs-identifier hs-type">ForeignConvention</span></a></span><span> </span><span id="local-6989586621682676896"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621682676896"><span class="hs-identifier hs-var">conv</span></a></span></span><span> </span><span id="local-6989586621682676897"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676897"><span class="hs-identifier hs-var">arg_hints</span></a></span></span><span> </span><span id="local-6989586621682676898"><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676898"><span class="hs-identifier hs-var">ret_hints</span></a></span></span><span> </span><span id="local-6989586621682676899"><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="#local-6989586621682676899"><span class="hs-identifier hs-var">ret_info</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1498"></span><span>      </span><span id="local-6989586621682676900"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676900"><span class="hs-identifier hs-var">ret_locals</span></a></span></span><span>
</span><span id="line-1499"></span><span>      </span><span id="local-6989586621682676901"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676901"><span class="hs-identifier hs-var">arg_exprs</span></a></span></span><span>
</span><span id="line-1500"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621682676896"><span class="hs-identifier hs-var">conv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv -&gt; [CCallConv] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1501"></span><span>            </span><span class="annot"><span class="annottext">CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; Either SymName CmmExpr
-&gt; Maybe ([ForeignHint], [ForeignHint])
-&gt; CmmReturnInfo
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmUnsafeForeignCall"><span class="hs-identifier hs-var">lower_CmmUnsafeForeignCall</span></a></span><span>
</span><span id="line-1502"></span><span>              </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1503"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr -&gt; Either SymName CmmExpr
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682676895"><span class="hs-identifier hs-var">target_expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1504"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([ForeignHint], [ForeignHint])
-&gt; Maybe ([ForeignHint], [ForeignHint])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676897"><span class="hs-identifier hs-var">arg_hints</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ForeignHint]
</span><a href="#local-6989586621682676898"><span class="hs-identifier hs-var">ret_hints</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1505"></span><span>              </span><span class="annot"><span class="annottext">CmmReturnInfo
</span><a href="#local-6989586621682676899"><span class="hs-identifier hs-var">ret_info</span></a></span><span>
</span><span id="line-1506"></span><span>              </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676900"><span class="hs-identifier hs-var">ret_locals</span></a></span><span>
</span><span id="line-1507"></span><span>              </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676901"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span>
</span><span id="line-1508"></span><span>    </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnsafeForeignCall"><span class="hs-identifier hs-type">CmmUnsafeForeignCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#PrimTarget"><span class="hs-identifier hs-type">PrimTarget</span></a></span><span> </span><span id="local-6989586621682676905"><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682676905"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676906"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676906"><span class="hs-identifier hs-var">ret_locals</span></a></span></span><span> </span><span id="local-6989586621682676907"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676907"><span class="hs-identifier hs-var">arg_exprs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1509"></span><span>      </span><span class="annot"><span class="annottext">CLabel
-&gt; CallishMachOp
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel
-&gt; CallishMachOp
-&gt; [LocalReg]
-&gt; [CmmExpr]
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CallishMachOp"><span class="hs-identifier hs-var">lower_CallishMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676824"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682676905"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682676906"><span class="hs-identifier hs-var">ret_locals</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682676907"><span class="hs-identifier hs-var">arg_exprs</span></a></span><span>
</span><span id="line-1510"></span><span>    </span><span class="annot"><span class="annottext">CmmNode O O
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w (WasmStatements w)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lower_CmmAction: unreachable&quot;</span></span><span>
</span><span id="line-1511"></span><span>
</span><span id="line-1512"></span><span class="annot"><span class="hs-comment">-- | Lower a block of Cmm actions.</span></span><span>
</span><span id="line-1513"></span><span id="local-6989586621682675210"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmActions"><span class="hs-identifier hs-type">lower_CmmActions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1514"></span><span>  </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1515"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Dataflow.Label.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1516"></span><span>  </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1517"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span>
</span><span id="line-1518"></span><span>    </span><span class="annot"><a href="#local-6989586621682675210"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-1519"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675210"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1520"></span><span id="lower_CmmActions"><span class="annot"><span class="annottext">lower_CmmActions :: forall (w :: WasmType).
CLabel
-&gt; BlockId
-&gt; Block CmmNode O O
-&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmActions"><span class="hs-identifier hs-var hs-var">lower_CmmActions</span></a></span></span><span> </span><span id="local-6989586621682676913"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676913"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682676914"><span class="annot"><span class="annottext">Block CmmNode O O
</span><a href="#local-6989586621682676914"><span class="hs-identifier hs-var">blk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1521"></span><span>  </span><span class="annot"><span class="annottext">(WasmStatements w
 -&gt; CmmNode O O -&gt; WasmCodeGenM w (WasmStatements w))
-&gt; WasmStatements w
-&gt; [CmmNode O O]
-&gt; WasmCodeGenM w (WasmStatements w)
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><span class="hs-identifier hs-var">foldlM</span></span><span>
</span><span id="line-1522"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span id="local-6989586621682676916"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre pre
</span><a href="#local-6989586621682676916"><span class="hs-identifier hs-var">acc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682676917"><span class="annot"><span class="annottext">CmmNode O O
</span><a href="#local-6989586621682676917"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1523"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-type">WasmStatements</span></a></span><span> </span><span id="local-6989586621682676918"><span class="annot"><span class="annottext">forall (pre :: [WasmType]). WasmInstr w pre pre
</span><a href="#local-6989586621682676918"><span class="hs-identifier hs-var">stmts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (pre :: [WasmType]). WasmInstr w pre pre)
 -&gt; WasmStatements w)
-&gt; (forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
</span><a href="#local-6989586621682676916"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre -&gt; WasmInstr w pre pre -&gt; WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]) (mid :: [WasmType])
       (c :: [WasmType]).
WasmInstr a b mid -&gt; WasmInstr a mid c -&gt; WasmInstr a b c
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmConcat"><span class="hs-operator hs-var">`WasmConcat`</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
</span><a href="#local-6989586621682676918"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1524"></span><span>          </span><span class="annot"><span class="annottext">(WasmStatements w -&gt; WasmStatements w)
-&gt; WasmCodeGenM w (WasmStatements w)
-&gt; WasmCodeGenM w (WasmStatements w)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmNode O O -&gt; WasmCodeGenM w (WasmStatements w)
forall (w :: WasmType).
CLabel -&gt; CmmNode O O -&gt; WasmCodeGenM w (WasmStatements w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmAction"><span class="hs-identifier hs-var">lower_CmmAction</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676913"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode O O
</span><a href="#local-6989586621682676917"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-1525"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1526"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
forall (w :: WasmType).
(forall (pre :: [WasmType]). WasmInstr w pre pre)
-&gt; WasmStatements w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmStatements"><span class="hs-identifier hs-var">WasmStatements</span></a></span><span> </span><span class="annot"><span class="annottext">WasmInstr w pre pre
forall (pre :: [WasmType]). WasmInstr w pre pre
forall (a :: WasmType) (b :: [WasmType]). WasmInstr a b b
</span><a href="GHC.CmmToAsm.Wasm.Types.html#WasmNop"><span class="hs-identifier hs-var">WasmNop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1527"></span><span>    </span><span class="annot"><span class="annottext">[CmmNode O O]
</span><a href="#local-6989586621682676919"><span class="hs-identifier hs-var">acts</span></a></span><span>
</span><span id="line-1528"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1529"></span><span>    </span><span id="local-6989586621682676919"><span class="annot"><span class="annottext">acts :: [CmmNode O O]
</span><a href="#local-6989586621682676919"><span class="hs-identifier hs-var hs-var">acts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Block CmmNode O O -&gt; [CmmNode O O]
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
Block n O O -&gt; [n O O]
</span><a href="GHC.Cmm.Dataflow.Block.html#blockToList"><span class="hs-identifier hs-var">blockToList</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode O O
</span><a href="#local-6989586621682676914"><span class="hs-identifier hs-var">blk</span></a></span><span>
</span><span id="line-1530"></span><span>
</span><span id="line-1531"></span><span class="annot"><span class="hs-comment">-- | Lower a 'CmmGraph'.</span></span><span>
</span><span id="line-1532"></span><span id="local-6989586621682675220"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmGraph"><span class="hs-identifier hs-type">lower_CmmGraph</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmGraph"><span class="hs-identifier hs-type">CmmGraph</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675220"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier hs-type">FuncBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675220"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1533"></span><span id="lower_CmmGraph"><span class="annot"><span class="annottext">lower_CmmGraph :: forall (w :: WasmType).
CLabel -&gt; CmmGraph -&gt; WasmCodeGenM w (FuncBody w)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmGraph"><span class="hs-identifier hs-var hs-var">lower_CmmGraph</span></a></span></span><span> </span><span id="local-6989586621682676932"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676932"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682676933"><span class="annot"><span class="annottext">CmmGraph
</span><a href="#local-6989586621682676933"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1534"></span><span>  </span><span id="local-6989586621682676934"><span class="annot"><a href="#local-6989586621682676934"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-1535"></span><span>  </span><span id="local-6989586621682676935"><span class="annot"><a href="#local-6989586621682676935"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmPlatformM"><span class="hs-identifier hs-type">wasmPlatformM</span></a></span><span>
</span><span id="line-1536"></span><span>  </span><span id="local-6989586621682676936"><span class="annot"><a href="#local-6989586621682676936"><span class="hs-identifier hs-var">us</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Supply.html#getUniqueSupplyM"><span class="hs-identifier hs-type">getUniqueSupplyM</span></a></span><span>
</span><span id="line-1537"></span><span>  </span><span id="local-6989586621682676938"><span class="annot"><a href="#local-6989586621682676938"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1538"></span><span>    </span><span class="annot"><a href="GHC.Wasm.ControlFlow.FromCmm.html#structuredControl"><span class="hs-identifier hs-type">structuredControl</span></a></span><span>
</span><span id="line-1539"></span><span>      </span><span class="annot"><a href="#local-6989586621682676935"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-1540"></span><span>      </span><span class="annot"><a href="#local-6989586621682676936"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-1541"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; WasmTypeTag w -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w w)
forall (t :: WasmType) (w :: WasmType).
CLabel -&gt; WasmTypeTag t -&gt; CmmExpr -&gt; WasmCodeGenM w (WasmExpr w t)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmExpr_Typed"><span class="hs-identifier hs-var">lower_CmmExpr_Typed</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676932"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682676934"><span class="hs-identifier hs-var">ty_word</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmActions"><span class="hs-identifier hs-type">lower_CmmActions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676932"><span class="hs-identifier hs-type">lbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1543"></span><span>      </span><span class="annot"><a href="#local-6989586621682676933"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-1544"></span><span>  </span><span id="local-6989586621682676940"><span class="annot"><a href="#local-6989586621682676940"><span class="hs-identifier hs-var">locals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-type">wasmStateM</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682676942"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676942"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1545"></span><span>    </span><span class="hs-special">(#</span><span>
</span><span id="line-1546"></span><span>      </span><span class="annot"><span class="annottext">((Int, SomeWasmType) -&gt; SomeWasmType)
-&gt; [(Int, SomeWasmType)] -&gt; [SomeWasmType]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, SomeWasmType) -&gt; SomeWasmType
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(Int, SomeWasmType)] -&gt; [SomeWasmType])
-&gt; [(Int, SomeWasmType)] -&gt; [SomeWasmType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UniqFM LocalReg (Int, SomeWasmType) -&gt; [(Int, SomeWasmType)]
forall {k1} k2 (k0 :: k1) a.
Ord k2 =&gt;
UniqFM k0 (k2, a) -&gt; [(k2, a)]
</span><a href="GHC.CmmToAsm.Wasm.Utils.html#detEltsUFM"><span class="hs-identifier hs-var">detEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">(UniqFM LocalReg (Int, SomeWasmType) -&gt; [(Int, SomeWasmType)])
-&gt; UniqFM LocalReg (Int, SomeWasmType) -&gt; [(Int, SomeWasmType)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w -&gt; UniqFM LocalReg (Int, SomeWasmType)
forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-identifier hs-var">localRegs</span></a></span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676942"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1547"></span><span>      </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676942"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-identifier hs-var">localRegs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-type">emptyUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#localRegsCount"><span class="hs-identifier hs-var">localRegsCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">}</span><span class="hs-cpp">
    #)
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#FuncBody"><span class="hs-identifier hs-type">FuncBody</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcLocals"><span class="hs-identifier hs-var">funcLocals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682676940"><span class="hs-identifier hs-type">locals</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcBody"><span class="hs-identifier hs-var">funcBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmControlCast"><span class="hs-identifier hs-type">wasmControlCast</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682676938"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1550"></span><span>
</span><span id="line-1551"></span><span class="hs-comment">-- | Invoked once for each 'CLabel' which indexes a 'CmmData' or</span><span>
</span><span id="line-1552"></span><span class="hs-comment">-- 'CmmProc'.</span><span>
</span><span id="line-1553"></span><span id="local-6989586621682676954"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onTopSym"><span class="hs-identifier hs-type">onTopSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676954"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1554"></span><span id="onTopSym"><span class="annot"><span class="annottext">onTopSym :: forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onTopSym"><span class="hs-identifier hs-var hs-var">onTopSym</span></a></span></span><span> </span><span id="local-6989586621682676959"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676959"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SymVisibility
</span><a href="#local-6989586621682676960"><span class="hs-identifier hs-var">sym_vis</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1555"></span><span>  </span><span class="annot"><span class="annottext">SymVisibility
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymDefault"><span class="hs-identifier hs-var">SymDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-var">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ())
-&gt; (WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682676962"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676962"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1556"></span><span>    </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676962"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1557"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#defaultSyms"><span class="hs-identifier hs-var">defaultSyms</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1558"></span><span>          </span><span class="annot"><a href="GHC.Data.Word64Set.Internal.html#insert"><span class="hs-identifier hs-type">WS.insert</span></a></span><span>
</span><span id="line-1559"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-type">getKey</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-type">getUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676967"><span class="hs-identifier hs-type">sym</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1560"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#defaultSyms"><span class="hs-identifier hs-var">defaultSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676962"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1561"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1562"></span><span>  </span><span class="annot"><span class="annottext">SymVisibility
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; WasmCodeGenM w ()
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1563"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1564"></span><span>    </span><span id="local-6989586621682676967"><span class="annot"><span class="annottext">sym :: SymName
</span><a href="#local-6989586621682676967"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676959"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1565"></span><span>
</span><span id="line-1566"></span><span>    </span><span id="local-6989586621682676960"><span class="annot"><span class="annottext">sym_vis :: SymVisibility
</span><a href="#local-6989586621682676960"><span class="hs-identifier hs-var hs-var">sym_vis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymVisibility
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symVisibilityFromCLabel"><span class="hs-identifier hs-var">symVisibilityFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676959"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1567"></span><span>
</span><span id="line-1568"></span><span class="hs-comment">-- | Invoked for each function 'CLabel' with known type (e.g. a</span><span>
</span><span id="line-1569"></span><span class="hs-comment">-- 'CmmProc', or callee of 'CmmUnsafeForeignCall').</span><span>
</span><span id="line-1570"></span><span id="local-6989586621682674935"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674935"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1571"></span><span id="onFuncSym"><span class="annot"><span class="annottext">onFuncSym :: forall (w :: WasmType).
SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-var hs-var">onFuncSym</span></a></span></span><span> </span><span id="local-6989586621682676969"><span class="annot"><span class="annottext">SymName
</span><a href="#local-6989586621682676969"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span id="local-6989586621682676970"><span class="annot"><span class="annottext">[CmmType]
</span><a href="#local-6989586621682676970"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span> </span><span id="local-6989586621682676971"><span class="annot"><span class="annottext">[CmmType]
</span><a href="#local-6989586621682676971"><span class="hs-identifier hs-var">ret_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-var">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ())
-&gt; (WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1572"></span><span>  </span><span class="hs-glyph">\</span><span id="local-6989586621682676972"><span class="annot"><span class="annottext">s :: WasmCodeGenState w
</span><a href="#local-6989586621682676972"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682676974"><span id="local-6989586621682676975"><span id="local-6989586621682676976"><span id="local-6989586621682676977"><span id="local-6989586621682676978"><span id="local-6989586621682676979"><span id="local-6989586621682676980"><span id="local-6989586621682676981"><span id="local-6989586621682676982"><span class="annot"><span class="annottext">Int
[SymName]
Word64Set
UniqFM LocalReg (Int, SomeWasmType)
UniqSupply
SymMap ([SomeWasmType], [SomeWasmType])
SymMap (FuncBody w)
SymMap DataSection
Platform
localRegs :: forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: forall (w :: WasmType). WasmCodeGenState w -&gt; Int
defaultSyms :: forall (w :: WasmType). WasmCodeGenState w -&gt; Word64Set
wasmPlatform :: Platform
defaultSyms :: Word64Set
funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: SymMap (FuncBody w)
dataSections :: SymMap DataSection
ctors :: [SymName]
localRegs :: UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: Int
wasmUniqSupply :: UniqSupply
wasmUniqSupply :: forall (w :: WasmType). WasmCodeGenState w -&gt; UniqSupply
ctors :: forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
dataSections :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
funcBodies :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
funcTypes :: forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
wasmPlatform :: forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1573"></span><span>    </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676972"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1574"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcTypes"><span class="hs-identifier hs-var">funcTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1575"></span><span>          </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-type">addToUniqMap</span></a></span><span>
</span><span id="line-1576"></span><span>            </span><span class="annot"><a href="#local-6989586621682676976"><span class="hs-identifier hs-type">funcTypes</span></a></span><span>
</span><span id="line-1577"></span><span>            </span><span class="annot"><a href="#local-6989586621682676969"><span class="hs-identifier hs-type">sym</span></a></span><span>
</span><span id="line-1578"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-type">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676970"><span class="hs-identifier hs-type">arg_tys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1579"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-type">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676971"><span class="hs-identifier hs-type">ret_tys</span></a></span><span>
</span><span id="line-1580"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1581"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1582"></span><span>
</span><span id="line-1583"></span><span class="hs-comment">-- | Invoked for all other 'CLabel's along the way, e.g. in</span><span>
</span><span id="line-1584"></span><span class="hs-comment">-- 'CmmStatic's or 'CmmExpr's.</span><span>
</span><span id="line-1585"></span><span id="local-6989586621682674822"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-type">onAnySym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682674822"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1586"></span><span id="onAnySym"><span class="annot"><span class="annottext">onAnySym :: forall (w :: WasmType). CLabel -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onAnySym"><span class="hs-identifier hs-var hs-var">onAnySym</span></a></span></span><span> </span><span id="local-6989586621682676993"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676993"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SymKind
</span><a href="#local-6989586621682676994"><span class="hs-identifier hs-var">sym_kind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1587"></span><span>  </span><span class="annot"><span class="annottext">SymKind
</span><a href="GHC.CmmToAsm.Wasm.Types.html#SymFunc"><span class="hs-identifier hs-var">SymFunc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1588"></span><span>    </span><span id="local-6989586621682676995"><span class="annot"><a href="#local-6989586621682676995"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-1589"></span><span>    </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-type">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682676996"><span class="annot"><span class="annottext">s :: WasmCodeGenState w
</span><a href="#local-6989586621682676996"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682676997"><span id="local-6989586621682676998"><span id="local-6989586621682676999"><span id="local-6989586621682677000"><span id="local-6989586621682677001"><span id="local-6989586621682677002"><span id="local-6989586621682677003"><span id="local-6989586621682677004"><span id="local-6989586621682677005"><span class="annot"><span class="annottext">Int
[SymName]
Word64Set
UniqFM LocalReg (Int, SomeWasmType)
UniqSupply
SymMap ([SomeWasmType], [SomeWasmType])
SymMap (FuncBody w)
SymMap DataSection
Platform
localRegs :: forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: forall (w :: WasmType). WasmCodeGenState w -&gt; Int
defaultSyms :: forall (w :: WasmType). WasmCodeGenState w -&gt; Word64Set
wasmUniqSupply :: forall (w :: WasmType). WasmCodeGenState w -&gt; UniqSupply
ctors :: forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
dataSections :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
funcBodies :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
funcTypes :: forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
wasmPlatform :: forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
wasmPlatform :: Platform
defaultSyms :: Word64Set
funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: SymMap (FuncBody w)
dataSections :: SymMap DataSection
ctors :: [SymName]
localRegs :: UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: Int
wasmUniqSupply :: UniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1590"></span><span>      </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682676996"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcTypes"><span class="hs-identifier hs-var">funcTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap_C"><span class="hs-identifier hs-type">addToUniqMap_C</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">const</span></span><span> </span><span class="annot"><a href="#local-6989586621682676999"><span class="hs-identifier hs-type">funcTypes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677008"><span class="hs-identifier hs-type">sym</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682676995"><span class="hs-identifier hs-type">ty_word</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-1591"></span><span>  </span><span class="annot"><span class="annottext">SymKind
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; WasmCodeGenM w ()
forall a. a -&gt; WasmCodeGenM w a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1593"></span><span>    </span><span id="local-6989586621682677008"><span class="annot"><span class="annottext">sym :: SymName
</span><a href="#local-6989586621682677008"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676993"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1594"></span><span>
</span><span id="line-1595"></span><span>    </span><span id="local-6989586621682676994"><span class="annot"><span class="annottext">sym_kind :: SymKind
</span><a href="#local-6989586621682676994"><span class="hs-identifier hs-var hs-var">sym_kind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymKind
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symKindFromCLabel"><span class="hs-identifier hs-var">symKindFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682676993"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1596"></span><span>
</span><span id="line-1597"></span><span class="hs-comment">-- | Invoked for each 'LocalReg', returning its wasm local id and</span><span>
</span><span id="line-1598"></span><span class="hs-comment">-- representation type.</span><span>
</span><span id="line-1599"></span><span id="local-6989586621682675070"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-type">onCmmLocalReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675070"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#LocalInfo"><span class="hs-identifier hs-type">LocalInfo</span></a></span></span><span>
</span><span id="line-1600"></span><span id="onCmmLocalReg"><span class="annot"><span class="annottext">onCmmLocalReg :: forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var hs-var">onCmmLocalReg</span></a></span></span><span> </span><span id="local-6989586621682677014"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682677014"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w
 -&gt; (# (Int, SomeWasmType), WasmCodeGenState w #))
-&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-var">wasmStateM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w
  -&gt; (# (Int, SomeWasmType), WasmCodeGenState w #))
 -&gt; WasmCodeGenM w (Int, SomeWasmType))
-&gt; (WasmCodeGenState w
    -&gt; (# (Int, SomeWasmType), WasmCodeGenState w #))
-&gt; WasmCodeGenM w (Int, SomeWasmType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677015"><span class="annot"><span class="annottext">s :: WasmCodeGenState w
</span><a href="#local-6989586621682677015"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenState"><span class="hs-identifier hs-type">WasmCodeGenState</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682677016"><span id="local-6989586621682677017"><span id="local-6989586621682677018"><span id="local-6989586621682677019"><span id="local-6989586621682677020"><span id="local-6989586621682677021"><span id="local-6989586621682677022"><span id="local-6989586621682677023"><span id="local-6989586621682677024"><span class="annot"><span class="annottext">Int
[SymName]
Word64Set
UniqFM LocalReg (Int, SomeWasmType)
UniqSupply
SymMap ([SomeWasmType], [SomeWasmType])
SymMap (FuncBody w)
SymMap DataSection
Platform
localRegs :: forall (w :: WasmType).
WasmCodeGenState w -&gt; UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: forall (w :: WasmType). WasmCodeGenState w -&gt; Int
defaultSyms :: forall (w :: WasmType). WasmCodeGenState w -&gt; Word64Set
wasmUniqSupply :: forall (w :: WasmType). WasmCodeGenState w -&gt; UniqSupply
ctors :: forall (w :: WasmType). WasmCodeGenState w -&gt; [SymName]
dataSections :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap DataSection
funcBodies :: forall (w :: WasmType). WasmCodeGenState w -&gt; SymMap (FuncBody w)
funcTypes :: forall (w :: WasmType).
WasmCodeGenState w -&gt; SymMap ([SomeWasmType], [SomeWasmType])
wasmPlatform :: forall (w :: WasmType). WasmCodeGenState w -&gt; Platform
wasmPlatform :: Platform
defaultSyms :: Word64Set
funcTypes :: SymMap ([SomeWasmType], [SomeWasmType])
funcBodies :: SymMap (FuncBody w)
dataSections :: SymMap DataSection
ctors :: [SymName]
localRegs :: UniqFM LocalReg (Int, SomeWasmType)
localRegsCount :: Int
wasmUniqSupply :: UniqSupply
</span><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1601"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682677025"><span class="annot"><span class="annottext">reg_info :: (Int, SomeWasmType)
</span><a href="#local-6989586621682677025"><span class="hs-identifier hs-var hs-var">reg_info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1602"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682677023"><span class="hs-identifier hs-var">localRegsCount</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SomeWasmType
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#someWasmTypeFromCmmType"><span class="hs-identifier hs-var">someWasmTypeFromCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmType -&gt; SomeWasmType) -&gt; CmmType -&gt; SomeWasmType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmType
</span><a href="GHC.Cmm.Reg.html#localRegType"><span class="hs-identifier hs-var">localRegType</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682677014"><span class="hs-identifier hs-var">reg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1603"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(LocalReg
 -&gt; (Int, SomeWasmType)
 -&gt; (Int, SomeWasmType)
 -&gt; (Int, SomeWasmType))
-&gt; LocalReg
-&gt; (Int, SomeWasmType)
-&gt; UniqFM LocalReg (Int, SomeWasmType)
-&gt; (Maybe (Int, SomeWasmType), UniqFM LocalReg (Int, SomeWasmType))
forall key elt.
Uniquable key =&gt;
(key -&gt; elt -&gt; elt -&gt; elt)
-&gt; key -&gt; elt -&gt; UniqFM key elt -&gt; (Maybe elt, UniqFM key elt)
</span><a href="GHC.Types.Unique.FM.html#addToUFM_L"><span class="hs-identifier hs-var">addToUFM_L</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">LocalReg
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682677027"><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677027"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677027"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682677014"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677025"><span class="hs-identifier hs-var">reg_info</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM LocalReg (Int, SomeWasmType)
</span><a href="#local-6989586621682677022"><span class="hs-identifier hs-var">localRegs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1604"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682677028"><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677028"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UniqFM LocalReg (Int, SomeWasmType)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677028"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677015"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-1605"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Int, SomeWasmType)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682677029"><span class="annot"><span class="annottext">UniqFM LocalReg (Int, SomeWasmType)
</span><a href="#local-6989586621682677029"><span class="hs-identifier hs-var">localRegs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1606"></span><span>          </span><span class="hs-special">(#</span><span>
</span><span id="line-1607"></span><span>            </span><span class="annot"><span class="annottext">(Int, SomeWasmType)
</span><a href="#local-6989586621682677025"><span class="hs-identifier hs-var">reg_info</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1608"></span><span>            </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677015"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1609"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#localRegs"><span class="hs-identifier hs-var">localRegs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682677029"><span class="hs-identifier hs-type">localRegs'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1610"></span><span>                </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#localRegsCount"><span class="hs-identifier hs-var">localRegsCount</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1611"></span><span>                  </span><span class="annot"><a href="#local-6989586621682677023"><span class="hs-identifier hs-type">localRegsCount</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1612"></span><span>              </span><span class="hs-special">}</span><span class="hs-cpp">
          #)
</span><span>
</span><span id="line-1615"></span><span class="hs-comment">-- | Invoked for each 'LocalReg' with expected representation type,</span><span>
</span><span id="line-1616"></span><span class="hs-comment">-- only returning its wasm local id.</span><span>
</span><span id="line-1617"></span><span id="local-6989586621682675112"><span id="local-6989586621682675113"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-type">onCmmLocalReg_Typed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmTypeTag"><span class="hs-identifier hs-type">WasmTypeTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675112"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675113"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span></span><span>
</span><span id="line-1618"></span><span id="onCmmLocalReg_Typed"><span class="annot"><span class="annottext">onCmmLocalReg_Typed :: forall (t :: WasmType) (w :: WasmType).
WasmTypeTag t -&gt; LocalReg -&gt; WasmCodeGenM w Int
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg_Typed"><span class="hs-identifier hs-var hs-var">onCmmLocalReg_Typed</span></a></span></span><span> </span><span id="local-6989586621682677032"><span class="annot"><span class="annottext">WasmTypeTag t
</span><a href="#local-6989586621682677032"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682677033"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682677033"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1619"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682677034"><span class="annot"><a href="#local-6989586621682677034"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SomeWasmType"><span class="hs-identifier hs-type">SomeWasmType</span></a></span><span> </span><span id="local-6989586621682677038"><span class="annot"><a href="#local-6989586621682677038"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
forall (w :: WasmType).
LocalReg -&gt; WasmCodeGenM w (Int, SomeWasmType)
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmLocalReg"><span class="hs-identifier hs-var">onCmmLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682677033"><span class="hs-identifier hs-var">reg</span></a></span><span>
</span><span id="line-1620"></span><span>  </span><span class="hs-keyword">if</span><span>
</span><span id="line-1621"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682677038"><span class="hs-identifier hs-type">ty'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`testEquality`</span></span><span> </span><span class="annot"><a href="#local-6989586621682677032"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682677034"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-1622"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-type">panic</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;onCmmLocalReg_Typed: unreachable&quot;</span></span><span>
</span><span id="line-1623"></span><span>
</span><span id="line-1624"></span><span class="hs-comment">-- | Invoked for dtors. We don't bother to implement dtors yet;</span><span>
</span><span id="line-1625"></span><span class="hs-comment">-- there's no native @.fini_array@ support for wasm, and the way</span><span>
</span><span id="line-1626"></span><span class="hs-comment">-- @clang@ handles dtors is generating a ctor that calls @atexit()@</span><span>
</span><span id="line-1627"></span><span class="hs-comment">-- for dtors. Which makes some sense, but we don't need to do the same</span><span>
</span><span id="line-1628"></span><span class="hs-comment">-- thing yet.</span><span>
</span><span id="line-1629"></span><span id="local-6989586621682675278"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFini"><span class="hs-identifier hs-type">onFini</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#SymName"><span class="hs-identifier hs-type">SymName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675278"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1630"></span><span id="onFini"><span class="annot"><span class="annottext">onFini :: forall (w :: WasmType). [SymName] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFini"><span class="hs-identifier hs-var hs-var">onFini</span></a></span></span><span> </span><span id="local-6989586621682677048"><span class="annot"><span class="annottext">[SymName]
</span><a href="#local-6989586621682677048"><span class="hs-identifier hs-var">syms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1631"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682677049"><span class="annot"><span class="annottext">n_finis :: Int
</span><a href="#local-6989586621682677049"><span class="hs-identifier hs-var hs-var">n_finis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SymName] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SymName]
</span><a href="#local-6989586621682677048"><span class="hs-identifier hs-var">syms</span></a></span><span>
</span><span id="line-1632"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; WasmCodeGenM w () -&gt; WasmCodeGenM w ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682677049"><span class="hs-identifier hs-var">n_finis</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenM w () -&gt; WasmCodeGenM w ())
-&gt; WasmCodeGenM w () -&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; WasmCodeGenM w ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dtors unsupported by wasm32 NCG&quot;</span></span><span>
</span><span id="line-1633"></span><span>
</span><span id="line-1634"></span><span class="annot"><span class="hs-comment">-- | Invoked for ctors and dtors.</span></span><span>
</span><span id="line-1635"></span><span id="local-6989586621682675283"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmInitFini"><span class="hs-identifier hs-type">onCmmInitFini</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.InitFini.html#InitOrFini"><span class="hs-identifier hs-type">InitOrFini</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675283"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1636"></span><span id="onCmmInitFini"><span class="annot"><span class="annottext">onCmmInitFini :: forall (w :: WasmType). InitOrFini -&gt; [CLabel] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmInitFini"><span class="hs-identifier hs-var hs-var">onCmmInitFini</span></a></span></span><span> </span><span id="local-6989586621682677058"><span class="annot"><span class="annottext">InitOrFini
</span><a href="#local-6989586621682677058"><span class="hs-identifier hs-var">iof</span></a></span></span><span> </span><span id="local-6989586621682677059"><span class="annot"><span class="annottext">[CLabel]
</span><a href="#local-6989586621682677059"><span class="hs-identifier hs-var">lbls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1637"></span><span>  </span><span class="annot"><span class="annottext">[CLabel] -&gt; (CLabel -&gt; WasmCodeGenM w ()) -&gt; WasmCodeGenM w ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[CLabel]
</span><a href="#local-6989586621682677059"><span class="hs-identifier hs-var">lbls</span></a></span><span> </span><span class="annot"><span class="annottext">((CLabel -&gt; WasmCodeGenM w ()) -&gt; WasmCodeGenM w ())
-&gt; (CLabel -&gt; WasmCodeGenM w ()) -&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677061"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677061"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
SymName -&gt; [CmmType] -&gt; [CmmType] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-var">onFuncSym</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677061"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1638"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InitOrFini
</span><a href="#local-6989586621682677058"><span class="hs-identifier hs-var">iof</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1639"></span><span>    </span><span class="annot"><span class="annottext">InitOrFini
</span><a href="GHC.Cmm.InitFini.html#IsInitArray"><span class="hs-identifier hs-var">IsInitArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
(WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-var">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ())
-&gt; (WasmCodeGenState w -&gt; WasmCodeGenState w) -&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677063"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677063"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677063"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#ctors"><span class="hs-identifier hs-var">ctors</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682677064"><span class="hs-identifier hs-type">syms</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#ctors"><span class="hs-identifier hs-var">ctors</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677063"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1640"></span><span>    </span><span class="annot"><span class="annottext">InitOrFini
</span><a href="GHC.Cmm.InitFini.html#IsFiniArray"><span class="hs-identifier hs-var">IsFiniArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SymName] -&gt; WasmCodeGenM w ()
forall (w :: WasmType). [SymName] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFini"><span class="hs-identifier hs-var">onFini</span></a></span><span> </span><span class="annot"><span class="annottext">[SymName]
</span><a href="#local-6989586621682677064"><span class="hs-identifier hs-var">syms</span></a></span><span>
</span><span id="line-1641"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1642"></span><span>    </span><span id="local-6989586621682677064"><span class="annot"><span class="annottext">syms :: [SymName]
</span><a href="#local-6989586621682677064"><span class="hs-identifier hs-var hs-var">syms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; SymName) -&gt; [CLabel] -&gt; [SymName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">[CLabel]
</span><a href="#local-6989586621682677059"><span class="hs-identifier hs-var">lbls</span></a></span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span class="annot"><span class="hs-comment">-- | Invoked for each data section.</span></span><span>
</span><span id="line-1645"></span><span id="local-6989586621682675289"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmData"><span class="hs-identifier hs-type">onCmmData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.html#CmmStatic"><span class="hs-identifier hs-type">CmmStatic</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675289"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1646"></span><span id="onCmmData"><span class="annot"><span class="annottext">onCmmData :: forall (w :: WasmType).
CLabel -&gt; Section -&gt; [CmmStatic] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmData"><span class="hs-identifier hs-var hs-var">onCmmData</span></a></span></span><span> </span><span id="local-6989586621682677076"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677076"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682677077"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682677077"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682677078"><span class="annot"><span class="annottext">[CmmStatic]
</span><a href="#local-6989586621682677078"><span class="hs-identifier hs-var">statics</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1647"></span><span>  </span><span id="local-6989586621682677079"><span class="annot"><a href="#local-6989586621682677079"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w (WasmTypeTag w)
forall (w :: WasmType). WasmCodeGenM w (WasmTypeTag w)
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordTypeM"><span class="hs-identifier hs-var">wasmWordTypeM</span></a></span><span>
</span><span id="line-1648"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onTopSym"><span class="hs-identifier hs-type">onTopSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677076"><span class="hs-identifier hs-type">lbl</span></a></span><span>
</span><span id="line-1649"></span><span>  </span><span id="local-6989586621682677080"><span class="annot"><a href="#local-6989586621682677080"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="annot"><a href="#local-6989586621682677078"><span class="hs-identifier hs-type">statics</span></a></span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmStatic"><span class="hs-identifier hs-type">lower_CmmStatic</span></a></span><span>
</span><span id="line-1650"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682677082"><span class="annot"><a href="#local-6989586621682677082"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677076"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1651"></span><span>      </span><span id="local-6989586621682677083"><span class="annot"><a href="#local-6989586621682677083"><span class="hs-identifier hs-var hs-var">sec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1652"></span><span>        </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataSection"><span class="hs-identifier hs-type">DataSection</span></a></span><span>
</span><span id="line-1653"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataSectionKind :: DataSectionKind
</span><a href="#local-6989586621682677085"><span class="hs-identifier hs-var">dataSectionKind</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1654"></span><span>              </span><span class="annot"><span class="annottext">Section -&gt; DataSectionKind
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#dataSectionKindFromCmmSection"><span class="hs-identifier hs-var">dataSectionKindFromCmmSection</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682677077"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1655"></span><span>            </span><span class="annot"><span class="annottext">dataSectionAlignment :: Alignment
</span><a href="#local-6989586621682677086"><span class="hs-identifier hs-var">dataSectionAlignment</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1656"></span><span>              </span><span class="annot"><span class="annottext">WasmTypeTag w -&gt; [DataSectionContent] -&gt; Alignment
forall (w :: WasmType).
WasmTypeTag w -&gt; [DataSectionContent] -&gt; Alignment
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#alignmentFromCmmSection"><span class="hs-identifier hs-var">alignmentFromCmmSection</span></a></span><span> </span><span class="annot"><span class="annottext">WasmTypeTag w
</span><a href="#local-6989586621682677079"><span class="hs-identifier hs-var">ty_word</span></a></span><span> </span><span class="annot"><span class="annottext">[DataSectionContent]
</span><a href="#local-6989586621682677080"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1657"></span><span>            </span><span class="annot"><span class="annottext">dataSectionContents :: [DataSectionContent]
</span><a href="#local-6989586621682677087"><span class="hs-identifier hs-var">dataSectionContents</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1658"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[DataSectionContent]
</span><a href="#local-6989586621682677080"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1659"></span><span>                </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataASCII"><span class="hs-identifier hs-type">DataASCII</span></a></span><span> </span><span id="local-6989586621682677088"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682677088"><span class="hs-identifier hs-var">buf</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ByteString -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataASCII"><span class="hs-identifier hs-var">DataASCII</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; DataSectionContent)
-&gt; ByteString -&gt; DataSectionContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682677088"><span class="hs-identifier hs-var">buf</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Word8 -&gt; ByteString
</span><a href="../../bytestring-0.12.1.0-f8cd/src//Data.ByteString.html/Data.ByteString.html#snoc"><span class="hs-operator hs-var">`BS.snoc`</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span>
</span><span id="line-1660"></span><span>                </span><span class="hs-special">[</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#DataIncBin"><span class="hs-identifier hs-type">DataIncBin</span></a></span><span> </span><span id="local-6989586621682677090"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682677090"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682677091"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682677091"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Int -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataIncBin"><span class="hs-identifier hs-var">DataIncBin</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682677090"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682677091"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; DataSectionContent
</span><a href="GHC.CmmToAsm.Wasm.Types.html#DataI8"><span class="hs-identifier hs-var">DataI8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span>
</span><span id="line-1661"></span><span>                </span><span class="annot"><span class="annottext">[DataSectionContent]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[DataSectionContent]
</span><a href="#local-6989586621682677080"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1662"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1663"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-type">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677092"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677092"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1664"></span><span>    </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677092"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1665"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#dataSections"><span class="hs-identifier hs-var">dataSections</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1666"></span><span>          </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-type">addToUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#dataSections"><span class="hs-identifier hs-var">dataSections</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677092"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682677082"><span class="hs-identifier hs-type">sym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677083"><span class="hs-identifier hs-type">sec</span></a></span><span>
</span><span id="line-1667"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1668"></span><span>
</span><span id="line-1669"></span><span class="annot"><span class="hs-comment">-- | Invoked for each 'CmmProc'.</span></span><span>
</span><span id="line-1670"></span><span id="local-6989586621682675295"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmProc"><span class="hs-identifier hs-type">onCmmProc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmGraph"><span class="hs-identifier hs-type">CmmGraph</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675295"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1671"></span><span id="onCmmProc"><span class="annot"><span class="annottext">onCmmProc :: forall (w :: WasmType). CLabel -&gt; CmmGraph -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmProc"><span class="hs-identifier hs-var hs-var">onCmmProc</span></a></span></span><span> </span><span id="local-6989586621682677099"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677099"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682677100"><span class="annot"><span class="annottext">CmmGraph
</span><a href="#local-6989586621682677100"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1672"></span><span>  </span><span id="local-6989586621682677101"><span class="annot"><a href="#local-6989586621682677101"><span class="hs-identifier hs-var">ty_word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w CmmType
forall (w :: WasmType). WasmCodeGenM w CmmType
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmWordCmmTypeM"><span class="hs-identifier hs-var">wasmWordCmmTypeM</span></a></span><span>
</span><span id="line-1673"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onTopSym"><span class="hs-identifier hs-type">onTopSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677099"><span class="hs-identifier hs-type">lbl</span></a></span><span>
</span><span id="line-1674"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onFuncSym"><span class="hs-identifier hs-type">onFuncSym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677102"><span class="hs-identifier hs-type">sym</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682677101"><span class="hs-identifier hs-type">ty_word</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1675"></span><span>  </span><span id="local-6989586621682677103"><span class="annot"><a href="#local-6989586621682677103"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#lower_CmmGraph"><span class="hs-identifier hs-type">lower_CmmGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677099"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677100"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-1676"></span><span>  </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#wasmModifyM"><span class="hs-identifier hs-type">wasmModifyM</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677104"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677104"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677104"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcBodies"><span class="hs-identifier hs-var">funcBodies</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-type">addToUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#funcBodies"><span class="hs-identifier hs-var">funcBodies</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677104"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682677102"><span class="hs-identifier hs-type">sym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682677103"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1677"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1678"></span><span>    </span><span id="local-6989586621682677102"><span class="annot"><span class="annottext">sym :: SymName
</span><a href="#local-6989586621682677102"><span class="hs-identifier hs-var hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; SymName
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#symNameFromCLabel"><span class="hs-identifier hs-var">symNameFromCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677099"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-1679"></span><span>
</span><span id="line-1680"></span><span class="annot"><span class="hs-comment">-- | Invoked for each 'RawCmmDecl'.</span></span><span>
</span><span id="line-1681"></span><span id="local-6989586621682675298"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmDecl"><span class="hs-identifier hs-type">onCmmDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#RawCmmDecl"><span class="hs-identifier hs-type">RawCmmDecl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675298"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1682"></span><span id="onCmmDecl"><span class="annot"><span class="annottext">onCmmDecl :: forall (w :: WasmType). RawCmmDecl -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmDecl"><span class="hs-identifier hs-var hs-var">onCmmDecl</span></a></span></span><span> </span><span id="local-6989586621682677106"><span class="annot"><span class="annottext">RawCmmDecl
</span><a href="#local-6989586621682677106"><span class="hs-identifier hs-var">decl</span></a></span></span><span>
</span><span id="line-1683"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682677107"><span class="annot"><span class="annottext">InitOrFini
</span><a href="#local-6989586621682677107"><span class="hs-identifier hs-var">iof</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682677108"><span class="annot"><span class="annottext">[CLabel]
</span><a href="#local-6989586621682677108"><span class="hs-identifier hs-var">lbls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RawCmmDecl -&gt; Maybe (InitOrFini, [CLabel])
</span><a href="GHC.Cmm.InitFini.html#isInitOrFiniArray"><span class="hs-identifier hs-var">isInitOrFiniArray</span></a></span><span> </span><span class="annot"><span class="annottext">RawCmmDecl
</span><a href="#local-6989586621682677106"><span class="hs-identifier hs-var">decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InitOrFini -&gt; [CLabel] -&gt; WasmCodeGenM w ()
forall (w :: WasmType). InitOrFini -&gt; [CLabel] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmInitFini"><span class="hs-identifier hs-var">onCmmInitFini</span></a></span><span> </span><span class="annot"><span class="annottext">InitOrFini
</span><a href="#local-6989586621682677107"><span class="hs-identifier hs-var">iof</span></a></span><span> </span><span class="annot"><span class="annottext">[CLabel]
</span><a href="#local-6989586621682677108"><span class="hs-identifier hs-var">lbls</span></a></span><span>
</span><span id="line-1684"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmDecl"><span class="hs-identifier hs-var">onCmmDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmData"><span class="hs-identifier hs-type">CmmData</span></a></span><span> </span><span id="local-6989586621682677110"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682677110"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmStaticsRaw"><span class="hs-identifier hs-type">CmmStaticsRaw</span></a></span><span> </span><span id="local-6989586621682677112"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677112"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682677113"><span class="annot"><span class="annottext">[CmmStatic]
</span><a href="#local-6989586621682677113"><span class="hs-identifier hs-var">statics</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Section -&gt; [CmmStatic] -&gt; WasmCodeGenM w ()
forall (w :: WasmType).
CLabel -&gt; Section -&gt; [CmmStatic] -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmData"><span class="hs-identifier hs-var">onCmmData</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677112"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682677110"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmStatic]
</span><a href="#local-6989586621682677113"><span class="hs-identifier hs-var">statics</span></a></span><span>
</span><span id="line-1685"></span><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmDecl"><span class="hs-identifier hs-var">onCmmDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmProc"><span class="hs-identifier hs-type">CmmProc</span></a></span><span> </span><span class="annot"><span class="annottext">LabelMap (GenCmmStatics 'True)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682677114"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677114"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="annot"><span class="annottext">[GlobalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682677115"><span class="annot"><span class="annottext">CmmGraph
</span><a href="#local-6989586621682677115"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmGraph -&gt; WasmCodeGenM w ()
forall (w :: WasmType). CLabel -&gt; CmmGraph -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmProc"><span class="hs-identifier hs-var">onCmmProc</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682677114"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">CmmGraph
</span><a href="#local-6989586621682677115"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-1686"></span><span>
</span><span id="line-1687"></span><span class="annot"><span class="hs-comment">-- | Invoked for each 'RawCmmGroup'.</span></span><span>
</span><span id="line-1688"></span><span id="local-6989586621682675303"><span class="annot"><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmGroup"><span class="hs-identifier hs-type">onCmmGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#RawCmmGroup"><span class="hs-identifier hs-type">RawCmmGroup</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.CmmToAsm.Wasm.Types.html#WasmCodeGenM"><span class="hs-identifier hs-type">WasmCodeGenM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682675303"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1689"></span><span id="onCmmGroup"><span class="annot"><span class="annottext">onCmmGroup :: forall (w :: WasmType). RawCmmGroup -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmGroup"><span class="hs-identifier hs-var hs-var">onCmmGroup</span></a></span></span><span> </span><span id="local-6989586621682677117"><span class="annot"><span class="annottext">RawCmmGroup
</span><a href="#local-6989586621682677117"><span class="hs-identifier hs-var">cmms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; (# (), WasmCodeGenState w #))
-&gt; WasmCodeGenM w ()
forall (w :: WasmType) a.
(WasmCodeGenState w -&gt; (# a, WasmCodeGenState w #))
-&gt; WasmCodeGenM w a
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmStateM"><span class="hs-identifier hs-var">wasmStateM</span></a></span><span> </span><span class="annot"><span class="annottext">((WasmCodeGenState w -&gt; (# (), WasmCodeGenState w #))
 -&gt; WasmCodeGenM w ())
-&gt; (WasmCodeGenState w -&gt; (# (), WasmCodeGenState w #))
-&gt; WasmCodeGenM w ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682677118"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677118"><span class="hs-identifier hs-var">s0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1690"></span><span>  </span><span class="hs-special">(#</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(WasmCodeGenState w -&gt; RawCmmDecl -&gt; WasmCodeGenState w)
-&gt; WasmCodeGenState w -&gt; RawCmmGroup -&gt; WasmCodeGenState w
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682677120"><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677120"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682677121"><span class="annot"><span class="annottext">RawCmmDecl
</span><a href="#local-6989586621682677121"><span class="hs-identifier hs-var">cmm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenM w () -&gt; WasmCodeGenState w -&gt; WasmCodeGenState w
forall (w :: WasmType) a.
WasmCodeGenM w a -&gt; WasmCodeGenState w -&gt; WasmCodeGenState w
</span><a href="GHC.CmmToAsm.Wasm.Types.html#wasmExecM"><span class="hs-identifier hs-var">wasmExecM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawCmmDecl -&gt; WasmCodeGenM w ()
forall (w :: WasmType). RawCmmDecl -&gt; WasmCodeGenM w ()
</span><a href="GHC.CmmToAsm.Wasm.FromCmm.html#onCmmDecl"><span class="hs-identifier hs-var">onCmmDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RawCmmDecl
</span><a href="#local-6989586621682677121"><span class="hs-identifier hs-var">cmm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677120"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WasmCodeGenState w
</span><a href="#local-6989586621682677118"><span class="hs-identifier hs-var">s0</span></a></span><span> </span><span class="annot"><span class="annottext">RawCmmGroup
</span><a href="#local-6989586621682677117"><span class="hs-identifier hs-var">cmms</span></a></span><span> </span><span class="hs-special">#)</span><span>
</span><span id="line-1691"></span></pre></body></html>