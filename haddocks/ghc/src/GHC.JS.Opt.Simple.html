<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module      :  GHC.JS.Opt.Simple</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow 2001</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Maintainer  :  Jeffrey Young  &lt;jeffrey.young@iohk.io&gt;</span><span>
</span><span id="line-8"></span><span class="hs-comment">--                Luite Stegeman &lt;luite.stegeman@iohk.io&gt;</span><span>
</span><span id="line-9"></span><span class="hs-comment">--                Sylvain Henry  &lt;sylvain.henry@iohk.io&gt;</span><span>
</span><span id="line-10"></span><span class="hs-comment">--                Josh Meredith  &lt;josh.meredith@iohk.io&gt;</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- * Simple optimizer for the JavaScript IR</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">--     This is a simple optimizer for the JavaScript IR. It is intended to be</span><span>
</span><span id="line-17"></span><span class="hs-comment">--     the first optimization pass after generating the JavaScript IR.</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- * Design</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">--     The optimizer is invoked on the top-level JStat. It leaves the top-level</span><span>
</span><span id="line-22"></span><span class="hs-comment">--     scope alone, but traverses into each function body and optimizes it.</span><span>
</span><span id="line-23"></span><span class="hs-comment">--     Nested functions are mostly left alone, since they are uncommon in</span><span>
</span><span id="line-24"></span><span class="hs-comment">--     generated code.</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">--     The optimizations are:</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-comment">--       - rename local variables to shorter names</span><span>
</span><span id="line-29"></span><span class="hs-comment">--       - remove unused variables</span><span>
</span><span id="line-30"></span><span class="hs-comment">--       - remove trivial assignments: x = x</span><span>
</span><span id="line-31"></span><span class="hs-comment">--       - &quot;float&quot; expressions without side effects:</span><span>
</span><span id="line-32"></span><span class="hs-comment">--       -   var x = 1; var y = x + 1; -&gt; var y = 1 + 1;</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- * Limitations</span><span>
</span><span id="line-35"></span><span class="hs-comment">--</span><span>
</span><span id="line-36"></span><span class="hs-comment">--     The simple optimization pass is intended to be fast and applicable to</span><span>
</span><span id="line-37"></span><span class="hs-comment">--     almost all generated JavaScript code. Limitations are:</span><span>
</span><span id="line-38"></span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span class="hs-comment">--       - optimization is disabled if an `eval` statement is encountered</span><span>
</span><span id="line-40"></span><span class="hs-comment">--       - variables declared in nested scopes are not renamed</span><span>
</span><span id="line-41"></span><span class="hs-comment">--</span><span>
</span><span id="line-42"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-45"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html"><span class="hs-identifier">GHC.JS.Opt.Simple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier">simpleOpt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Expr.html"><span class="hs-identifier">GHC.JS.Opt.Expr</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html"><span class="hs-identifier">GHC.JS.Syntax</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html"><span class="hs-identifier">GHC.Types.Unique.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UM</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html"><span class="hs-identifier">GHC.Types.Unique.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier">UniqMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">US</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Control.Monad.html/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Function.html/Data.Function.html"><span class="hs-identifier">Data.Function</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.List.html/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sortBy</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Maybe.html/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.20.0.0-4014/src//Data.Semigroup.html/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semi</span></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">data</span><span> </span><span id="Multiplicity"><span class="annot"><a href="GHC.JS.Opt.Simple.html#Multiplicity"><span class="hs-identifier hs-var">Multiplicity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Zero"><span class="annot"><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="One"><span class="annot"><a href="GHC.JS.Opt.Simple.html#One"><span class="hs-identifier hs-var">One</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Many"><span class="annot"><a href="GHC.JS.Opt.Simple.html#Many"><span class="hs-identifier hs-var">Many</span></a></span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682355870"><span id="local-6989586621682355875"><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Bool
(Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool) -&gt; Eq Multiplicity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Multiplicity -&gt; Multiplicity -&gt; Bool
== :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c/= :: Multiplicity -&gt; Multiplicity -&gt; Bool
/= :: Multiplicity -&gt; Multiplicity -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682355881"><span id="local-6989586621682355885"><span id="local-6989586621682355889"><span id="local-6989586621682355893"><span id="local-6989586621682355896"><span id="local-6989586621682355899"><span id="local-6989586621682355902"><span class="annot"><span class="annottext">Eq Multiplicity
Eq Multiplicity =&gt;
(Multiplicity -&gt; Multiplicity -&gt; Ordering)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Multiplicity)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Multiplicity)
-&gt; Ord Multiplicity
Multiplicity -&gt; Multiplicity -&gt; Bool
Multiplicity -&gt; Multiplicity -&gt; Ordering
Multiplicity -&gt; Multiplicity -&gt; Multiplicity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Multiplicity -&gt; Multiplicity -&gt; Ordering
compare :: Multiplicity -&gt; Multiplicity -&gt; Ordering
$c&lt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
&lt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&lt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
&lt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&gt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
&gt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&gt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
&gt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
$cmax :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
max :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
$cmin :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
min :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682355910"><span id="local-6989586621682355912"><span id="local-6989586621682355916"><span class="annot"><span class="annottext">Int -&gt; Multiplicity -&gt; ShowS
[Multiplicity] -&gt; ShowS
Multiplicity -&gt; String
(Int -&gt; Multiplicity -&gt; ShowS)
-&gt; (Multiplicity -&gt; String)
-&gt; ([Multiplicity] -&gt; ShowS)
-&gt; Show Multiplicity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Multiplicity -&gt; ShowS
showsPrec :: Int -&gt; Multiplicity -&gt; ShowS
$cshow :: Multiplicity -&gt; String
show :: Multiplicity -&gt; String
$cshowList :: [Multiplicity] -&gt; ShowS
showList :: [Multiplicity] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">data</span><span> </span><span id="VarValue"><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarValue"><span class="hs-identifier hs-var">VarValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Unassigned"><span class="annot"><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span></span><span>
</span><span id="line-68"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span id="AssignedOnce"><span class="annot"><a href="GHC.JS.Opt.Simple.html#AssignedOnce"><span class="hs-identifier hs-var">AssignedOnce</span></a></span></span><span>
</span><span id="line-69"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span id="AssignedOnceKnown"><span class="annot"><a href="GHC.JS.Opt.Simple.html#AssignedOnceKnown"><span class="hs-identifier hs-var">AssignedOnceKnown</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span>
</span><span id="line-70"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span id="AssignedMany"><span class="annot"><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">data</span><span> </span><span id="VarDecl"><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-var">VarDecl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoDecl"><span class="annot"><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span></span><span> </span><span class="hs-comment">-- not declared in analyzed scope (possibly deeper or global)</span><span>
</span><span id="line-73"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="ArgDecl"><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-var">ArgDecl</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-comment">-- argument in analyzed scope</span><span>
</span><span id="line-74"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="LocalDecl"><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-var">LocalDecl</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-comment">-- local variable in analyzed scope</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682355928"><span id="local-6989586621682355935"><span class="annot"><span class="annottext">VarDecl -&gt; VarDecl -&gt; Bool
(VarDecl -&gt; VarDecl -&gt; Bool)
-&gt; (VarDecl -&gt; VarDecl -&gt; Bool) -&gt; Eq VarDecl
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: VarDecl -&gt; VarDecl -&gt; Bool
== :: VarDecl -&gt; VarDecl -&gt; Bool
$c/= :: VarDecl -&gt; VarDecl -&gt; Bool
/= :: VarDecl -&gt; VarDecl -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682355939"><span id="local-6989586621682355947"><span id="local-6989586621682355951"><span class="annot"><span class="annottext">Int -&gt; VarDecl -&gt; ShowS
[VarDecl] -&gt; ShowS
VarDecl -&gt; String
(Int -&gt; VarDecl -&gt; ShowS)
-&gt; (VarDecl -&gt; String) -&gt; ([VarDecl] -&gt; ShowS) -&gt; Show VarDecl
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; VarDecl -&gt; ShowS
showsPrec :: Int -&gt; VarDecl -&gt; ShowS
$cshow :: VarDecl -&gt; String
show :: VarDecl -&gt; String
$cshowList :: [VarDecl] -&gt; ShowS
showList :: [VarDecl] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isLocalOrArg"><span class="hs-identifier hs-type">isLocalOrArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-78"></span><span id="isLocalOrArg"><span class="annot"><span class="annottext">isLocalOrArg :: VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isLocalOrArg"><span class="hs-identifier hs-var hs-var">isLocalOrArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-79"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isLocalOrArg"><span class="hs-identifier hs-var">isLocalOrArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-80"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isLocalOrArg"><span class="hs-identifier hs-var">isLocalOrArg</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-type">isDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-83"></span><span id="isDecl"><span class="annot"><span class="annottext">isDecl :: VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var hs-var">isDecl</span></a></span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-84"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682355957"><span id="local-6989586621682355961"><span class="annot"><span class="hs-identifier hs-type">Semi.Semigroup</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span id="local-6989586621682355968"><span class="annot"><span class="annottext">&lt;&gt; :: VarDecl -&gt; VarDecl -&gt; VarDecl
</span><span class="hs-operator hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621682355969"><span class="annot"><span class="annottext">VarDecl
</span><a href="#local-6989586621682355969"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="#local-6989586621682355969"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621682355970"><span class="annot"><span class="annottext">VarDecl
</span><a href="#local-6989586621682355970"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="#local-6989586621682355970"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682355971"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355971"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682355972"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355972"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-var">ArgDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355971"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355972"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span id="local-6989586621682355974"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355974"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span id="local-6989586621682355975"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355975"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-var">LocalDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355974"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355975"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682355976"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355976"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-var">ArgDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355976"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682355977"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355977"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-var">ArgDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682355977"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682355982"><span id="local-6989586621682355985"><span id="local-6989586621682355988"><span id="local-6989586621682355991"><span id="local-6989586621682355994"><span id="local-6989586621682355997"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span id="local-6989586621682356001"><span class="annot"><span class="annottext">compare :: VarDecl -&gt; VarDecl -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span>      </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682356002"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356002"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span id="local-6989586621682356003"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356003"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356002"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356003"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-type">ArgDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span id="local-6989586621682356004"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356004"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span id="local-6989586621682356005"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356005"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356004"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356005"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">data</span><span> </span><span id="JFunction"><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="JFunction"><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356009"><span id="local-6989586621682356013"><span class="annot"><span class="hs-identifier hs-type">Semi.Semigroup</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarValue"><span class="hs-identifier hs-type">VarValue</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span id="local-6989586621682356017"><span class="annot"><span class="annottext">&lt;&gt; :: VarValue -&gt; VarValue -&gt; VarValue
</span><span class="hs-operator hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621682356018"><span class="annot"><span class="annottext">VarValue
</span><a href="#local-6989586621682356018"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="#local-6989586621682356018"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621682356019"><span class="annot"><span class="annottext">VarValue
</span><a href="#local-6989586621682356019"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="#local-6989586621682356019"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="annottext">VarValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356025"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarValue"><span class="hs-identifier hs-type">VarValue</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621682356029"><span class="annot"><span class="annottext">mempty :: VarValue
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621682356031"><span class="annot"><span class="annottext">mappend :: VarValue -&gt; VarValue -&gt; VarValue
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue -&gt; VarValue -&gt; VarValue
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(Semi.&lt;&gt;)</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356034"><span id="local-6989586621682356038"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span id="local-6989586621682356042"><span class="annot"><span class="annottext">&lt;&gt; :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
</span><span class="hs-operator hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621682356043"><span class="annot"><span class="annottext">Multiplicity
</span><a href="#local-6989586621682356043"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="#local-6989586621682356043"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span id="local-6989586621682356044"><span class="annot"><span class="annottext">Multiplicity
</span><a href="#local-6989586621682356044"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="#local-6989586621682356044"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Many"><span class="hs-identifier hs-var">Many</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356050"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>    </span><span id="local-6989586621682356053"><span class="annot"><span class="annottext">mempty :: Multiplicity
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621682356055"><span class="annot"><span class="annottext">mappend :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Multiplicity
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(Semi.&lt;&gt;)</span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-keyword">data</span><span> </span><span id="VarUsage"><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VarUsage"><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span></span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="varUsed"><span class="annot"><span class="annottext">VarUsage -&gt; Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var hs-var">varUsed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="varAssigned"><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var hs-var">varAssigned</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarValue"><span class="hs-identifier hs-type">VarValue</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="varDeclared"><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var hs-var">varDeclared</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="varDeepDeclared"><span class="annot"><span class="annottext">VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#varDeepDeclared"><span class="hs-identifier hs-var hs-var">varDeepDeclared</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#assignedMultiple"><span class="hs-identifier hs-type">assignedMultiple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-131"></span><span id="assignedMultiple"><span class="annot"><span class="annottext">assignedMultiple :: VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#assignedMultiple"><span class="hs-identifier hs-var hs-var">assignedMultiple</span></a></span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">varAssigned :: VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-132"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#assignedMultiple"><span class="hs-identifier hs-var">assignedMultiple</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><span class="hs-identifier">_</span></span><span>                                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">data</span><span> </span><span id="SimpleRewrite"><span class="annot"><a href="GHC.JS.Opt.Simple.html#SimpleRewrite"><span class="hs-identifier hs-var">SimpleRewrite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SimpleRewrite"><span class="annot"><a href="GHC.JS.Opt.Simple.html#SimpleRewrite"><span class="hs-identifier hs-var">SimpleRewrite</span></a></span></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="renameVar"><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident Ident
</span><a href="GHC.JS.Opt.Simple.html#renameVar"><span class="hs-identifier hs-var hs-var">renameVar</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="varUsage"><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var hs-var">varUsage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356067"><span id="local-6989586621682356070"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621682356077"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356077"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682356078"><span class="annot"><span class="annottext">&lt;&gt; :: VarUsage -&gt; VarUsage -&gt; VarUsage
</span><span class="hs-operator hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621682356079"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356079"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">varUsed :: Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var">varUsed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var">varUsed</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356077"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Multiplicity
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">Semi.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var">varUsed</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356079"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">varAssigned :: VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356077"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue -&gt; VarValue -&gt; VarValue
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">Semi.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356079"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">varDeclared :: VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356077"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl -&gt; VarDecl -&gt; VarDecl
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">Semi.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356079"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">varDeepDeclared :: Bool
</span><a href="GHC.JS.Opt.Simple.html#varDeepDeclared"><span class="hs-identifier hs-var">varDeepDeclared</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#varDeepDeclared"><span class="hs-identifier hs-var">varDeepDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356077"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#varDeepDeclared"><span class="hs-identifier hs-var">varDeepDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356079"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682356085"><span id="local-6989586621682356089"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-148"></span><span>    </span><span id="local-6989586621682356091"><span class="annot"><span class="annottext">mempty :: VarUsage
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#disableOpt"><span class="hs-identifier hs-type">disableOpt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- disableOpt = True</span><span>
</span><span id="line-152"></span><span id="disableOpt"><span class="annot"><span class="annottext">disableOpt :: Bool
</span><a href="GHC.JS.Opt.Simple.html#disableOpt"><span class="hs-identifier hs-var hs-var">disableOpt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-type">simpleOpt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span>
</span><span id="line-155"></span><span id="simpleOpt"><span class="annot"><span class="annottext">simpleOpt :: JStat -&gt; JStat
</span><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var hs-var">simpleOpt</span></a></span></span><span> </span><span id="local-6989586621682356093"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356093"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="GHC.JS.Opt.Simple.html#disableOpt"><span class="hs-identifier hs-var">disableOpt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356093"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var">simpleOpt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-type">BlockStat</span></a></span><span> </span><span id="local-6989586621682356095"><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356095"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JStat -&gt; JStat) -&gt; [JStat] -&gt; [JStat]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var">simpleOpt</span></a></span><span> </span><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356095"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var">simpleOpt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-type">AssignStat</span></a></span><span> </span><span id="local-6989586621682356097"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356097"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="GHC.JS.Syntax.html#AssignOp"><span class="hs-identifier hs-var">AssignOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-type">JFunc</span></a></span><span> </span><span id="local-6989586621682356101"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356101"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356102"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356102"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-158"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span id="local-6989586621682356103"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356103"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span id="local-6989586621682356104"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356104"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleOptFunction"><span class="hs-identifier hs-var">simpleOptFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ident] -&gt; JStat -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356101"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356102"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; AOp -&gt; JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-var">AssignStat</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356097"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="GHC.JS.Syntax.html#AssignOp"><span class="hs-identifier hs-var">AssignOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JVal -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-var">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ident] -&gt; JStat -&gt; JVal
</span><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-var">JFunc</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356103"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356104"><span class="hs-identifier hs-var">body'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var">simpleOpt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#FuncStat"><span class="hs-identifier hs-type">FuncStat</span></a></span><span> </span><span id="local-6989586621682356107"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356107"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621682356108"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356108"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356109"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356109"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span id="local-6989586621682356110"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356110"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span id="local-6989586621682356111"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356111"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleOptFunction"><span class="hs-identifier hs-var">simpleOptFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ident] -&gt; JStat -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356108"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356109"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>     </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Ident -&gt; [Ident] -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#FuncStat"><span class="hs-identifier hs-var">FuncStat</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356107"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356110"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356111"><span class="hs-identifier hs-var">body'</span></a></span><span>
</span><span id="line-163"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOpt"><span class="hs-identifier hs-var">simpleOpt</span></a></span><span> </span><span id="local-6989586621682356112"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356112"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356112"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleOptFunction"><span class="hs-identifier hs-type">simpleOptFunction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span>
</span><span id="line-166"></span><span id="simpleOptFunction"><span class="annot"><span class="annottext">simpleOptFunction :: JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleOptFunction"><span class="hs-identifier hs-var hs-var">simpleOptFunction</span></a></span></span><span> </span><span id="local-6989586621682356113"><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356113"><span class="hs-identifier hs-var">jf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356114"><span class="hs-identifier hs-var">s_opt</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-comment">-- we need to run it twice since floating in the first pass can</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-comment">-- cause unused variables that can be removed in the second pass</span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621682356114"><span class="annot"><span class="annottext">s_opt :: JFunction
</span><a href="#local-6989586621682356114"><span class="hs-identifier hs-var hs-var">s_opt</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#functionOptExprs"><span class="hs-identifier hs-var">functionOptExprs</span></a></span><span> </span><span class="annot"><span class="annottext">(JFunction -&gt; JFunction) -&gt; JFunction -&gt; JFunction
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">JFunction
-&gt; (SimpleRewrite -&gt; JFunction) -&gt; Maybe SimpleRewrite -&gt; JFunction
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356113"><span class="hs-identifier hs-var">jf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleRewrite"><span class="hs-operator hs-var">`simpleRewrite`</span></a></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356118"><span class="hs-identifier hs-var">s_opt0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SimpleRewrite
</span><a href="#local-6989586621682356119"><span class="hs-identifier hs-var">mb_rw</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span id="local-6989586621682356119"><span class="annot"><span class="annottext">mb_rw :: Maybe SimpleRewrite
</span><a href="#local-6989586621682356119"><span class="hs-identifier hs-var hs-var">mb_rw</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; Maybe SimpleRewrite
</span><a href="GHC.JS.Opt.Simple.html#mkRewrite"><span class="hs-identifier hs-var">mkRewrite</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JFunction -&gt; AnalysisResult
</span><a href="GHC.JS.Opt.Simple.html#simpleAnalyze"><span class="hs-identifier hs-var">simpleAnalyze</span></a></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356118"><span class="hs-identifier hs-var">s_opt0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621682356118"><span class="annot"><span class="annottext">s_opt0 :: JFunction
</span><a href="#local-6989586621682356118"><span class="hs-identifier hs-var hs-var">s_opt0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#functionOptExprs"><span class="hs-identifier hs-var">functionOptExprs</span></a></span><span> </span><span class="annot"><span class="annottext">(JFunction -&gt; JFunction) -&gt; JFunction -&gt; JFunction
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">JFunction
-&gt; (SimpleRewrite -&gt; JFunction) -&gt; Maybe SimpleRewrite -&gt; JFunction
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356113"><span class="hs-identifier hs-var">jf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleRewrite"><span class="hs-operator hs-var">`simpleRewrite`</span></a></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356113"><span class="hs-identifier hs-var">jf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SimpleRewrite
</span><a href="#local-6989586621682356122"><span class="hs-identifier hs-var">mb_rw0</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span id="local-6989586621682356122"><span class="annot"><span class="annottext">mb_rw0 :: Maybe SimpleRewrite
</span><a href="#local-6989586621682356122"><span class="hs-identifier hs-var hs-var">mb_rw0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; Maybe SimpleRewrite
</span><a href="GHC.JS.Opt.Simple.html#mkRewrite"><span class="hs-identifier hs-var">mkRewrite</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JFunction -&gt; AnalysisResult
</span><a href="GHC.JS.Opt.Simple.html#simpleAnalyze"><span class="hs-identifier hs-var">simpleAnalyze</span></a></span><span> </span><span class="annot"><span class="annottext">JFunction
</span><a href="#local-6989586621682356113"><span class="hs-identifier hs-var">jf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#functionOptExprs"><span class="hs-identifier hs-type">functionOptExprs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span>
</span><span id="line-176"></span><span id="functionOptExprs"><span class="annot"><span class="annottext">functionOptExprs :: JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#functionOptExprs"><span class="hs-identifier hs-var hs-var">functionOptExprs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span id="local-6989586621682356123"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356123"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356124"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356124"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Ident] -&gt; JStat -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356123"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="GHC.JS.Opt.Expr.html#optExprs"><span class="hs-identifier hs-var">optExprs</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356124"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#newLocals"><span class="hs-identifier hs-type">newLocals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span id="newLocals"><span class="annot"><span class="annottext">newLocals :: [Ident]
</span><a href="GHC.JS.Opt.Simple.html#newLocals"><span class="hs-identifier hs-var hs-var">newLocals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ident -&gt; Bool) -&gt; [Ident] -&gt; [Ident]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Ident -&gt; Bool) -&gt; Ident -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Bool
</span><a href="#local-6989586621682356129"><span class="hs-identifier hs-var">isReserved</span></a></span><span>  </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Ident] -&gt; [Ident]) -&gt; [Ident] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-180"></span><span>            </span><span class="annot"><span class="annottext">(String -&gt; Ident) -&gt; [String] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; Ident
</span><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-var">TxtI</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; Ident) -&gt; (String -&gt; FastString) -&gt; String -&gt; Ident
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [Ident]) -&gt; [String] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">(Char -&gt; String) -&gt; String -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356132"><span class="hs-identifier hs-var">chars0</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [String]) -&gt; [Int] -&gt; [String]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [String]
</span><a href="#local-6989586621682356134"><span class="hs-identifier hs-var">mkIdents</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>    </span><span id="local-6989586621682356134"><span class="annot"><span class="annottext">mkIdents :: Int -&gt; [String]
</span><a href="#local-6989586621682356134"><span class="hs-identifier hs-var hs-var">mkIdents</span></a></span></span><span> </span><span id="local-6989586621682356137"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356137"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682356138"><span class="hs-identifier hs-var">c0</span></a></span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356139"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682356138"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682356138"><span class="hs-identifier hs-var">c0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356132"><span class="hs-identifier hs-var">chars0</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682356139"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356139"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; [String]
forall (m :: * -&gt; *) a. Applicative m =&gt; Int -&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356137"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356141"><span class="hs-identifier hs-var">chars</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621682356132"><span class="annot"><span class="annottext">chars0 :: String
</span><a href="#local-6989586621682356132"><span class="hs-identifier hs-var hs-var">chars0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'a'</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'z'</span></span><span class="hs-special">]</span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'A'</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'Z'</span></span><span class="hs-special">]</span><span>
</span><span id="line-185"></span><span>    </span><span id="local-6989586621682356141"><span class="annot"><span class="annottext">chars :: String
</span><a href="#local-6989586621682356141"><span class="hs-identifier hs-var hs-var">chars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682356132"><span class="hs-identifier hs-var">chars0</span></a></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'9'</span></span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621682356129"><span class="annot"><span class="annottext">isReserved :: Ident -&gt; Bool
</span><a href="#local-6989586621682356129"><span class="hs-identifier hs-var hs-var">isReserved</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356146"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356146"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356146"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; UniqSet FastString -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; UniqSet a -&gt; Bool
</span><a href="GHC.Types.Unique.Set.html#elementOfUniqSet"><span class="hs-operator hs-var">`US.elementOfUniqSet`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqSet FastString
</span><a href="#local-6989586621682356148"><span class="hs-identifier hs-var">reservedSet</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621682356148"><span class="annot"><span class="annottext">reservedSet :: UniqSet FastString
</span><a href="#local-6989586621682356148"><span class="hs-identifier hs-var hs-var">reservedSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FastString] -&gt; UniqSet FastString
forall a. Uniquable a =&gt; [a] -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#mkUniqSet"><span class="hs-identifier hs-var">US.mkUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682356150"><span class="hs-identifier hs-var">reserved</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span id="local-6989586621682356150"><span class="annot"><span class="annottext">reserved :: [FastString]
</span><a href="#local-6989586621682356150"><span class="hs-identifier hs-var hs-var">reserved</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>  </span><span class="hs-comment">-- reserved words</span><span>
</span><span id="line-189"></span><span>                  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;abstract&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;arguments&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;await&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;boolean&quot;</span></span><span>
</span><span id="line-190"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;break&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;byte&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;case&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;catch&quot;</span></span><span>
</span><span id="line-191"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;char&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;class&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;const&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;continue&quot;</span></span><span>
</span><span id="line-192"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;debugger&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;default&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;delete&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;do&quot;</span></span><span>
</span><span id="line-193"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;double&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;else&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;enum&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;eval&quot;</span></span><span>
</span><span id="line-194"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;export&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;extends&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;false&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;final&quot;</span></span><span>
</span><span id="line-195"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;finally&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;float&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;for&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;function&quot;</span></span><span>
</span><span id="line-196"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;goto&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;if&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;implements&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;import&quot;</span></span><span>
</span><span id="line-197"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;in&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;instanceof&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;int&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;interface&quot;</span></span><span>
</span><span id="line-198"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;let&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;long&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;native&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;new&quot;</span></span><span>
</span><span id="line-199"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;null&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;package&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;private&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;protected&quot;</span></span><span>
</span><span id="line-200"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;public&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;return&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;short&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;static&quot;</span></span><span>
</span><span id="line-201"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;super&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;switch&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;synchronized&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;this&quot;</span></span><span>
</span><span id="line-202"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;throw&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;throws&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;transient&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;true&quot;</span></span><span>
</span><span id="line-203"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;try&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;typeof&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;var&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;void&quot;</span></span><span>
</span><span id="line-204"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;volatile&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;while&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;with&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;yield&quot;</span></span><span>
</span><span id="line-205"></span><span>                </span><span class="hs-comment">-- some special values</span><span>
</span><span id="line-206"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;as&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;async&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;from&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;get&quot;</span></span><span>
</span><span id="line-207"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;of&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;NaN&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;prototype&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;undefined&quot;</span></span><span>
</span><span id="line-208"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mkRewrite"><span class="hs-identifier hs-type">mkRewrite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#SimpleRewrite"><span class="hs-identifier hs-type">SimpleRewrite</span></a></span><span>
</span><span id="line-211"></span><span id="mkRewrite"><span class="annot"><span class="annottext">mkRewrite :: Bool -&gt; AnalysisResult -&gt; Maybe SimpleRewrite
</span><a href="GHC.JS.Opt.Simple.html#mkRewrite"><span class="hs-identifier hs-var hs-var">mkRewrite</span></a></span></span><span> </span><span id="local-6989586621682356223"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356223"><span class="hs-identifier hs-var">do_rename</span></a></span></span><span> </span><span id="local-6989586621682356224"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356224"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#arBailout"><span class="hs-identifier hs-var">arBailout</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356224"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SimpleRewrite
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SimpleRewrite -&gt; Maybe SimpleRewrite
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(SimpleRewrite -&gt; Maybe SimpleRewrite)
-&gt; SimpleRewrite -&gt; Maybe SimpleRewrite
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-214"></span><span>  </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#SimpleRewrite"><span class="hs-identifier hs-type">SimpleRewrite</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">renameVar :: UniqMap Ident Ident
</span><a href="GHC.JS.Opt.Simple.html#renameVar"><span class="hs-identifier hs-var">renameVar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356223"><span class="hs-identifier hs-var">do_rename</span></a></span><span>
</span><span id="line-215"></span><span>                              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[(Ident, Ident)] -&gt; UniqMap Ident Ident
forall k a. Uniquable k =&gt; [(k, a)] -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#listToUniqMap"><span class="hs-identifier hs-var">UM.listToUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ident] -&gt; [Ident] -&gt; [(Ident, Ident)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356227"><span class="hs-identifier hs-var">localVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356228"><span class="hs-identifier hs-var">newVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>                              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident Ident
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">UM.emptyUniqMap</span></a></span><span>
</span><span id="line-217"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">varUsage :: UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage
</span><a href="#local-6989586621682356230"><span class="hs-identifier hs-var">vu</span></a></span><span>
</span><span id="line-218"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-220"></span><span>    </span><span class="annot"><a href="#local-6989586621682356230"><span class="hs-identifier hs-type">vu</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UM.UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621682356230"><span class="annot"><span class="annottext">vu :: UniqMap Ident VarUsage
</span><a href="#local-6989586621682356230"><span class="hs-identifier hs-var hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356224"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-comment">-- local variables in the order that they were declared</span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><a href="#local-6989586621682356227"><span class="hs-identifier hs-type">localVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621682356227"><span class="annot"><span class="annottext">localVars :: [Ident]
</span><a href="#local-6989586621682356227"><span class="hs-identifier hs-var hs-var">localVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><span class="annottext">((Ident, VarDecl) -&gt; Ident) -&gt; [(Ident, VarDecl)] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Ident, VarDecl) -&gt; Ident
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span>
</span><span id="line-227"></span><span>         </span><span class="hs-comment">-- recover original order and remove non-determinism</span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><span class="annottext">([(Ident, VarDecl)] -&gt; [Ident])
-&gt; ([(Ident, VarUsage)] -&gt; [(Ident, VarDecl)])
-&gt; [(Ident, VarUsage)]
-&gt; [Ident]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((Ident, VarDecl) -&gt; (Ident, VarDecl) -&gt; Ordering)
-&gt; [(Ident, VarDecl)] -&gt; [(Ident, VarDecl)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarDecl -&gt; VarDecl -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">(VarDecl -&gt; VarDecl -&gt; Ordering)
-&gt; ((Ident, VarDecl) -&gt; VarDecl)
-&gt; (Ident, VarDecl)
-&gt; (Ident, VarDecl)
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">(Ident, VarDecl) -&gt; VarDecl
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><span class="annottext">([(Ident, VarDecl)] -&gt; [(Ident, VarDecl)])
-&gt; ([(Ident, VarUsage)] -&gt; [(Ident, VarDecl)])
-&gt; [(Ident, VarUsage)]
-&gt; [(Ident, VarDecl)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((Ident, VarUsage) -&gt; (Ident, VarDecl))
-&gt; [(Ident, VarUsage)] -&gt; [(Ident, VarDecl)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682356235"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356235"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682356236"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356236"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356235"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356236"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">([(Ident, VarUsage)] -&gt; [(Ident, VarDecl)])
-&gt; ([(Ident, VarUsage)] -&gt; [(Ident, VarUsage)])
-&gt; [(Ident, VarUsage)]
-&gt; [(Ident, VarDecl)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((Ident, VarUsage) -&gt; Bool)
-&gt; [(Ident, VarUsage)] -&gt; [(Ident, VarUsage)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span> </span><span class="annot"><span class="annottext">(VarDecl -&gt; Bool)
-&gt; ((Ident, VarUsage) -&gt; VarDecl) -&gt; (Ident, VarUsage) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">(VarUsage -&gt; VarDecl)
-&gt; ((Ident, VarUsage) -&gt; VarUsage) -&gt; (Ident, VarUsage) -&gt; VarDecl
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Ident, VarUsage) -&gt; VarUsage
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>      </span><span class="hs-comment">-- non-determinism is removed by sorting afterwards</span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><span class="annottext">([(Ident, VarUsage)] -&gt; [Ident]) -&gt; [(Ident, VarUsage)] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; [(Ident, VarUsage)]
forall k a. UniqMap k a -&gt; [(k, a)]
</span><a href="GHC.Types.Unique.Map.html#nonDetUniqMapToList"><span class="hs-identifier hs-var">UM.nonDetUniqMapToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage
</span><a href="#local-6989586621682356230"><span class="hs-identifier hs-var">vu</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-comment">-- we can't rename variables that are used in the global scope</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="#local-6989586621682356238"><span class="hs-identifier hs-type">blockedNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html#UniqSet"><span class="hs-identifier hs-type">US.UniqSet</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621682356238"><span class="annot"><span class="annottext">blockedNames :: UniqSet Ident
</span><a href="#local-6989586621682356238"><span class="hs-identifier hs-var hs-var">blockedNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><span class="annottext">[Ident] -&gt; UniqSet Ident
forall a. Uniquable a =&gt; [a] -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#mkUniqSet"><span class="hs-identifier hs-var">US.mkUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">([Ident] -&gt; UniqSet Ident) -&gt; [Ident] -&gt; UniqSet Ident
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><span class="annottext">((Ident, VarUsage) -&gt; Ident) -&gt; [(Ident, VarUsage)] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Ident, VarUsage) -&gt; Ident
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><span class="annottext">((Ident, VarUsage) -&gt; Bool)
-&gt; [(Ident, VarUsage)] -&gt; [(Ident, VarUsage)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682356239"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356239"><span class="hs-identifier hs-var">_k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682356240"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356240"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (VarDecl -&gt; Bool) -&gt; VarDecl -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356240"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#varDeepDeclared"><span class="hs-identifier hs-var">varDeepDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356240"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; [(Ident, VarUsage)]
forall k a. UniqMap k a -&gt; [(k, a)]
</span><a href="GHC.Types.Unique.Map.html#nonDetUniqMapToList"><span class="hs-identifier hs-var">UM.nonDetUniqMapToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage
</span><a href="#local-6989586621682356230"><span class="hs-identifier hs-var">vu</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="#local-6989586621682356228"><span class="hs-identifier hs-type">newVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621682356228"><span class="annot"><span class="annottext">newVars :: [Ident]
</span><a href="#local-6989586621682356228"><span class="hs-identifier hs-var hs-var">newVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ident -&gt; Bool) -&gt; [Ident] -&gt; [Ident]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Ident -&gt; Bool) -&gt; Ident -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; UniqSet Ident -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; UniqSet a -&gt; Bool
</span><a href="GHC.Types.Unique.Set.html#elementOfUniqSet"><span class="hs-operator hs-var">`US.elementOfUniqSet`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqSet Ident
</span><a href="#local-6989586621682356238"><span class="hs-identifier hs-var">blockedNames</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="GHC.JS.Opt.Simple.html#newLocals"><span class="hs-identifier hs-var">newLocals</span></a></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleRewrite"><span class="hs-identifier hs-type">simpleRewrite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#SimpleRewrite"><span class="hs-identifier hs-type">SimpleRewrite</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span>
</span><span id="line-246"></span><span id="simpleRewrite"><span class="annot"><span class="annottext">simpleRewrite :: SimpleRewrite -&gt; JFunction -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#simpleRewrite"><span class="hs-identifier hs-var hs-var">simpleRewrite</span></a></span></span><span> </span><span id="local-6989586621682356241"><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span id="local-6989586621682356242"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356242"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356243"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356243"><span class="hs-identifier hs-var">stat</span></a></span></span><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Ident] -&gt; JStat -&gt; JFunction
</span><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-var">JFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Ident -&gt; Ident) -&gt; [Ident] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356242"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356243"><span class="hs-identifier hs-var">stat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="#local-6989586621682356246"><span class="hs-identifier hs-type">zeroUsed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621682356246"><span class="annot"><span class="annottext">zeroUsed :: JExpr -&gt; Bool
</span><a href="#local-6989586621682356246"><span class="hs-identifier hs-var hs-var">zeroUsed</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356248"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356248"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; (VarUsage -&gt; Bool) -&gt; Maybe VarUsage -&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Multiplicity -&gt; Bool)
-&gt; (VarUsage -&gt; Multiplicity) -&gt; VarUsage -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var">varUsed</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356248"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; (VarUsage -&gt; Bool) -&gt; Maybe VarUsage -&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span> </span><span class="annot"><span class="annottext">(VarDecl -&gt; Bool) -&gt; (VarUsage -&gt; VarDecl) -&gt; VarUsage -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356248"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="#local-6989586621682356246"><span class="hs-identifier hs-var">zeroUsed</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621682356244"><span class="hs-identifier hs-type">varReplace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621682356244"><span class="annot"><span class="annottext">varReplace :: Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var hs-var">varReplace</span></a></span></span><span> </span><span id="local-6989586621682356251"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356251"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Maybe Ident -&gt; Ident
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356251"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap Ident Ident -&gt; Ident -&gt; Maybe Ident
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident Ident
</span><a href="GHC.JS.Opt.Simple.html#renameVar"><span class="hs-identifier hs-var">renameVar</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356251"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">{-
      We can sometimes float down an expression to avoid an assignment:

      var x = e;
      f(x);
        ==&gt;
      f(e);

      This can only be done if the expression has no side effects and x is
      only used once.

      Heap object property lookups cannot be floated just yet, since we
      don't know whether an object is mutable or not. For example a thunk
      can be blackholed, which would change the result if we float the lookup
      after the blackholing.
     -}</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-type">mayBeFloated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621682356253"><span class="annot"><span class="annottext">mayBeFloated :: JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var hs-var">mayBeFloated</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span id="local-6989586621682356254"><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356254"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal -&gt; Bool
</span><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356254"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-type">SelExpr</span></a></span><span> </span><span id="local-6989586621682356257"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356257"><span class="hs-identifier hs-var">_e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ident
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-type">IdxExpr</span></a></span><span> </span><span id="local-6989586621682356259"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356259"><span class="hs-identifier hs-var">_e1</span></a></span></span><span> </span><span id="local-6989586621682356260"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356260"><span class="hs-identifier hs-var">_e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#InfixExpr"><span class="hs-identifier hs-type">InfixExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356262"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356262"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356263"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356263"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356262"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356263"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpExpr"><span class="hs-identifier hs-type">UOpExpr</span></a></span><span> </span><span class="annot"><span class="annottext">UOp
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356265"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356265"><span class="hs-identifier hs-var">_e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfExpr"><span class="hs-identifier hs-type">IfExpr</span></a></span><span> </span><span id="local-6989586621682356267"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356267"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356268"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356268"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682356269"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356269"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356267"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-281"></span><span>                                     </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356268"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-282"></span><span>                                     </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356269"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplExpr"><span class="hs-identifier hs-type">ApplExpr</span></a></span><span> </span><span id="local-6989586621682356271"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356271"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356272"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356272"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356273"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356273"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356271"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356273"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(JExpr -&gt; Bool) -&gt; [JExpr] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356272"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-type">mayBeFloatedV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JVal"><span class="hs-identifier hs-type">JVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-288"></span><span>    </span><span id="local-6989586621682356255"><span class="annot"><span class="annottext">mayBeFloatedV :: JVal -&gt; Bool
</span><a href="#local-6989586621682356255"><span class="hs-identifier hs-var hs-var">mayBeFloatedV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356276"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356276"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356277"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356277"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356276"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-290"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356277"><span class="hs-identifier hs-var">vu</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarUsage -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#assignedMultiple"><span class="hs-identifier hs-var">assignedMultiple</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356277"><span class="hs-identifier hs-var">vu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JList"><span class="hs-identifier hs-type">JList</span></a></span><span> </span><span id="local-6989586621682356279"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356279"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(JExpr -&gt; Bool) -&gt; [JExpr] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356279"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JDouble"><span class="hs-identifier hs-type">JDouble</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JInt"><span class="hs-identifier hs-type">JInt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JStr"><span class="hs-identifier hs-type">JStr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JRegEx"><span class="hs-identifier hs-type">JRegEx</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JBool"><span class="hs-identifier hs-type">JBool</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JHash"><span class="hs-identifier hs-type">JHash</span></a></span><span> </span><span id="local-6989586621682356286"><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356286"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((FastString, JExpr) -&gt; Bool) -&gt; [(FastString, JExpr)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">(JExpr -&gt; Bool)
-&gt; ((FastString, JExpr) -&gt; JExpr) -&gt; (FastString, JExpr) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(FastString, JExpr) -&gt; JExpr
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap FastString JExpr -&gt; [(FastString, JExpr)]
forall k a. UniqMap k a -&gt; [(k, a)]
</span><a href="GHC.Types.Unique.Map.html#nonDetUniqMapToList"><span class="hs-identifier hs-var">UM.nonDetUniqMapToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356286"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><a href="#local-6989586621682356255"><span class="hs-identifier hs-var">mayBeFloatedV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-type">JFunc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-comment">{-
       we allow small literals and local variables and arguments to be
       duplicated, since they tend to take up little space.
      -}</span><span>
</span><span id="line-306"></span><span>    </span><span class="annot"><a href="#local-6989586621682356287"><span class="hs-identifier hs-type">mayDuplicate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621682356287"><span class="annot"><span class="annottext">mayDuplicate :: JExpr -&gt; Bool
</span><a href="#local-6989586621682356287"><span class="hs-identifier hs-var hs-var">mayDuplicate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356288"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356288"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356289"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356289"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356288"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isLocalOrArg"><span class="hs-identifier hs-var">isLocalOrArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356289"><span class="hs-identifier hs-var">vu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>    </span><span class="annot"><a href="#local-6989586621682356287"><span class="hs-identifier hs-var">mayDuplicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JInt"><span class="hs-identifier hs-type">JInt</span></a></span><span> </span><span id="local-6989586621682356290"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682356290"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682356290"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1000000</span></span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><a href="#local-6989586621682356287"><span class="hs-identifier hs-var">mayDuplicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JDouble"><span class="hs-identifier hs-type">JDouble</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-312"></span><span>    </span><span class="annot"><a href="#local-6989586621682356287"><span class="hs-identifier hs-var">mayDuplicate</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><span class="hs-identifier">_</span></span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span>    </span><span class="annot"><a href="#local-6989586621682356292"><span class="hs-identifier hs-type">zeroAssigned</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621682356292"><span class="annot"><span class="annottext">zeroAssigned :: Ident -&gt; Bool
</span><a href="#local-6989586621682356292"><span class="hs-identifier hs-var hs-var">zeroAssigned</span></a></span></span><span> </span><span id="local-6989586621682356293"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356293"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-316"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356294"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356294"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356293"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-317"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356294"><span class="hs-identifier hs-var">vu</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-318"></span><span>          </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-319"></span><span>          </span><span class="annot"><span class="annottext">VarValue
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-320"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><a href="#local-6989586621682356295"><span class="hs-identifier hs-type">assignedAtMostOnce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-323"></span><span>    </span><span id="local-6989586621682356295"><span class="annot"><span class="annottext">assignedAtMostOnce :: Ident -&gt; Bool
</span><a href="#local-6989586621682356295"><span class="hs-identifier hs-var hs-var">assignedAtMostOnce</span></a></span></span><span> </span><span id="local-6989586621682356296"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356296"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-324"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356297"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356297"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356296"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-325"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356297"><span class="hs-identifier hs-var">vu</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-326"></span><span>          </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-327"></span><span>          </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnce"><span class="hs-identifier hs-var">AssignedOnce</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-328"></span><span>          </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AssignedOnceKnown"><span class="hs-identifier hs-type">AssignedOnceKnown</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-330"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621682356245"><span class="annot"><span class="annottext">go :: JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#DeclStat"><span class="hs-identifier hs-type">DeclStat</span></a></span><span> </span><span id="local-6989586621682356299"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356300"><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356300"><span class="hs-identifier hs-var">mb_e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356246"><span class="hs-identifier hs-var">zeroUsed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JVal -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-var">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; JVal
</span><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-var">JVar</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-335"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356300"><span class="hs-identifier hs-var">mb_e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-336"></span><span>            </span><span class="annot"><span class="annottext">Maybe JExpr
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Bool
</span><a href="#local-6989586621682356292"><span class="hs-identifier hs-var">zeroAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-337"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Maybe JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#DeclStat"><span class="hs-identifier hs-var">DeclStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-338"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356301"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356301"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356301"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Bool
</span><a href="#local-6989586621682356295"><span class="hs-identifier hs-var">assignedAtMostOnce</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-339"></span><span>                                                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Maybe JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#DeclStat"><span class="hs-identifier hs-var">DeclStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr -&gt; Maybe JExpr
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356301"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Maybe JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#DeclStat"><span class="hs-identifier hs-var">DeclStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356299"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JExpr -&gt; JExpr) -&gt; Maybe JExpr -&gt; Maybe JExpr
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356300"><span class="hs-identifier hs-var">mb_e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-type">AssignStat</span></a></span><span> </span><span id="local-6989586621682356304"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621682356305"><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356305"><span class="hs-identifier hs-var">aop</span></a></span></span><span> </span><span id="local-6989586621682356306"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356306"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356307"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356307"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; AOp -&gt; JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isTrivialAssignment"><span class="hs-identifier hs-var">isTrivialAssignment</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356307"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356305"><span class="hs-identifier hs-var">aop</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356306"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-344"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356246"><span class="hs-identifier hs-var">zeroUsed</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356306"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-345"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356246"><span class="hs-identifier hs-var">zeroUsed</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; AOp -&gt; JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-var">AssignStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356305"><span class="hs-identifier hs-var">aop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356306"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; AOp -&gt; JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-var">AssignStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356304"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356305"><span class="hs-identifier hs-var">aop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356306"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ReturnStat"><span class="hs-identifier hs-type">ReturnStat</span></a></span><span> </span><span id="local-6989586621682356310"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356310"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#ReturnStat"><span class="hs-identifier hs-var">ReturnStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356310"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-type">BlockStat</span></a></span><span> </span><span id="local-6989586621682356311"><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356311"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Opt.Simple.html#flattenBlock"><span class="hs-identifier hs-var">flattenBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JStat -&gt; JStat) -&gt; [JStat] -&gt; [JStat]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356311"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfStat"><span class="hs-identifier hs-type">IfStat</span></a></span><span> </span><span id="local-6989586621682356314"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356314"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356315"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356315"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356316"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356316"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; JStat -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#IfStat"><span class="hs-identifier hs-var">IfStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356314"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356315"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356316"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#WhileStat"><span class="hs-identifier hs-type">WhileStat</span></a></span><span> </span><span id="local-6989586621682356318"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356318"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621682356319"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356319"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356320"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356320"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#WhileStat"><span class="hs-identifier hs-var">WhileStat</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356318"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356319"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356320"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ForStat"><span class="hs-identifier hs-type">ForStat</span></a></span><span> </span><span id="local-6989586621682356322"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356322"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356323"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356323"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356324"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356324"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621682356325"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356325"><span class="hs-identifier hs-var">s3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat -&gt; JExpr -&gt; JStat -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#ForStat"><span class="hs-identifier hs-var">ForStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356322"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356323"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356324"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356325"><span class="hs-identifier hs-var">s3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ForInStat"><span class="hs-identifier hs-type">ForInStat</span></a></span><span> </span><span id="local-6989586621682356327"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356327"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621682356328"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356328"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356329"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356329"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356330"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356330"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Ident -&gt; JExpr -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#ForInStat"><span class="hs-identifier hs-var">ForInStat</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356327"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356328"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356329"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356330"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SwitchStat"><span class="hs-identifier hs-type">SwitchStat</span></a></span><span> </span><span id="local-6989586621682356332"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356332"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356333"><span class="annot"><span class="annottext">[(JExpr, JStat)]
</span><a href="#local-6989586621682356333"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span id="local-6989586621682356334"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356334"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; [(JExpr, JStat)] -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#SwitchStat"><span class="hs-identifier hs-var">SwitchStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356332"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>                                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((JExpr, JStat) -&gt; (JExpr, JStat))
-&gt; [(JExpr, JStat)] -&gt; [(JExpr, JStat)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682356335"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356335"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682356336"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356336"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356335"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356336"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(JExpr, JStat)]
</span><a href="#local-6989586621682356333"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>                                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356334"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#TryStat"><span class="hs-identifier hs-type">TryStat</span></a></span><span> </span><span id="local-6989586621682356338"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356338"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356339"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356339"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356340"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356340"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621682356341"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356341"><span class="hs-identifier hs-var">s3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat -&gt; Ident -&gt; JStat -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#TryStat"><span class="hs-identifier hs-var">TryStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356338"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356339"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356340"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356341"><span class="hs-identifier hs-var">s3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplStat"><span class="hs-identifier hs-type">ApplStat</span></a></span><span> </span><span id="local-6989586621682356343"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356343"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356344"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356344"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; [JExpr] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#ApplStat"><span class="hs-identifier hs-var">ApplStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356343"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JExpr -&gt; JExpr) -&gt; [JExpr] -&gt; [JExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356344"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpStat"><span class="hs-identifier hs-type">UOpStat</span></a></span><span> </span><span id="local-6989586621682356346"><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356346"><span class="hs-identifier hs-var">uop</span></a></span></span><span> </span><span id="local-6989586621682356347"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356347"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UOp -&gt; JExpr -&gt; JStat
</span><a href="GHC.JS.Syntax.html#UOpStat"><span class="hs-identifier hs-var">UOpStat</span></a></span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356346"><span class="hs-identifier hs-var">uop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356347"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#LabelStat"><span class="hs-identifier hs-type">LabelStat</span></a></span><span> </span><span id="local-6989586621682356349"><span class="annot"><span class="annottext">JLabel
</span><a href="#local-6989586621682356349"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682356350"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356350"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JLabel -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#LabelStat"><span class="hs-identifier hs-var">LabelStat</span></a></span><span> </span><span class="annot"><span class="annottext">JLabel
</span><a href="#local-6989586621682356349"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356350"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356351"><span class="annot"><span class="annottext">s :: JStat
</span><a href="#local-6989586621682356351"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#BreakStat"><span class="hs-identifier hs-type">BreakStat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356351"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-361"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356353"><span class="annot"><span class="annottext">s :: JStat
</span><a href="#local-6989586621682356353"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ContinueStat"><span class="hs-identifier hs-type">ContinueStat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356353"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-362"></span><span>    </span><span class="annot"><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#FuncStat"><span class="hs-identifier hs-type">FuncStat</span></a></span><span> </span><span id="local-6989586621682356355"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356355"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682356356"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356356"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356357"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356357"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; [Ident] -&gt; JStat -&gt; JStat
</span><a href="GHC.JS.Syntax.html#FuncStat"><span class="hs-identifier hs-var">FuncStat</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356355"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Ident -&gt; Ident) -&gt; [Ident] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356356"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat
</span><a href="#local-6989586621682356245"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356357"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-type">goE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span>
</span><span id="line-365"></span><span>    </span><span id="local-6989586621682356303"><span class="annot"><span class="annottext">goE :: Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var hs-var">goE</span></a></span></span><span> </span><span id="local-6989586621682356358"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356358"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356359"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356359"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356358"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-367"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356360"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356360"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleRewrite -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#varUsage"><span class="hs-identifier hs-var">varUsage</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleRewrite
</span><a href="#local-6989586621682356241"><span class="hs-identifier hs-var">rw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356359"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-368"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AssignedOnceKnown"><span class="hs-identifier hs-type">AssignedOnceKnown</span></a></span><span> </span><span id="local-6989586621682356361"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356361"><span class="hs-identifier hs-var">ee</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#varAssigned"><span class="hs-identifier hs-var">varAssigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356360"><span class="hs-identifier hs-var">vu</span></a></span><span>
</span><span id="line-369"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VarUsage -&gt; Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#varUsed"><span class="hs-identifier hs-var">varUsed</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356360"><span class="hs-identifier hs-var">vu</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#One"><span class="hs-identifier hs-var">One</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356287"><span class="hs-identifier hs-var">mayDuplicate</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356361"><span class="hs-identifier hs-var">ee</span></a></span><span>
</span><span id="line-370"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VarDecl -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isDecl"><span class="hs-identifier hs-var">isDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarUsage -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#varDeclared"><span class="hs-identifier hs-var">varDeclared</span></a></span><span> </span><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356360"><span class="hs-identifier hs-var">vu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="#local-6989586621682356253"><span class="hs-identifier hs-var">mayBeFloated</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356361"><span class="hs-identifier hs-var">ee</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356358"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356361"><span class="hs-identifier hs-var">ee</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356362"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356362"><span class="hs-identifier hs-var">_rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span id="local-6989586621682356363"><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356363"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-var">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JVal -&gt; JVal
</span><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356363"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356365"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356365"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-type">SelExpr</span></a></span><span> </span><span id="local-6989586621682356366"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356366"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356367"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356367"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Ident -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-var">SelExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356365"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356366"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356367"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356368"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356368"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-type">IdxExpr</span></a></span><span> </span><span id="local-6989586621682356369"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356369"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356370"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356370"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; JExpr -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-var">IdxExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356368"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356369"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356368"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356370"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356371"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356371"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#InfixExpr"><span class="hs-identifier hs-type">InfixExpr</span></a></span><span> </span><span id="local-6989586621682356372"><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621682356372"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682356373"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356373"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356374"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356374"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Op -&gt; JExpr -&gt; JExpr -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#InfixExpr"><span class="hs-identifier hs-var">InfixExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621682356372"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356371"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356373"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356371"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356374"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356375"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356375"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpExpr"><span class="hs-identifier hs-type">UOpExpr</span></a></span><span> </span><span id="local-6989586621682356376"><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356376"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682356377"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356377"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UOp -&gt; JExpr -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#UOpExpr"><span class="hs-identifier hs-var">UOpExpr</span></a></span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356376"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356375"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356377"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356378"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356378"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfExpr"><span class="hs-identifier hs-type">IfExpr</span></a></span><span> </span><span id="local-6989586621682356379"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356379"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356380"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356380"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682356381"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356381"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; JExpr -&gt; JExpr -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#IfExpr"><span class="hs-identifier hs-var">IfExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356378"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356379"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356378"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356380"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356378"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356381"><span class="hs-identifier hs-var">e3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356382"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356382"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplExpr"><span class="hs-identifier hs-type">ApplExpr</span></a></span><span> </span><span id="local-6989586621682356383"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356383"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356384"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356384"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; [JExpr] -&gt; JExpr
</span><a href="GHC.JS.Syntax.html#ApplExpr"><span class="hs-identifier hs-var">ApplExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356382"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356383"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JExpr -&gt; JExpr) -&gt; [JExpr] -&gt; [JExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356382"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356384"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-type">goV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JVal"><span class="hs-identifier hs-type">JVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JVal"><span class="hs-identifier hs-type">JVal</span></a></span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621682356364"><span class="annot"><span class="annottext">goV :: JVal -&gt; JVal
</span><a href="#local-6989586621682356364"><span class="hs-identifier hs-var hs-var">goV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356385"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356385"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; JVal
</span><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-var">JVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident -&gt; Ident
</span><a href="#local-6989586621682356244"><span class="hs-identifier hs-var">varReplace</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356385"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JList"><span class="hs-identifier hs-type">JList</span></a></span><span> </span><span id="local-6989586621682356386"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356386"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[JExpr] -&gt; JVal
</span><a href="GHC.JS.Syntax.html#JList"><span class="hs-identifier hs-var">JList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JExpr -&gt; JExpr) -&gt; [JExpr] -&gt; [JExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356386"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JHash"><span class="hs-identifier hs-type">JHash</span></a></span><span> </span><span id="local-6989586621682356387"><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356387"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr -&gt; JVal
</span><a href="GHC.JS.Syntax.html#JHash"><span class="hs-identifier hs-var">JHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(JExpr -&gt; JExpr)
-&gt; UniqMap FastString JExpr -&gt; UniqMap FastString JExpr
forall a b.
(a -&gt; b) -&gt; UniqMap FastString a -&gt; UniqMap FastString b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; JExpr -&gt; JExpr
</span><a href="#local-6989586621682356303"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356387"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356388"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356388"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-type">JFunc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356388"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356389"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356389"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JDouble"><span class="hs-identifier hs-type">JDouble</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356389"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356390"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356390"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JInt"><span class="hs-identifier hs-type">JInt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356390"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356391"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356391"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JStr"><span class="hs-identifier hs-type">JStr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356391"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-389"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356392"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356392"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JRegEx"><span class="hs-identifier hs-type">JRegEx</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356392"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><a href="#local-6989586621682356364"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356393"><span class="annot"><span class="annottext">v :: JVal
</span><a href="#local-6989586621682356393"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JBool"><span class="hs-identifier hs-type">JBool</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356393"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#flattenBlock"><span class="hs-identifier hs-type">flattenBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span>
</span><span id="line-393"></span><span id="flattenBlock"><span class="annot"><span class="annottext">flattenBlock :: [JStat] -&gt; JStat
</span><a href="GHC.JS.Opt.Simple.html#flattenBlock"><span class="hs-identifier hs-var hs-var">flattenBlock</span></a></span></span><span> </span><span id="local-6989586621682356394"><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356394"><span class="hs-identifier hs-var">stats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(JStat -&gt; Bool) -&gt; [JStat] -&gt; [JStat]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JStat -&gt; JStat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356394"><span class="hs-identifier hs-var">stats</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-395"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-396"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621682356396"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356396"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356396"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-397"></span><span>        </span><span id="local-6989586621682356397"><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356397"><span class="hs-identifier hs-var">ss</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[JStat] -&gt; JStat
</span><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-var">BlockStat</span></a></span><span> </span><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356397"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-keyword">data</span><span> </span><span id="AnalysisResult"><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-var">AnalysisResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AnalysisResult"><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-var">AnalysisResult</span></a></span></span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="arBailout"><span class="annot"><span class="annottext">AnalysisResult -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#arBailout"><span class="hs-identifier hs-var hs-var">arBailout</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="arVarUsage"><span class="annot"><span class="annottext">AnalysisResult -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var hs-var">arVarUsage</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="arDeclaredCount"><span class="annot"><span class="annottext">AnalysisResult -&gt; Int
</span><a href="GHC.JS.Opt.Simple.html#arDeclaredCount"><span class="hs-identifier hs-var hs-var">arDeclaredCount</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#simpleAnalyze"><span class="hs-identifier hs-type">simpleAnalyze</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-406"></span><span id="simpleAnalyze"><span class="annot"><span class="annottext">simpleAnalyze :: JFunction -&gt; AnalysisResult
</span><a href="GHC.JS.Opt.Simple.html#simpleAnalyze"><span class="hs-identifier hs-var hs-var">simpleAnalyze</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#JFunction"><span class="hs-identifier hs-type">JFunction</span></a></span><span> </span><span id="local-6989586621682356400"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356400"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682356401"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356401"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; UniqMap Ident VarUsage -&gt; Int -&gt; AnalysisResult
</span><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-var">AnalysisResult</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage
</span><a href="#local-6989586621682356403"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356401"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><a href="#local-6989586621682356403"><span class="hs-identifier hs-type">start</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span>
</span><span id="line-409"></span><span>    </span><span id="local-6989586621682356403"><span class="annot"><span class="annottext">start :: UniqMap Ident VarUsage
</span><a href="#local-6989586621682356403"><span class="hs-identifier hs-var hs-var">start</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Ident, VarUsage)] -&gt; UniqMap Ident VarUsage
forall k a. Uniquable k =&gt; [(k, a)] -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#listToUniqMap"><span class="hs-identifier hs-var">UM.listToUniqMap</span></a></span><span>
</span><span id="line-410"></span><span>          </span><span class="annot"><span class="annottext">([(Ident, VarUsage)] -&gt; UniqMap Ident VarUsage)
-&gt; [(Ident, VarUsage)] -&gt; UniqMap Ident VarUsage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Ident -&gt; (Ident, VarUsage))
-&gt; [Int] -&gt; [Ident] -&gt; [(Ident, VarUsage)]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682356405"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356405"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682356406"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356406"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356406"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#ArgDecl"><span class="hs-identifier hs-var">ArgDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356405"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>                    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-412"></span><span>                    </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356400"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><a href="#local-6989586621682356407"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-415"></span><span>    </span><span id="local-6989586621682356407"><span class="annot"><span class="annottext">add :: Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621682356408"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356408"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682356409"><span class="annot"><span class="annottext">VarUsage
</span><a href="#local-6989586621682356409"><span class="hs-identifier hs-var">vu</span></a></span></span><span> </span><span id="local-6989586621682356410"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356410"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356410"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap_C"><span class="hs-identifier hs-type">UM.addToUniqMap_C</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">(Semi.&lt;&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356410"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682356408"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356409"><span class="hs-identifier hs-type">vu</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><a href="#local-6989586621682356412"><span class="hs-identifier hs-type">declare</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621682356412"><span class="annot"><span class="annottext">declare :: Bool -&gt; Ident -&gt; Maybe JExpr -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356412"><span class="hs-identifier hs-var hs-var">declare</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621682356413"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356413"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682356414"><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356414"><span class="hs-identifier hs-var">_assign</span></a></span></span><span> </span><span id="local-6989586621682356415"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356415"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- declaration in deeper scope</span><span>
</span><span id="line-420"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682356416"><span class="annot"><span class="annottext">vu :: VarUsage
</span><a href="#local-6989586621682356416"><span class="hs-identifier hs-var hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-421"></span><span>      </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356415"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap_C"><span class="hs-identifier hs-type">UM.addToUniqMap_C</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">(Semi.&lt;&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356415"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682356413"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356416"><span class="hs-identifier hs-type">vu</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-422"></span><span>    </span><span class="annot"><a href="#local-6989586621682356412"><span class="hs-identifier hs-var">declare</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span id="local-6989586621682356417"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356417"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682356418"><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356418"><span class="hs-identifier hs-var">assign</span></a></span></span><span> </span><span id="local-6989586621682356419"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356419"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- declaration in analyzed scope</span><span>
</span><span id="line-423"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682356420"><span class="annot"><span class="annottext">count :: Int
</span><a href="#local-6989586621682356420"><span class="hs-identifier hs-var hs-var">count</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; Int
</span><a href="GHC.JS.Opt.Simple.html#arDeclaredCount"><span class="hs-identifier hs-var">arDeclaredCount</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356419"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-424"></span><span>          </span><span class="hs-glyph">!</span><span id="local-6989586621682356421"><span class="annot"><span class="annottext">newCount :: Int
</span><a href="#local-6989586621682356421"><span class="hs-identifier hs-var hs-var">newCount</span></a></span></span><span>
</span><span id="line-425"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-type">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-type">LocalDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-426"></span><span>                </span><span class="annot"><span class="annottext">UniqMap Ident VarUsage -&gt; Ident -&gt; Maybe VarUsage
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">UM.lookupUniqMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; UniqMap Ident VarUsage
</span><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356419"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356417"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356420"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="hs-comment">-- already declared</span><span>
</span><span id="line-427"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356420"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-428"></span><span>          </span><span id="local-6989586621682356423"><span class="annot"><span class="annottext">vassign :: VarValue
</span><a href="#local-6989586621682356423"><span class="hs-identifier hs-var hs-var">vassign</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356424"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356424"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356418"><span class="hs-identifier hs-var">assign</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnceKnown"><span class="hs-identifier hs-var">AssignedOnceKnown</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356424"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-429"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span>
</span><span id="line-430"></span><span>          </span><span class="hs-glyph">!</span><span id="local-6989586621682356425"><span class="annot"><span class="annottext">vu :: VarUsage
</span><a href="#local-6989586621682356425"><span class="hs-identifier hs-var hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="#local-6989586621682356423"><span class="hs-identifier hs-var">vassign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; VarDecl
</span><a href="GHC.JS.Opt.Simple.html#LocalDecl"><span class="hs-identifier hs-var">LocalDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682356420"><span class="hs-identifier hs-var">count</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-431"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356419"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arDeclaredCount"><span class="hs-identifier hs-var">arDeclaredCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682356421"><span class="hs-identifier hs-type">newCount</span></a></span><span>
</span><span id="line-432"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#addToUniqMap_C"><span class="hs-identifier hs-type">UM.addToUniqMap_C</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">(Semi.&lt;&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arVarUsage"><span class="hs-identifier hs-var">arVarUsage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356419"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682356417"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682356425"><span class="hs-identifier hs-type">vu</span></a></span><span>
</span><span id="line-433"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">JStat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-436"></span><span>    </span><span id="local-6989586621682356402"><span class="annot"><span class="annottext">go :: Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682356426"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356426"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356427"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356427"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#DeclStat"><span class="hs-identifier hs-type">DeclStat</span></a></span><span> </span><span id="local-6989586621682356428"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356428"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356429"><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356429"><span class="hs-identifier hs-var">mb_e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-437"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356429"><span class="hs-identifier hs-var">mb_e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-438"></span><span>            </span><span class="annot"><span class="annottext">Maybe JExpr
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Ident -&gt; Maybe JExpr -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356412"><span class="hs-identifier hs-var">declare</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356426"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356428"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356429"><span class="hs-identifier hs-var">mb_e</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356427"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-439"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682356430"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356430"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Ident -&gt; Maybe JExpr -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356412"><span class="hs-identifier hs-var">declare</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356426"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356428"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
</span><a href="#local-6989586621682356429"><span class="hs-identifier hs-var">mb_e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356427"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356430"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356432"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356432"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356433"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356433"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-type">AssignStat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356434"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356434"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621682356435"><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356435"><span class="hs-identifier hs-var">aop</span></a></span></span><span> </span><span id="local-6989586621682356436"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356436"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682356437"><span class="annot"><span class="annottext">use :: Multiplicity
</span><a href="#local-6989586621682356437"><span class="hs-identifier hs-var hs-var">use</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356435"><span class="hs-identifier hs-var">aop</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-442"></span><span>                    </span><span class="annot"><span class="annottext">AOp
</span><a href="GHC.JS.Syntax.html#AssignOp"><span class="hs-identifier hs-var">AssignOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-443"></span><span>                    </span><span class="annot"><span class="annottext">AOp
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#One"><span class="hs-identifier hs-var">One</span></a></span><span>
</span><span id="line-444"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356434"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="#local-6989586621682356437"><span class="hs-identifier hs-var">use</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JExpr -&gt; VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnceKnown"><span class="hs-identifier hs-var">AssignedOnceKnown</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356436"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356433"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356436"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356438"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356438"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356439"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356439"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#AssignStat"><span class="hs-identifier hs-type">AssignStat</span></a></span><span> </span><span id="local-6989586621682356440"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356440"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621682356441"><span class="annot"><span class="annottext">AOp
</span><a href="#local-6989586621682356441"><span class="hs-identifier hs-var">_aop</span></a></span></span><span> </span><span id="local-6989586621682356442"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356442"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356439"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356440"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356442"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-446"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356443"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356443"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356444"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356444"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ReturnStat"><span class="hs-identifier hs-type">ReturnStat</span></a></span><span> </span><span id="local-6989586621682356445"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356445"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356444"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356445"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356446"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356446"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356447"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356447"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#BlockStat"><span class="hs-identifier hs-type">BlockStat</span></a></span><span> </span><span id="local-6989586621682356448"><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356448"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JStat -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JStat] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356446"><span class="hs-identifier hs-var">deep</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356447"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">[JStat]
</span><a href="#local-6989586621682356448"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356450"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356450"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356451"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356451"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfStat"><span class="hs-identifier hs-type">IfStat</span></a></span><span> </span><span id="local-6989586621682356452"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356452"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356453"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356453"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356454"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356454"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356450"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356450"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356451"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356452"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356453"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356454"><span class="hs-identifier hs-var">s2</span></a></span><span>
</span><span id="line-449"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356455"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356455"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356456"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356456"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#WhileStat"><span class="hs-identifier hs-type">WhileStat</span></a></span><span> </span><span id="local-6989586621682356457"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356457"><span class="hs-identifier hs-var">_b</span></a></span></span><span> </span><span id="local-6989586621682356458"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356458"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356459"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356459"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356455"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356456"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356458"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356459"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-450"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356460"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356460"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356461"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356461"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ForStat"><span class="hs-identifier hs-type">ForStat</span></a></span><span> </span><span id="local-6989586621682356462"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356462"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356463"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356463"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356464"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356464"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621682356465"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356465"><span class="hs-identifier hs-var">s3</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356460"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356460"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356460"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356461"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356462"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356463"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356464"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356465"><span class="hs-identifier hs-var">s3</span></a></span><span>
</span><span id="line-452"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356466"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356466"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356467"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356467"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ForInStat"><span class="hs-identifier hs-type">ForInStat</span></a></span><span> </span><span id="local-6989586621682356468"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356468"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621682356469"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356469"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356470"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356470"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356471"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356471"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-453"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621682356472"><span class="annot"><span class="annottext">u' :: AnalysisResult
</span><a href="#local-6989586621682356472"><span class="hs-identifier hs-var hs-var">u'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356468"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Ident -&gt; Maybe JExpr -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356412"><span class="hs-identifier hs-var">declare</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356466"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356469"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe JExpr
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356467"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356467"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-454"></span><span>      </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356469"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356466"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356466"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356472"><span class="hs-identifier hs-var">u'</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356470"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356471"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356471"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356473"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356473"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356474"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356474"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SwitchStat"><span class="hs-identifier hs-type">SwitchStat</span></a></span><span> </span><span id="local-6989586621682356475"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356475"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356476"><span class="annot"><span class="annottext">[(JExpr, JStat)]
</span><a href="#local-6989586621682356476"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span id="local-6989586621682356477"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356477"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356473"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JStat -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JStat] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356473"><span class="hs-identifier hs-var">deep</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356474"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((JExpr, JStat) -&gt; JStat) -&gt; [(JExpr, JStat)] -&gt; [JStat]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(JExpr, JStat) -&gt; JStat
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(JExpr, JStat)]
</span><a href="#local-6989586621682356476"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356475"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356477"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356478"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356478"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356479"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356479"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#TryStat"><span class="hs-identifier hs-type">TryStat</span></a></span><span> </span><span id="local-6989586621682356480"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356480"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621682356481"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356481"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682356482"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356482"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621682356483"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356483"><span class="hs-identifier hs-var">s3</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356481"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedMany"><span class="hs-identifier hs-var">AssignedMany</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356478"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356478"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356478"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356479"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356480"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356482"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356483"><span class="hs-identifier hs-var">s3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356484"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356484"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356485"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356485"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplStat"><span class="hs-identifier hs-type">ApplStat</span></a></span><span> </span><span id="local-6989586621682356486"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356486"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356487"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356487"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356488"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356488"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356486"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356488"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;eval&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356485"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arBailout"><span class="hs-identifier hs-var">arBailout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-463"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JExpr -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JExpr] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356485"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356486"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356487"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356489"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356489"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356490"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356490"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpStat"><span class="hs-identifier hs-type">UOpStat</span></a></span><span> </span><span id="local-6989586621682356491"><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356491"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682356492"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356492"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356493"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356493"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356492"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-466"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356491"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">UOp -&gt; [UOp] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#PreIncOp"><span class="hs-identifier hs-var">PreIncOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#PostIncOp"><span class="hs-identifier hs-var">PostIncOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#PreDecOp"><span class="hs-identifier hs-var">PreDecOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#PostDecOp"><span class="hs-identifier hs-var">PostDecOp</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-467"></span><span>          </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356493"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#One"><span class="hs-identifier hs-var">One</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnce"><span class="hs-identifier hs-var">AssignedOnce</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356490"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-468"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356490"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356492"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356499"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356499"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span id="local-6989586621682356500"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356500"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#LabelStat"><span class="hs-identifier hs-type">LabelStat</span></a></span><span> </span><span class="annot"><span class="annottext">JLabel
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356501"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356501"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356499"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356500"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356501"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-470"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356502"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356502"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356503"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356503"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#BreakStat"><span class="hs-identifier hs-type">BreakStat</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe JLabel
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356503"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-471"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356504"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356504"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356505"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356505"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ContinueStat"><span class="hs-identifier hs-type">ContinueStat</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe JLabel
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356505"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-472"></span><span>    </span><span class="annot"><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682356506"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356506"><span class="hs-identifier hs-var">_deep</span></a></span></span><span> </span><span id="local-6989586621682356507"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356507"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#FuncStat"><span class="hs-identifier hs-type">FuncStat</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356508"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356508"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621682356509"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356509"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnalysisResult -&gt; Ident -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [Ident] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682356510"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356510"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682356511"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356511"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356511"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnce"><span class="hs-identifier hs-var">AssignedOnce</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356510"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356507"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356508"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356509"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-type">goE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-476"></span><span>    </span><span id="local-6989586621682356431"><span class="annot"><span class="annottext">goE :: AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var hs-var">goE</span></a></span></span><span> </span><span id="local-6989586621682356512"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356512"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span id="local-6989586621682356513"><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356513"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JVal -&gt; AnalysisResult
</span><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356512"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356513"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-477"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356515"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356515"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-type">SelExpr</span></a></span><span> </span><span id="local-6989586621682356516"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356516"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356517"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356517"><span class="hs-identifier hs-var">_i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356515"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356516"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356518"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356518"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-type">IdxExpr</span></a></span><span> </span><span id="local-6989586621682356519"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356519"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356520"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356520"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356518"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356519"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356520"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356521"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356521"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#InfixExpr"><span class="hs-identifier hs-type">InfixExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356522"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356522"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356523"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356523"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356521"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356522"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356523"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356524"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356524"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpExpr"><span class="hs-identifier hs-type">UOpExpr</span></a></span><span> </span><span class="annot"><span class="annottext">UOp
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682356525"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356525"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356524"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356525"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356526"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356526"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfExpr"><span class="hs-identifier hs-type">IfExpr</span></a></span><span> </span><span id="local-6989586621682356527"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356527"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356528"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356528"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682356529"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356529"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356526"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356527"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356528"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356529"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span id="local-6989586621682356530"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356530"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplExpr"><span class="hs-identifier hs-type">ApplExpr</span></a></span><span> </span><span id="local-6989586621682356531"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356531"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682356532"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356532"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356533"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356533"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356531"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356533"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;eval&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356530"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#arBailout"><span class="hs-identifier hs-var">arBailout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-484"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JExpr -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JExpr] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356530"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356531"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356532"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-type">goV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JVal"><span class="hs-identifier hs-type">JVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Opt.Simple.html#AnalysisResult"><span class="hs-identifier hs-type">AnalysisResult</span></a></span><span>
</span><span id="line-487"></span><span>    </span><span id="local-6989586621682356514"><span class="annot"><span class="annottext">goV :: AnalysisResult -&gt; JVal -&gt; AnalysisResult
</span><a href="#local-6989586621682356514"><span class="hs-identifier hs-var hs-var">goV</span></a></span></span><span> </span><span id="local-6989586621682356534"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356534"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356535"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356535"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356535"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#One"><span class="hs-identifier hs-var">One</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#Unassigned"><span class="hs-identifier hs-var">Unassigned</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356534"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-488"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356536"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356536"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JList"><span class="hs-identifier hs-type">JList</span></a></span><span> </span><span id="local-6989586621682356537"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356537"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JExpr -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JExpr] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356536"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356537"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-489"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356538"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356538"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JDouble"><span class="hs-identifier hs-type">JDouble</span></a></span><span> </span><span class="annot"><span class="annottext">SaneDouble
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356538"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-490"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356539"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356539"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JInt"><span class="hs-identifier hs-type">JInt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356539"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356540"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356540"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JStr"><span class="hs-identifier hs-type">JStr</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356540"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356541"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356541"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JRegEx"><span class="hs-identifier hs-type">JRegEx</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356541"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356542"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356542"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JBool"><span class="hs-identifier hs-type">JBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356542"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-494"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356543"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356543"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JHash"><span class="hs-identifier hs-type">JHash</span></a></span><span> </span><span id="local-6989586621682356544"><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356544"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnalysisResult -&gt; JExpr -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [JExpr] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">AnalysisResult -&gt; JExpr -&gt; AnalysisResult
</span><a href="#local-6989586621682356431"><span class="hs-identifier hs-var">goE</span></a></span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356543"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FastString, JExpr) -&gt; JExpr) -&gt; [(FastString, JExpr)] -&gt; [JExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FastString, JExpr) -&gt; JExpr
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(FastString, JExpr)] -&gt; [JExpr])
-&gt; [(FastString, JExpr)] -&gt; [JExpr]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr -&gt; [(FastString, JExpr)]
forall k a. UniqMap k a -&gt; [(k, a)]
</span><a href="GHC.Types.Unique.Map.html#nonDetUniqMapToList"><span class="hs-identifier hs-var">UM.nonDetUniqMapToList</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356544"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>    </span><span class="annot"><a href="#local-6989586621682356514"><span class="hs-identifier hs-var">goV</span></a></span><span> </span><span id="local-6989586621682356545"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356545"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-type">JFunc</span></a></span><span> </span><span id="local-6989586621682356546"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356546"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621682356547"><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356547"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; AnalysisResult -&gt; JStat -&gt; AnalysisResult
</span><a href="#local-6989586621682356402"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnalysisResult -&gt; Ident -&gt; AnalysisResult)
-&gt; AnalysisResult -&gt; [Ident] -&gt; AnalysisResult
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682356549"><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356549"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682356550"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356550"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ident -&gt; VarUsage -&gt; AnalysisResult -&gt; AnalysisResult
</span><a href="#local-6989586621682356407"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356550"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Multiplicity -&gt; VarValue -&gt; VarDecl -&gt; Bool -&gt; VarUsage
</span><a href="GHC.JS.Opt.Simple.html#VarUsage"><span class="hs-identifier hs-var">VarUsage</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><a href="GHC.JS.Opt.Simple.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="annot"><span class="annottext">VarValue
</span><a href="GHC.JS.Opt.Simple.html#AssignedOnce"><span class="hs-identifier hs-var">AssignedOnce</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl
</span><a href="GHC.JS.Opt.Simple.html#NoDecl"><span class="hs-identifier hs-var">NoDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356549"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnalysisResult
</span><a href="#local-6989586621682356545"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621682356546"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">JStat
</span><a href="#local-6989586621682356547"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="annot"><span class="hs-comment">-- | A trivial assignment is an assignment of a variable to itself: x = x</span></span><span>
</span><span id="line-499"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isTrivialAssignment"><span class="hs-identifier hs-type">isTrivialAssignment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#AOp"><span class="hs-identifier hs-type">AOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-500"></span><span id="isTrivialAssignment"><span class="annot"><span class="annottext">isTrivialAssignment :: Ident -&gt; AOp -&gt; JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isTrivialAssignment"><span class="hs-identifier hs-var hs-var">isTrivialAssignment</span></a></span></span><span> </span><span id="local-6989586621682356551"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356551"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">AOp
</span><a href="GHC.JS.Syntax.html#AssignOp"><span class="hs-identifier hs-var">AssignOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span id="local-6989586621682356552"><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356552"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356551"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Ident -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Ident
</span><a href="#local-6989586621682356552"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-501"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isTrivialAssignment"><span class="hs-identifier hs-var">isTrivialAssignment</span></a></span><span> </span><span class="annot"><span class="annottext">Ident
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><span class="hs-identifier">_</span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">-- | Does the expression have side effects?</span><span>
</span><span id="line-504"></span><span class="hs-comment">--</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- This only returns False if the expression definitely does not have side</span><span>
</span><span id="line-506"></span><span class="hs-comment">-- effects, i.e. it can be removed without changing the semantics if the</span><span>
</span><span id="line-507"></span><span class="hs-comment">-- result is not used.</span><span>
</span><span id="line-508"></span><span class="hs-comment">--</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- Note: We have some assumptions here about Haskell RTS related values, which</span><span>
</span><span id="line-510"></span><span class="hs-comment">--       may not be true for all JavaScript code. We should really replace</span><span>
</span><span id="line-511"></span><span class="hs-comment">--       these with explicit nodes or annotations in the AST.</span><span>
</span><span id="line-512"></span><span class="hs-comment">--</span><span>
</span><span id="line-513"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-type">mayHaveSideEffects</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JExpr"><span class="hs-identifier hs-type">JExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-514"></span><span class="hs-comment">-- special cases for Haskell things. These should really be special operations</span><span>
</span><span id="line-515"></span><span class="hs-comment">-- in the AST:</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- 1. stack indexing does not have side effects</span><span>
</span><span id="line-517"></span><span id="mayHaveSideEffects"><span class="annot"><span class="annottext">mayHaveSideEffects :: JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var hs-var">mayHaveSideEffects</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-type">IdxExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356553"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356553"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621682356554"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356554"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356553"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$stack&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356554"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- 2. we assume that x.d1, x.d2, ... are heap object property lookups,</span><span>
</span><span id="line-520"></span><span class="hs-comment">--    which do not have side effects</span><span>
</span><span id="line-521"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-type">SelExpr</span></a></span><span> </span><span id="local-6989586621682356555"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356555"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Ident.html#TxtI"><span class="hs-identifier hs-type">TxtI</span></a></span><span> </span><span id="local-6989586621682356556"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356556"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682356556"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356555"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">-- general cases (no Haskell RTS specific assumptions here):</span><span>
</span><span id="line-525"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ValExpr"><span class="hs-identifier hs-type">ValExpr</span></a></span><span> </span><span id="local-6989586621682356558"><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356558"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JVal -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="annot"><span class="annottext">JVal
</span><a href="#local-6989586621682356558"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-526"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#SelExpr"><span class="hs-identifier hs-type">SelExpr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-527"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IdxExpr"><span class="hs-identifier hs-type">IdxExpr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-528"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#UOpExpr"><span class="hs-identifier hs-type">UOpExpr</span></a></span><span> </span><span id="local-6989586621682356560"><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356560"><span class="hs-identifier hs-var">uop</span></a></span></span><span> </span><span id="local-6989586621682356561"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356561"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682356562"><span class="hs-identifier hs-var">uo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356561"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-529"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-530"></span><span>        </span><span id="local-6989586621682356562"><span class="annot"><span class="annottext">uo :: Bool
</span><a href="#local-6989586621682356562"><span class="hs-identifier hs-var hs-var">uo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UOp
</span><a href="#local-6989586621682356560"><span class="hs-identifier hs-var">uop</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-531"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#NotOp"><span class="hs-identifier hs-var">NotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-532"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#BNotOp"><span class="hs-identifier hs-var">BNotOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-533"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#NegOp"><span class="hs-identifier hs-var">NegOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-534"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#PlusOp"><span class="hs-identifier hs-var">PlusOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-535"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><a href="GHC.JS.Syntax.html#TypeofOp"><span class="hs-identifier hs-var">TypeofOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-536"></span><span>              </span><span class="annot"><span class="annottext">UOp
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-537"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#InfixExpr"><span class="hs-identifier hs-type">InfixExpr</span></a></span><span> </span><span id="local-6989586621682356568"><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621682356568"><span class="hs-identifier hs-var">_o</span></a></span></span><span> </span><span id="local-6989586621682356569"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356569"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356570"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356570"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-538"></span><span>  </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356569"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356570"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-539"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#IfExpr"><span class="hs-identifier hs-type">IfExpr</span></a></span><span> </span><span id="local-6989586621682356571"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356571"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682356572"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356572"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682356573"><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356573"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356571"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356572"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr
</span><a href="#local-6989586621682356573"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-541"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#ApplExpr"><span class="hs-identifier hs-type">ApplExpr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-type">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JVal"><span class="hs-identifier hs-type">JVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-544"></span><span id="mayHaveSideEffectsV"><span class="annot"><span class="annottext">mayHaveSideEffectsV :: JVal -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var hs-var">mayHaveSideEffectsV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JVar"><span class="hs-identifier hs-type">JVar</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-545"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JList"><span class="hs-identifier hs-type">JList</span></a></span><span> </span><span id="local-6989586621682356574"><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356574"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(JExpr -&gt; Bool) -&gt; [JExpr] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">[JExpr]
</span><a href="#local-6989586621682356574"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-546"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JDouble"><span class="hs-identifier hs-type">JDouble</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-547"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JInt"><span class="hs-identifier hs-type">JInt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-548"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JStr"><span class="hs-identifier hs-type">JStr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-549"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JRegEx"><span class="hs-identifier hs-type">JRegEx</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-550"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JBool"><span class="hs-identifier hs-type">JBool</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-551"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JHash"><span class="hs-identifier hs-type">JHash</span></a></span><span> </span><span id="local-6989586621682356576"><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356576"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(JExpr -&gt; Bool) -&gt; UniqMap FastString JExpr -&gt; Bool
forall a k. (a -&gt; Bool) -&gt; UniqMap k a -&gt; Bool
</span><a href="GHC.Types.Unique.Map.html#anyUniqMap"><span class="hs-identifier hs-var">UM.anyUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">JExpr -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffects"><span class="hs-identifier hs-var">mayHaveSideEffects</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap FastString JExpr
</span><a href="#local-6989586621682356576"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-552"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#mayHaveSideEffectsV"><span class="hs-identifier hs-var">mayHaveSideEffectsV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.JS.Syntax.html#JFunc"><span class="hs-identifier hs-type">JFunc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-type">isHeapObjectProperty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-555"></span><span id="isHeapObjectProperty"><span class="annot"><span class="annottext">isHeapObjectProperty :: FastString -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var hs-var">isHeapObjectProperty</span></a></span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d1&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-556"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d2&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-557"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d3&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-558"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d4&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-559"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d5&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-560"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d6&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-561"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d7&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-562"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d8&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-563"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d9&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-564"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d10&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-565"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d11&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-566"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d12&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-567"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d13&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-568"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d14&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d15&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-570"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d16&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-571"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d17&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-572"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d18&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-573"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d19&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-574"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d20&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-575"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d21&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-576"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d22&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-577"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d23&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-578"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;d24&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isHeapObjectProperty"><span class="hs-identifier hs-var">isHeapObjectProperty</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-type">isClosureAllocator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-583"></span><span id="isClosureAllocator"><span class="annot"><span class="annottext">isClosureAllocator :: FastString -&gt; Bool
</span><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var hs-var">isClosureAllocator</span></a></span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c1&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-584"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c2&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-585"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c3&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-586"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c4&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-587"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c5&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-588"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c6&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-589"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c7&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-590"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c8&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-591"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c9&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-592"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c10&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-593"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c11&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-594"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c12&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-595"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c13&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-596"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c14&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-597"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c15&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-598"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c16&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-599"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c17&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-600"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c18&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-601"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c19&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-602"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c20&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-603"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c21&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-604"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c22&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-605"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c23&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-606"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;h$c24&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-607"></span><span class="annot"><a href="GHC.JS.Opt.Simple.html#isClosureAllocator"><span class="hs-identifier hs-var">isClosureAllocator</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span></pre></body></html>