<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span class="hs-cpp">

#ifdef TRUSTWORTHY
</span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span> </span><span class="hs-comment">-- vector, hashable</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#ifndef MIN_VERSION_base
</span><span class="hs-cpp">#define MIN_VERSION_base(x,y,z) 1
</span><span class="hs-cpp">#endif
</span><span class="hs-cpp">
#ifndef MIN_VERSION_containers
</span><span class="hs-cpp">#define MIN_VERSION_containers(x,y,z) 1
</span><span class="hs-cpp">#endif
</span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- Module      :  Control.Lens.Indexed</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Copyright   :  (C) 2012-16 Edward Kmett</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- Stability   :  provisional</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- Portability :  Rank2Types</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- (The classes in here need to be defined together for @DefaultSignatures@ to work.)</span><span>
</span><span id="line-32"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-33"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Lens.Indexed</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexing</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier">Indexable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier">Conjoined</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier">Indexed</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#%3C."><span class="hs-operator">(&lt;.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#%3C.%3E"><span class="hs-operator">(&lt;.&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#.%3E"><span class="hs-operator">(.&gt;)</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#selfIndex"><span class="hs-identifier">selfIndex</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#reindexed"><span class="hs-identifier">reindexed</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#icompose"><span class="hs-identifier">icompose</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#indexing"><span class="hs-identifier">indexing</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#indexing64"><span class="hs-identifier">indexing64</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Functors</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier">FunctorWithIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Foldables</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier">FoldableWithIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Indexed Foldable Combinators</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iany"><span class="hs-identifier">iany</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iall"><span class="hs-identifier">iall</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#inone"><span class="hs-identifier">inone</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#none"><span class="hs-identifier">none</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse_"><span class="hs-identifier">itraverse_</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifor_"><span class="hs-identifier">ifor_</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapM_"><span class="hs-identifier">imapM_</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iforM_"><span class="hs-identifier">iforM_</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iconcatMap"><span class="hs-identifier">iconcatMap</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifind"><span class="hs-identifier">ifind</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldrM"><span class="hs-identifier">ifoldrM</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldlM"><span class="hs-identifier">ifoldlM</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itoList"><span class="hs-identifier">itoList</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Converting to Folds</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#withIndex"><span class="hs-identifier">withIndex</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#asIndex"><span class="hs-identifier">asIndex</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Restricting by Index</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#indices"><span class="hs-identifier">indices</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#index"><span class="hs-identifier">index</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Traversables</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier">TraversableWithIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Traversable Combinators</span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifor"><span class="hs-identifier">ifor</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapM"><span class="hs-identifier">imapM</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iforM"><span class="hs-identifier">iforM</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumR"><span class="hs-identifier">imapAccumR</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumL"><span class="hs-identifier">imapAccumL</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Folds with Reified Monoid</span></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMapBy"><span class="hs-identifier">ifoldMapBy</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMapByOf"><span class="hs-identifier">ifoldMapByOf</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Traversals with Reified Applicative</span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverseBy"><span class="hs-identifier">itraverseBy</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverseByOf"><span class="hs-identifier">itraverseByOf</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative.Backwards</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Comonad.Cofree</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Comonad.Trans.Traced</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">void</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Identity</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Free</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html"><span class="hs-identifier">Control.Lens.Fold</span></a></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html"><span class="hs-identifier">Control.Lens.Getter</span></a></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html"><span class="hs-identifier">Control.Lens.Internal.Fold</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html"><span class="hs-identifier">Control.Lens.Internal.Indexed</span></a></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Level.html"><span class="hs-identifier">Control.Lens.Internal.Level</span></a></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Magma.html"><span class="hs-identifier">Control.Lens.Internal.Magma</span></a></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html"><span class="hs-identifier">Control.Lens.Setter</span></a></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Traversal.html"><span class="hs-identifier">Control.Lens.Traversal</span></a></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Type.html"><span class="hs-identifier">Control.Lens.Type</span></a></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Array</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Array</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Compose</span></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Product</span></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Reverse</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Sum</span></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IntMap</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Ix</span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Sum</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Product</span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Unsafe</span></span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Reflection</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(:&lt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">index</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Tagged</span></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Tree</span></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Tuple</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">swap</span></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Vector</span></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span class="hs-cpp">

#if !(MIN_VERSION_base(4,8,0))
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Traversable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sequenceA</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#ifdef HLINT
</span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">&quot;HLint: ignore Use fmap&quot;</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-137"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#%3C.%3E"><span class="hs-operator hs-type">&lt;.&gt;</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#%3C."><span class="hs-operator hs-type">&lt;.</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#.%3E"><span class="hs-operator hs-type">.&gt;</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Compose an 'Indexed' function with a non-indexed function.</span><span>
</span><span id="line-144"></span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- Mnemonically, the @&lt;@ points to the indexing we want to preserve.</span><span>
</span><span id="line-146"></span><span class="hs-comment">--</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- &gt;&gt;&gt; let nestedMap = (fmap Map.fromList . Map.fromList) [(1, [(10, &quot;one,ten&quot;), (20, &quot;one,twenty&quot;)]), (2, [(30, &quot;two,thirty&quot;), (40,&quot;two,forty&quot;)])]</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- &gt;&gt;&gt; nestedMap^..(itraversed&lt;.itraversed).withIndex</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- [(1,&quot;one,ten&quot;),(1,&quot;one,twenty&quot;),(2,&quot;two,thirty&quot;),(2,&quot;two,forty&quot;)]</span><span>
</span><span id="line-150"></span><span id="local-6989586621679458107"><span id="local-6989586621679458108"><span id="local-6989586621679458109"><span id="local-6989586621679458110"><span id="local-6989586621679458111"><span id="local-6989586621679458112"><span id="local-6989586621679458113"><span class="annot"><a href="Control.Lens.Indexed.html#%3C."><span class="hs-operator hs-type">(&lt;.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458113"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458112"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458113"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458111"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458110"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458109"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458108"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458107"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458111"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458110"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458112"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458108"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458107"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458109"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-151"></span><span id="%3C."><span class="annot"><span class="annottext">&lt;. :: (Indexed i s t -&gt; r) -&gt; ((a -&gt; b) -&gt; s -&gt; t) -&gt; p a b -&gt; r
</span><a href="Control.Lens.Indexed.html#%3C."><span class="hs-operator hs-var hs-var">(&lt;.)</span></a></span></span><span> </span><span id="local-6989586621679458106"><span class="annot"><span class="annottext">f :: Indexed i s t -&gt; r
</span><a href="#local-6989586621679458106"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458105"><span class="annot"><span class="annottext">g :: (a -&gt; b) -&gt; s -&gt; t
</span><a href="#local-6989586621679458105"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679458104"><span class="annot"><span class="annottext">h :: p a b
</span><a href="#local-6989586621679458104"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Indexed i s t -&gt; r
</span><a href="#local-6989586621679458106"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Indexed i s t -&gt; r)
-&gt; ((i -&gt; s -&gt; t) -&gt; Indexed i s t) -&gt; (i -&gt; s -&gt; t) -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; s -&gt; t) -&gt; Indexed i s t
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; s -&gt; t) -&gt; r) -&gt; (i -&gt; s -&gt; t) -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; s -&gt; t
</span><a href="#local-6989586621679458105"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; b) -&gt; s -&gt; t) -&gt; (i -&gt; a -&gt; b) -&gt; i -&gt; s -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; i -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679458104"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-152"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | Compose a non-indexed function with an 'Indexed' function.</span><span>
</span><span id="line-155"></span><span class="hs-comment">--</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- Mnemonically, the @&gt;@ points to the indexing we want to preserve.</span><span>
</span><span id="line-157"></span><span class="hs-comment">--</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- This is the same as @('.')@.</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- @f '.' g@ (and @f '.&gt;' g@) gives you the index of @g@ unless @g@ is index-preserving, like a</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- 'Prism', 'Iso' or 'Equality', in which case it'll pass through the index of @f@.</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- &gt;&gt;&gt; let nestedMap = (fmap Map.fromList . Map.fromList) [(1, [(10, &quot;one,ten&quot;), (20, &quot;one,twenty&quot;)]), (2, [(30, &quot;two,thirty&quot;), (40,&quot;two,forty&quot;)])]</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- &gt;&gt;&gt; nestedMap^..(itraversed.&gt;itraversed).withIndex</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- [(10,&quot;one,ten&quot;),(20,&quot;one,twenty&quot;),(30,&quot;two,thirty&quot;),(40,&quot;two,forty&quot;)]</span><span>
</span><span id="line-166"></span><span id="local-6989586621679458098"><span id="local-6989586621679458099"><span id="local-6989586621679458100"><span class="annot"><a href="Control.Lens.Indexed.html#.%3E"><span class="hs-operator hs-type">(.&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458100"><span class="hs-identifier hs-type">st</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458099"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458098"><span class="hs-identifier hs-type">kab</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458100"><span class="hs-identifier hs-type">st</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458098"><span class="hs-identifier hs-type">kab</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458099"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-167"></span><span id=".%3E"><span class="annot"><span class="annottext">.&gt; :: (st -&gt; r) -&gt; (kab -&gt; st) -&gt; kab -&gt; r
</span><a href="Control.Lens.Indexed.html#.%3E"><span class="hs-operator hs-var hs-var">(.&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(st -&gt; r) -&gt; (kab -&gt; st) -&gt; kab -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">(.)</span></span><span>
</span><span id="line-168"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- | Use a value itself as its own index. This is essentially an indexed version of 'id'.</span><span>
</span><span id="line-171"></span><span class="hs-comment">--</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- Note: When used to modify the value, this can break the index requirements assumed by 'indices' and similar,</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- so this is only properly an 'IndexedGetter', but it can be used as more.</span><span>
</span><span id="line-174"></span><span class="hs-comment">--</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- 'selfIndex' ::&#160;'IndexedGetter' a a b</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-178"></span><span id="local-6989586621679458095"><span id="local-6989586621679458096"><span id="local-6989586621679458097"><span class="annot"><a href="Control.Lens.Indexed.html#selfIndex"><span class="hs-identifier hs-type">selfIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458097"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458096"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458096"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458097"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458095"><span class="hs-identifier hs-type">fb</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458097"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458095"><span class="hs-identifier hs-type">fb</span></a></span></span></span></span><span>
</span><span id="line-179"></span><span id="selfIndex"><span class="annot"><span class="annottext">selfIndex :: p a fb -&gt; a -&gt; fb
</span><a href="Control.Lens.Indexed.html#selfIndex"><span class="hs-identifier hs-var hs-var">selfIndex</span></a></span></span><span> </span><span id="local-6989586621679458094"><span class="annot"><span class="annottext">f :: p a fb
</span><a href="#local-6989586621679458094"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458093"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679458093"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a fb -&gt; a -&gt; a -&gt; fb
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a fb
</span><a href="#local-6989586621679458094"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458093"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458093"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-180"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#selfIndex"><span class="hs-pragma hs-type">selfIndex</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Remap the index.</span><span>
</span><span id="line-183"></span><span id="local-6989586621679458087"><span id="local-6989586621679458088"><span id="local-6989586621679458089"><span id="local-6989586621679458090"><span id="local-6989586621679458091"><span id="local-6989586621679458092"><span class="annot"><a href="Control.Lens.Indexed.html#reindexed"><span class="hs-identifier hs-type">reindexed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458092"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458091"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458090"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458092"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458090"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458089"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458088"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458087"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458091"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458089"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458088"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458087"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-184"></span><span id="reindexed"><span class="annot"><span class="annottext">reindexed :: (i -&gt; j) -&gt; (Indexed i a b -&gt; r) -&gt; p a b -&gt; r
</span><a href="Control.Lens.Indexed.html#reindexed"><span class="hs-identifier hs-var hs-var">reindexed</span></a></span></span><span> </span><span id="local-6989586621679458086"><span class="annot"><span class="annottext">ij :: i -&gt; j
</span><a href="#local-6989586621679458086"><span class="hs-identifier hs-var">ij</span></a></span></span><span> </span><span id="local-6989586621679458085"><span class="annot"><span class="annottext">f :: Indexed i a b -&gt; r
</span><a href="#local-6989586621679458085"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458084"><span class="annot"><span class="annottext">g :: p a b
</span><a href="#local-6989586621679458084"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Indexed i a b -&gt; r
</span><a href="#local-6989586621679458085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Indexed i a b -&gt; r)
-&gt; ((i -&gt; a -&gt; b) -&gt; Indexed i a b) -&gt; (i -&gt; a -&gt; b) -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; Indexed i a b
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; b) -&gt; r) -&gt; (i -&gt; a -&gt; b) -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">p a b -&gt; j -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a b
</span><a href="#local-6989586621679458084"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; (i -&gt; j) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; j
</span><a href="#local-6989586621679458086"><span class="hs-identifier hs-var">ij</span></a></span><span>
</span><span id="line-185"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#reindexed"><span class="hs-pragma hs-type">reindexed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | Composition of 'Indexed' functions.</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Mnemonically, the @\&lt;@ and @\&gt;@ points to the fact that we want to preserve the indices.</span><span>
</span><span id="line-190"></span><span class="hs-comment">--</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- &gt;&gt;&gt; let nestedMap = (fmap Map.fromList . Map.fromList) [(1, [(10, &quot;one,ten&quot;), (20, &quot;one,twenty&quot;)]), (2, [(30, &quot;two,thirty&quot;), (40,&quot;two,forty&quot;)])]</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- &gt;&gt;&gt; nestedMap^..(itraversed&lt;.&gt;itraversed).withIndex</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- [((1,10),&quot;one,ten&quot;),((1,20),&quot;one,twenty&quot;),((2,30),&quot;two,thirty&quot;),((2,40),&quot;two,forty&quot;)]</span><span>
</span><span id="line-194"></span><span id="local-6989586621679458076"><span id="local-6989586621679458077"><span id="local-6989586621679458078"><span id="local-6989586621679458079"><span id="local-6989586621679458080"><span id="local-6989586621679458081"><span id="local-6989586621679458082"><span id="local-6989586621679458083"><span class="annot"><a href="Control.Lens.Indexed.html#%3C.%3E"><span class="hs-operator hs-type">(&lt;.&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458083"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679458082"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679458081"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458083"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458080"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458079"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458078"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458082"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458076"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458080"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458079"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458081"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458076"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458078"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-195"></span><span id="local-6989586621679458075"><span class="annot"><span class="annottext">f :: Indexed i s t -&gt; r
</span><a href="#local-6989586621679458075"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%3C.%3E"><span class="annot"><span class="annottext">&lt;.&gt; :: (Indexed i s t -&gt; r) -&gt; (Indexed j a b -&gt; s -&gt; t) -&gt; p a b -&gt; r
</span><a href="Control.Lens.Indexed.html#%3C.%3E"><span class="hs-operator hs-var hs-var">&lt;.&gt;</span></a></span></span><span> </span><span id="local-6989586621679458074"><span class="annot"><span class="annottext">g :: Indexed j a b -&gt; s -&gt; t
</span><a href="#local-6989586621679458074"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; j -&gt; (i, j))
-&gt; (Indexed i s t -&gt; r) -&gt; (Indexed j a b -&gt; s -&gt; t) -&gt; p a b -&gt; r
forall p (c :: * -&gt; * -&gt; *) i j s t r a b.
Indexable p c =&gt;
(i -&gt; j -&gt; p)
-&gt; (Indexed i s t -&gt; r) -&gt; (Indexed j a b -&gt; s -&gt; t) -&gt; c a b -&gt; r
</span><a href="Control.Lens.Indexed.html#icompose"><span class="hs-identifier hs-var">icompose</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Indexed i s t -&gt; r
</span><a href="#local-6989586621679458075"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Indexed j a b -&gt; s -&gt; t
</span><a href="#local-6989586621679458074"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-196"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-comment">-- | Composition of 'Indexed' functions with a user supplied function for combining indices.</span><span>
</span><span id="line-199"></span><span id="local-6989586621679459664"><span id="local-6989586621679459665"><span id="local-6989586621679459666"><span id="local-6989586621679459667"><span id="local-6989586621679459668"><span id="local-6989586621679459669"><span id="local-6989586621679459670"><span id="local-6989586621679459671"><span id="local-6989586621679459672"><span class="annot"><a href="Control.Lens.Indexed.html#icompose"><span class="hs-identifier hs-type">icompose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459672"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459671"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459670"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459669"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459672"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459670"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459668"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459667"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459666"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459669"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459664"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459668"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459667"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459671"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459664"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459666"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-200"></span><span id="icompose"><span class="annot"><span class="annottext">icompose :: (i -&gt; j -&gt; p)
-&gt; (Indexed i s t -&gt; r) -&gt; (Indexed j a b -&gt; s -&gt; t) -&gt; c a b -&gt; r
</span><a href="Control.Lens.Indexed.html#icompose"><span class="hs-identifier hs-var hs-var">icompose</span></a></span></span><span> </span><span id="local-6989586621679458073"><span class="annot"><span class="annottext">ijk :: i -&gt; j -&gt; p
</span><a href="#local-6989586621679458073"><span class="hs-identifier hs-var">ijk</span></a></span></span><span> </span><span id="local-6989586621679458072"><span class="annot"><span class="annottext">istr :: Indexed i s t -&gt; r
</span><a href="#local-6989586621679458072"><span class="hs-identifier hs-var">istr</span></a></span></span><span> </span><span id="local-6989586621679458071"><span class="annot"><span class="annottext">jabst :: Indexed j a b -&gt; s -&gt; t
</span><a href="#local-6989586621679458071"><span class="hs-identifier hs-var">jabst</span></a></span></span><span> </span><span id="local-6989586621679458070"><span class="annot"><span class="annottext">cab :: c a b
</span><a href="#local-6989586621679458070"><span class="hs-identifier hs-var">cab</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Indexed i s t -&gt; r
</span><a href="#local-6989586621679458072"><span class="hs-identifier hs-var">istr</span></a></span><span> </span><span class="annot"><span class="annottext">(Indexed i s t -&gt; r)
-&gt; ((i -&gt; s -&gt; t) -&gt; Indexed i s t) -&gt; (i -&gt; s -&gt; t) -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; s -&gt; t) -&gt; Indexed i s t
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; s -&gt; t) -&gt; r) -&gt; (i -&gt; s -&gt; t) -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679458069"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458069"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Indexed j a b -&gt; s -&gt; t
</span><a href="#local-6989586621679458071"><span class="hs-identifier hs-var">jabst</span></a></span><span> </span><span class="annot"><span class="annottext">(Indexed j a b -&gt; s -&gt; t)
-&gt; ((j -&gt; a -&gt; b) -&gt; Indexed j a b) -&gt; (j -&gt; a -&gt; b) -&gt; s -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; Indexed j a b
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((j -&gt; a -&gt; b) -&gt; s -&gt; t) -&gt; (j -&gt; a -&gt; b) -&gt; s -&gt; t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679458068"><span class="annot"><span class="annottext">j :: j
</span><a href="#local-6989586621679458068"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">c a b -&gt; p -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">c a b
</span><a href="#local-6989586621679458070"><span class="hs-identifier hs-var">cab</span></a></span><span> </span><span class="annot"><span class="annottext">(p -&gt; a -&gt; b) -&gt; p -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; j -&gt; p
</span><a href="#local-6989586621679458073"><span class="hs-identifier hs-var">ijk</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458069"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">j
</span><a href="#local-6989586621679458068"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-201"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#icompose"><span class="hs-pragma hs-type">icompose</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- Restricting by index</span><span>
</span><span id="line-205"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | This allows you to filter an 'IndexedFold', 'IndexedGetter', 'IndexedTraversal' or 'IndexedLens' based on a predicate</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- on the indices.</span><span>
</span><span id="line-209"></span><span class="hs-comment">--</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- &gt;&gt;&gt; [&quot;hello&quot;,&quot;the&quot;,&quot;world&quot;,&quot;!!!&quot;]^..traversed.indices even</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- [&quot;hello&quot;,&quot;world&quot;]</span><span>
</span><span id="line-212"></span><span class="hs-comment">--</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- &gt;&gt;&gt; over (traversed.indices (&gt;0)) Prelude.reverse $ [&quot;He&quot;,&quot;was&quot;,&quot;stressed&quot;,&quot;o_O&quot;]</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- [&quot;He&quot;,&quot;saw&quot;,&quot;desserts&quot;,&quot;O_o&quot;]</span><span>
</span><span id="line-215"></span><span id="local-6989586621679458064"><span id="local-6989586621679458065"><span id="local-6989586621679458066"><span id="local-6989586621679458067"><span class="annot"><a href="Control.Lens.Indexed.html#indices"><span class="hs-identifier hs-type">indices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458067"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458066"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679458065"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458067"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458066"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458067"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679458065"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458064"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458064"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-216"></span><span id="indices"><span class="annot"><span class="annottext">indices :: (i -&gt; Bool) -&gt; Optical' p (Indexed i) f a a
</span><a href="Control.Lens.Indexed.html#indices"><span class="hs-identifier hs-var hs-var">indices</span></a></span></span><span> </span><span id="local-6989586621679458063"><span class="annot"><span class="annottext">p :: i -&gt; Bool
</span><a href="#local-6989586621679458063"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679458062"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679458062"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f a) -&gt; Indexed i a (f a))
-&gt; (i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679458061"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458061"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679458060"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679458060"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i -&gt; Bool
</span><a href="#local-6989586621679458063"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458061"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679458062"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458061"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458060"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458060"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-217"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#indices"><span class="hs-pragma hs-type">indices</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | This allows you to filter an 'IndexedFold', 'IndexedGetter', 'IndexedTraversal' or 'IndexedLens' based on an index.</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- &gt;&gt;&gt; [&quot;hello&quot;,&quot;the&quot;,&quot;world&quot;,&quot;!!!&quot;]^?traversed.index 2</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- Just &quot;world&quot;</span><span>
</span><span id="line-223"></span><span id="local-6989586621679458056"><span id="local-6989586621679458057"><span id="local-6989586621679458058"><span id="local-6989586621679458059"><span class="annot"><a href="Control.Lens.Indexed.html#index"><span class="hs-identifier hs-type">index</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458059"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458058"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679458059"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679458057"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458059"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458058"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458059"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679458057"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458056"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458056"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-224"></span><span id="index"><span class="annot"><span class="annottext">index :: i -&gt; Optical' p (Indexed i) f a a
</span><a href="Control.Lens.Indexed.html#index"><span class="hs-identifier hs-var hs-var">index</span></a></span></span><span> </span><span id="local-6989586621679458055"><span class="annot"><span class="annottext">j :: i
</span><a href="#local-6989586621679458055"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span id="local-6989586621679458054"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679458054"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f a) -&gt; Indexed i a (f a))
-&gt; (i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679458053"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458053"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679458052"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679458052"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458055"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; i -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458053"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679458054"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458053"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458052"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679458052"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-225"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#index"><span class="hs-pragma hs-type">index</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- FunctorWithIndex</span><span>
</span><span id="line-230"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | A 'Functor' with an additional index.</span><span>
</span><span id="line-233"></span><span class="hs-comment">--</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- Instances must satisfy a modified form of the 'Functor' laws:</span><span>
</span><span id="line-235"></span><span class="hs-comment">--</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- 'imap' f '.' 'imap' g &#8801; 'imap' (\\i -&gt; f i '.' g i)</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- 'imap' (\\_ a -&gt; a) &#8801; 'id'</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-240"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="FunctorWithIndex"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-var">FunctorWithIndex</span></a></span></span><span> </span><span id="local-6989586621679459640"><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679459637"><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-comment">-- | Map with access to the index.</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679459602"><span id="local-6989586621679459603"><span id="imap"><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-type">imap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459603"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459602"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459603"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459602"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-243"></span><span>  </span><span id="local-6989586621679458049"><span id="local-6989586621679458050"><span class="hs-keyword">default</span><span> </span><span id="imap"><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-type">imap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458050"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458049"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458050"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458049"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-244"></span><span>  </span><span id="local-6989586621679458048"><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var hs-var">imap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnIndexedSetter i (f a) (f b) a b -&gt; (i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i s t a b.
AnIndexedSetter i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t
</span><a href="Control.Lens.Setter.html#iover"><span class="hs-identifier hs-var">iover</span></a></span><span> </span><span class="annot"><span class="annottext">AnIndexedSetter i (f a) (f b) a b
forall i (t :: * -&gt; *) a b.
TraversableWithIndex i t =&gt;
IndexedTraversal i (t a) (t b) a b
</span><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-identifier hs-var">itraversed</span></a></span></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-comment">-- | The 'IndexedSetter' for a 'FunctorWithIndex'.</span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-comment">-- If you don't need access to the index, then 'mapped' is more flexible in what it accepts.</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679459388"><span id="local-6989586621679459389"><span id="imapped"><span class="annot"><a href="Control.Lens.Indexed.html#imapped"><span class="hs-identifier hs-type">imapped</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter"><span class="hs-identifier hs-type">IndexedSetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459640"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459389"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459637"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459388"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679459389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459388"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621679458044"><span class="annot"><a href="Control.Lens.Indexed.html#imapped"><span class="hs-identifier hs-var hs-var">imapped</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (a -&gt; f b) -&gt; f a -&gt; f (f b))
-&gt; (p a (f b) -&gt; f a -&gt; f (f b)) -&gt; p a (f b) -&gt; f a -&gt; f (f b)
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="annot"><span class="annottext">(p ~ (-&gt;)) =&gt; (a -&gt; f b) -&gt; f a -&gt; f (f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; Setter (f a) (f b) a b
</span><a href="Control.Lens.Setter.html#mapped"><span class="hs-identifier hs-var">mapped</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((i -&gt; a -&gt; b) -&gt; f a -&gt; f b) -&gt; IndexedSetter i (f a) (f b) a b
forall i a b s t.
((i -&gt; a -&gt; b) -&gt; s -&gt; t) -&gt; IndexedSetter i s t a b
</span><a href="Control.Lens.Setter.html#isets"><span class="hs-identifier hs-var">isets</span></a></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapped"><span class="hs-pragma hs-type">imapped</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- FoldableWithIndex</span><span>
</span><span id="line-256"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- | A container that supports folding with an additional index.</span><span>
</span><span id="line-259"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="FoldableWithIndex"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-var">FoldableWithIndex</span></a></span></span><span> </span><span id="local-6989586621679459601"><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679459598"><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-comment">-- | Fold a container by mapping value to an arbitrary 'Monoid' with access to the index @i@.</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-comment">-- When you don't need access to the index then 'foldMap' is more flexible in what it accepts.</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-comment">-- 'foldMap' &#8801; 'ifoldMap' '.' 'const'</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-268"></span><span>  </span><span id="local-6989586621679459577"><span id="local-6989586621679459578"><span id="ifoldMap"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-type">ifoldMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679459578"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459578"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459578"><span class="hs-identifier hs-type">m</span></a></span></span></span><span class="hs-cpp">
#ifndef HLINT
</span><span>  </span><span id="local-6989586621679458038"><span id="local-6989586621679458039"><span class="hs-keyword">default</span><span> </span><span id="ifoldMap"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-type">ifoldMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679458039"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458038"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458039"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458038"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458039"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-271"></span><span>  </span><span id="local-6989586621679458037"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var hs-var">ifoldMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i m (f a) a -&gt; (i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i m (f a) a
forall i (t :: * -&gt; *) a b.
TraversableWithIndex i t =&gt;
IndexedTraversal i (t a) (t b) a b
</span><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-identifier hs-var">itraversed</span></a></span></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-comment">-- | The 'IndexedFold' of a 'FoldableWithIndex' container.</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-comment">-- @'ifolded' '.' 'asIndex'@ is a fold over the keys of a 'FoldableWithIndex'.</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-comment">-- &gt;&gt;&gt; Data.Map.fromList [(2, &quot;hello&quot;), (1, &quot;world&quot;)]^..ifolded.asIndex</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-comment">-- [1,2]</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679459379"><span id="ifolded"><span class="annot"><a href="Control.Lens.Indexed.html#ifolded"><span class="hs-identifier hs-type">ifolded</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier hs-type">IndexedFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459379"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679459379"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-282"></span><span>  </span><span id="local-6989586621679458034"><span class="annot"><a href="Control.Lens.Indexed.html#ifolded"><span class="hs-identifier hs-var hs-var">ifolded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a))
-&gt; (p a (f a) -&gt; f a -&gt; f (f a)) -&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="annot"><span class="annottext">(p ~ (-&gt;)) =&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a)
forall (f :: * -&gt; *) a. Foldable f =&gt; IndexedFold Int (f a) a
</span><a href="Control.Lens.Fold.html#folded"><span class="hs-identifier hs-var">folded</span></a></span><span> </span><span class="annot"><span class="annottext">((p a (f a) -&gt; f a -&gt; f (f a)) -&gt; p a (f a) -&gt; f a -&gt; f (f a))
-&gt; (p a (f a) -&gt; f a -&gt; f (f a)) -&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679458032"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679458032"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f (f a)
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f (f a)) -&gt; (f a -&gt; f a) -&gt; f a -&gt; f (f a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Folding f a -&gt; f a
forall (f :: * -&gt; *) a. Folding f a -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getFolding"><span class="hs-identifier hs-var hs-var">getFolding</span></a></span><span> </span><span class="annot"><span class="annottext">(Folding f a -&gt; f a) -&gt; (f a -&gt; Folding f a) -&gt; f a -&gt; f a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Folding f a) -&gt; f a -&gt; Folding f a
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679458029"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458029"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f a -&gt; Folding f a
forall (f :: * -&gt; *) a. f a -&gt; Folding f a
</span><a href="Control.Lens.Internal.Fold.html#Folding"><span class="hs-identifier hs-var">Folding</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; Folding f a) -&gt; (a -&gt; f a) -&gt; a -&gt; Folding f a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679458032"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458029"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifolded"><span class="hs-pragma hs-type">ifolded</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-comment">-- | Right-associative fold of an indexed container with access to the index @i@.</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-comment">-- When you don't need access to the index then 'Data.Foldable.foldr' is more flexible in what it accepts.</span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-comment">-- 'Data.Foldable.foldr' &#8801; 'ifoldr' '.' 'const'</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621679459549"><span id="local-6989586621679459550"><span id="ifoldr"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-type">ifoldr</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459550"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459549"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459549"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459549"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459550"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459549"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621679458025"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-var hs-var">ifoldr</span></a></span><span> </span><span id="local-6989586621679458024"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458024"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458023"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679458023"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679458022"><span class="annot"><span class="annottext">t :: f a
</span><a href="#local-6989586621679458022"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo b -&gt; b -&gt; b
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Endo b) -&gt; f a -&gt; Endo b
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679458020"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458020"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; Endo b
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; b) -&gt; Endo b) -&gt; (a -&gt; b -&gt; b) -&gt; a -&gt; Endo b
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458024"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458020"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679458022"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679458023"><span class="hs-identifier hs-var">z</span></a></span></span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-pragma hs-type">ifoldr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-comment">-- | Left-associative fold of an indexed container with access to the index @i@.</span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-comment">-- When you don't need access to the index then 'Data.Foldable.foldl' is more flexible in what it accepts.</span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-comment">-- 'Data.Foldable.foldl' &#8801; 'ifoldl' '.' 'const'</span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-303"></span><span>  </span><span id="local-6989586621679459554"><span id="local-6989586621679459555"><span id="ifoldl"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-identifier hs-type">ifoldl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459555"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459555"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459555"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459555"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-304"></span><span>  </span><span id="local-6989586621679458017"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-identifier hs-var hs-var">ifoldl</span></a></span><span> </span><span id="local-6989586621679458016"><span class="annot"><span class="annottext">f :: i -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679458016"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458015"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679458015"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679458014"><span class="annot"><span class="annottext">t :: f a
</span><a href="#local-6989586621679458014"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo b -&gt; b -&gt; b
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dual (Endo b) -&gt; Endo b
forall a. Dual a -&gt; a
</span><span class="hs-identifier hs-var hs-var">getDual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Dual (Endo b)) -&gt; f a -&gt; Dual (Endo b)
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679458012"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458012"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo b -&gt; Dual (Endo b)
forall a. a -&gt; Dual a
</span><span class="hs-identifier hs-var">Dual</span></span><span> </span><span class="annot"><span class="annottext">(Endo b -&gt; Dual (Endo b)) -&gt; (a -&gt; Endo b) -&gt; a -&gt; Dual (Endo b)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; Endo b
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; b) -&gt; Endo b) -&gt; (a -&gt; b -&gt; b) -&gt; a -&gt; Endo b
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a -&gt; b) -&gt; a -&gt; b -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679458016"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458012"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679458014"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679458015"><span class="hs-identifier hs-var">z</span></a></span></span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-pragma hs-type">ifoldl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-comment">-- | /Strictly/ fold right over the elements of a structure with access to the index @i@.</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-comment">-- When you don't need access to the index then 'foldr'' is more flexible in what it accepts.</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-comment">-- 'foldr'' &#8801; 'ifoldr'' '.' 'const'</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-314"></span><span>  </span><span id="local-6989586621679458008"><span id="local-6989586621679458009"><span id="ifoldr%27"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr%27"><span class="hs-identifier hs-type">ifoldr'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458009"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458008"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458008"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458008"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458009"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458008"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679458006"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr%27"><span class="hs-identifier hs-var hs-var">ifoldr'</span></a></span><span> </span><span id="local-6989586621679458005"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458005"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679458004"><span class="annot"><span class="annottext">z0 :: b
</span><a href="#local-6989586621679458004"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679458003"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679458003"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; (b -&gt; b) -&gt; a -&gt; b -&gt; b) -&gt; (b -&gt; b) -&gt; f a -&gt; b -&gt; b
forall i (f :: * -&gt; *) b a.
FoldableWithIndex i f =&gt;
(i -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-identifier hs-var">ifoldl</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; (b -&gt; b) -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458002"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679458003"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679458004"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679458002"><span class="annot"><span class="annottext">f' :: i -&gt; (b -&gt; b) -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458002"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679458000"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679458000"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457999"><span class="annot"><span class="annottext">k :: b -&gt; b
</span><a href="#local-6989586621679457999"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679457998"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679457998"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457997"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679457997"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; b
</span><a href="#local-6989586621679457999"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679458005"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679458000"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457998"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457997"><span class="hs-identifier hs-var">z</span></a></span></span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr%27"><span class="hs-pragma hs-type">ifoldr'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-comment">-- | Fold over the elements of a structure with an index, associating to the left, but /strictly/.</span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-comment">-- When you don't need access to the index then 'Control.Lens.Fold.foldlOf'' is more flexible in what it accepts.</span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-comment">-- 'Control.Lens.Fold.foldlOf'' l &#8801; 'ifoldlOf'' l '.' 'const'</span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-326"></span><span>  </span><span id="local-6989586621679457994"><span id="local-6989586621679457995"><span id="ifoldl%27"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl%27"><span class="hs-identifier hs-type">ifoldl'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459601"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457995"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457994"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457995"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457995"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459598"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457994"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457995"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-327"></span><span>  </span><span id="local-6989586621679457992"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl%27"><span class="hs-identifier hs-var hs-var">ifoldl'</span></a></span><span> </span><span id="local-6989586621679457991"><span class="annot"><span class="annottext">f :: i -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679457991"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457990"><span class="annot"><span class="annottext">z0 :: b
</span><a href="#local-6989586621679457990"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679457989"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679457989"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; (b -&gt; b) -&gt; b -&gt; b) -&gt; (b -&gt; b) -&gt; f a -&gt; b -&gt; b
forall i (f :: * -&gt; *) a b.
FoldableWithIndex i f =&gt;
(i -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-var">ifoldr</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; (b -&gt; b) -&gt; b -&gt; b
</span><a href="#local-6989586621679457988"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457989"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457990"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679457988"><span class="annot"><span class="annottext">f' :: i -&gt; a -&gt; (b -&gt; b) -&gt; b -&gt; b
</span><a href="#local-6989586621679457988"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679457987"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457987"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457986"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679457986"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457985"><span class="annot"><span class="annottext">k :: b -&gt; b
</span><a href="#local-6989586621679457985"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679457984"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679457984"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; b
</span><a href="#local-6989586621679457985"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679457991"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457987"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457984"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457986"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl%27"><span class="hs-pragma hs-type">ifoldl'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | Return whether or not any element in a container satisfies a predicate, with access to the index @i@.</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- When you don't need access to the index then 'any' is more flexible in what it accepts.</span><span>
</span><span id="line-334"></span><span class="hs-comment">--</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- 'any' &#8801; 'iany' '.' 'const'</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-338"></span><span id="local-6989586621679459535"><span id="local-6989586621679459536"><span id="local-6989586621679459537"><span class="annot"><a href="Control.Lens.Indexed.html#iany"><span class="hs-identifier hs-type">iany</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459537"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459536"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459537"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459536"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-339"></span><span id="iany"><span class="annot"><span class="annottext">iany :: (i -&gt; a -&gt; Bool) -&gt; f a -&gt; Bool
</span><a href="Control.Lens.Indexed.html#iany"><span class="hs-identifier hs-var hs-var">iany</span></a></span></span><span> </span><span id="local-6989586621679457983"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457983"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (f a -&gt; Any) -&gt; f a -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Any) -&gt; f a -&gt; Any
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457981"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457981"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><span class="hs-identifier hs-var">Any</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Any) -&gt; (a -&gt; Bool) -&gt; a -&gt; Any
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457983"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457981"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iany"><span class="hs-pragma hs-type">iany</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-comment">-- | Return whether or not all elements in a container satisfy a predicate, with access to the index @i@.</span><span>
</span><span id="line-343"></span><span class="hs-comment">--</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- When you don't need access to the index then 'all' is more flexible in what it accepts.</span><span>
</span><span id="line-345"></span><span class="hs-comment">--</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- 'all' &#8801; 'iall' '.' 'const'</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-349"></span><span id="local-6989586621679457977"><span id="local-6989586621679457978"><span id="local-6989586621679457979"><span class="annot"><a href="Control.Lens.Indexed.html#iall"><span class="hs-identifier hs-type">iall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457979"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457978"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457979"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457977"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457978"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457977"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-350"></span><span id="iall"><span class="annot"><span class="annottext">iall :: (i -&gt; a -&gt; Bool) -&gt; f a -&gt; Bool
</span><a href="Control.Lens.Indexed.html#iall"><span class="hs-identifier hs-var hs-var">iall</span></a></span></span><span> </span><span id="local-6989586621679457976"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457976"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (f a -&gt; All) -&gt; f a -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; All) -&gt; f a -&gt; All
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457974"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457974"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; All) -&gt; (a -&gt; Bool) -&gt; a -&gt; All
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457976"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457974"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iall"><span class="hs-pragma hs-type">iall</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- | Return whether or not none of the elements in a container satisfy a predicate, with access to the index @i@.</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- When you don't need access to the index then 'none' is more flexible in what it accepts.</span><span>
</span><span id="line-356"></span><span class="hs-comment">--</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- 'none' &#8801; 'inone' '.' 'const'</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- 'inone' f &#8801; 'not' '.' 'iany' f</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-361"></span><span id="local-6989586621679457970"><span id="local-6989586621679457971"><span id="local-6989586621679457972"><span class="annot"><a href="Control.Lens.Indexed.html#inone"><span class="hs-identifier hs-type">inone</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457972"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457971"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457972"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457970"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457971"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457970"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-362"></span><span id="inone"><span class="annot"><span class="annottext">inone :: (i -&gt; a -&gt; Bool) -&gt; f a -&gt; Bool
</span><a href="Control.Lens.Indexed.html#inone"><span class="hs-identifier hs-var hs-var">inone</span></a></span></span><span> </span><span id="local-6989586621679457969"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457969"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (f a -&gt; Bool) -&gt; f a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Bool) -&gt; f a -&gt; Bool
forall i (f :: * -&gt; *) a.
FoldableWithIndex i f =&gt;
(i -&gt; a -&gt; Bool) -&gt; f a -&gt; Bool
</span><a href="Control.Lens.Indexed.html#iany"><span class="hs-identifier hs-var">iany</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457969"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-363"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#inone"><span class="hs-pragma hs-type">inone</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">-- | Determines whether no elements of the structure satisfy the predicate.</span><span>
</span><span id="line-366"></span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- 'none' f &#8801; 'not' '.' 'any' f</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-370"></span><span id="local-6989586621679457966"><span id="local-6989586621679457967"><span class="annot"><a href="Control.Lens.Indexed.html#none"><span class="hs-identifier hs-type">none</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679457967"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457966"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457967"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457966"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-371"></span><span id="none"><span class="annot"><span class="annottext">none :: (a -&gt; Bool) -&gt; f a -&gt; Bool
</span><a href="Control.Lens.Indexed.html#none"><span class="hs-identifier hs-var hs-var">none</span></a></span></span><span> </span><span id="local-6989586621679457965"><span class="annot"><span class="annottext">f :: a -&gt; Bool
</span><a href="#local-6989586621679457965"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (f a -&gt; Bool) -&gt; f a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; f a -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">Data.Foldable.any</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679457965"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-372"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#none"><span class="hs-pragma hs-type">none</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">-- | Traverse elements with access to the index @i@, discarding the results.</span><span>
</span><span id="line-375"></span><span class="hs-comment">--</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- When you don't need access to the index then 'traverse_' is more flexible in what it accepts.</span><span>
</span><span id="line-377"></span><span class="hs-comment">--</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- 'traverse_' l = 'itraverse' '.' 'const'</span><span>
</span><span id="line-380"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-381"></span><span id="local-6989586621679459511"><span id="local-6989586621679459512"><span id="local-6989586621679459513"><span id="local-6989586621679459514"><span id="local-6989586621679459515"><span class="annot"><a href="Control.Lens.Indexed.html#itraverse_"><span class="hs-identifier hs-type">itraverse_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459515"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459514"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679459513"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459515"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459513"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459511"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459514"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459513"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-382"></span><span id="itraverse_"><span class="annot"><span class="annottext">itraverse_ :: (i -&gt; a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="Control.Lens.Indexed.html#itraverse_"><span class="hs-identifier hs-var hs-var">itraverse_</span></a></span></span><span> </span><span id="local-6989586621679457963"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457963"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; f ()) -&gt; (t a -&gt; f b) -&gt; t a -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Traversed b f -&gt; f b
forall a (f :: * -&gt; *). Traversed a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversed"><span class="hs-identifier hs-var hs-var">getTraversed</span></a></span><span> </span><span class="annot"><span class="annottext">(Traversed b f -&gt; f b) -&gt; (t a -&gt; Traversed b f) -&gt; t a -&gt; f b
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Traversed b f) -&gt; t a -&gt; Traversed b f
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457961"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457961"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Traversed b f
forall a (f :: * -&gt; *). f a -&gt; Traversed a f
</span><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-var">Traversed</span></a></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Traversed b f) -&gt; (a -&gt; f b) -&gt; a -&gt; Traversed b f
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457963"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457961"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse_"><span class="hs-pragma hs-type">itraverse_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">-- | Traverse elements with access to the index @i@, discarding the results (with the arguments flipped).</span><span>
</span><span id="line-386"></span><span class="hs-comment">--</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-388"></span><span class="hs-comment">-- 'ifor_' &#8801; 'flip' 'itraverse_'</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-390"></span><span class="hs-comment">--</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- When you don't need access to the index then 'for_' is more flexible in what it accepts.</span><span>
</span><span id="line-392"></span><span class="hs-comment">--</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-394"></span><span class="hs-comment">-- 'for_' a &#8801; 'ifor_' a '.' 'const'</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-396"></span><span id="local-6989586621679457955"><span id="local-6989586621679457956"><span id="local-6989586621679457957"><span id="local-6989586621679457958"><span id="local-6989586621679457959"><span class="annot"><a href="Control.Lens.Indexed.html#ifor_"><span class="hs-identifier hs-type">ifor_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457959"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457958"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679457957"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457958"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457959"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457957"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457955"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457957"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-397"></span><span id="ifor_"><span class="annot"><span class="annottext">ifor_ :: t a -&gt; (i -&gt; a -&gt; f b) -&gt; f ()
</span><a href="Control.Lens.Indexed.html#ifor_"><span class="hs-identifier hs-var hs-var">ifor_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f b) -&gt; t a -&gt; f ()) -&gt; t a -&gt; (i -&gt; a -&gt; f b) -&gt; f ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; t a -&gt; f ()
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(FoldableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="Control.Lens.Indexed.html#itraverse_"><span class="hs-identifier hs-var">itraverse_</span></a></span><span>
</span><span id="line-398"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifor_"><span class="hs-pragma hs-type">ifor_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Run monadic actions for each target of an 'IndexedFold' or 'Control.Lens.IndexedTraversal.IndexedTraversal' with access to the index,</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- discarding the results.</span><span>
</span><span id="line-402"></span><span class="hs-comment">--</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- When you don't need access to the index then 'Control.Lens.Fold.mapMOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-404"></span><span class="hs-comment">--</span><span>
</span><span id="line-405"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- 'mapM_' &#8801; 'imapM' '.' 'const'</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-408"></span><span id="local-6989586621679459489"><span id="local-6989586621679459490"><span id="local-6989586621679459491"><span id="local-6989586621679459492"><span id="local-6989586621679459493"><span class="annot"><a href="Control.Lens.Indexed.html#imapM_"><span class="hs-identifier hs-type">imapM_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459493"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459492"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679459491"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459493"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459491"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459489"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459492"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459491"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-409"></span><span id="imapM_"><span class="annot"><span class="annottext">imapM_ :: (i -&gt; a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="Control.Lens.Indexed.html#imapM_"><span class="hs-identifier hs-var hs-var">imapM_</span></a></span></span><span> </span><span id="local-6989586621679457954"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m b
</span><a href="#local-6989586621679457954"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; ()) -&gt; m b -&gt; m ()
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; ()
forall a. a -&gt; ()
</span><a href="Control.Lens.Indexed.html#skip"><span class="hs-identifier hs-var">skip</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; m ()) -&gt; (t a -&gt; m b) -&gt; t a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sequenced b m -&gt; m b
forall a (m :: * -&gt; *). Sequenced a m -&gt; m a
</span><a href="Control.Lens.Internal.Fold.html#getSequenced"><span class="hs-identifier hs-var hs-var">getSequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(Sequenced b m -&gt; m b) -&gt; (t a -&gt; Sequenced b m) -&gt; t a -&gt; m b
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Sequenced b m) -&gt; t a -&gt; Sequenced b m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457951"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457951"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m b -&gt; Sequenced b m
forall a (m :: * -&gt; *). m a -&gt; Sequenced a m
</span><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-var">Sequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; Sequenced b m) -&gt; (a -&gt; m b) -&gt; a -&gt; Sequenced b m
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m b
</span><a href="#local-6989586621679457954"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457951"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapM_"><span class="hs-pragma hs-type">imapM_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- | Run monadic actions for each target of an 'IndexedFold' or 'Control.Lens.IndexedTraversal.IndexedTraversal' with access to the index,</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- discarding the results (with the arguments flipped).</span><span>
</span><span id="line-414"></span><span class="hs-comment">--</span><span>
</span><span id="line-415"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-416"></span><span class="hs-comment">-- 'iforM_' &#8801; 'flip' 'imapM_'</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-418"></span><span class="hs-comment">--</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- When you don't need access to the index then 'Control.Lens.Fold.forMOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-420"></span><span class="hs-comment">--</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- 'Control.Lens.Fold.forMOf_' l a &#8801; 'iforMOf' l a '.' 'const'</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-424"></span><span id="local-6989586621679457945"><span id="local-6989586621679457946"><span id="local-6989586621679457947"><span id="local-6989586621679457948"><span id="local-6989586621679457949"><span class="annot"><a href="Control.Lens.Indexed.html#iforM_"><span class="hs-identifier hs-type">iforM_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457949"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457948"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679457947"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457948"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457949"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457947"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457945"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457947"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-425"></span><span id="iforM_"><span class="annot"><span class="annottext">iforM_ :: t a -&gt; (i -&gt; a -&gt; m b) -&gt; m ()
</span><a href="Control.Lens.Indexed.html#iforM_"><span class="hs-identifier hs-var hs-var">iforM_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; m b) -&gt; t a -&gt; m ()) -&gt; t a -&gt; (i -&gt; a -&gt; m b) -&gt; m ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m b) -&gt; t a -&gt; m ()
forall i (t :: * -&gt; *) (m :: * -&gt; *) a b.
(FoldableWithIndex i t, Monad m) =&gt;
(i -&gt; a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="Control.Lens.Indexed.html#imapM_"><span class="hs-identifier hs-var">imapM_</span></a></span><span>
</span><span id="line-426"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iforM_"><span class="hs-pragma hs-type">iforM_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-comment">-- | Concatenate the results of a function of the elements of an indexed container with access to the index.</span><span>
</span><span id="line-429"></span><span class="hs-comment">--</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- When you don't need access to the index then 'concatMap' is more flexible in what it accepts.</span><span>
</span><span id="line-431"></span><span class="hs-comment">--</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- 'concatMap' &#8801; 'iconcatMap' '.' 'const'</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- 'iconcatMap' &#8801; 'ifoldMap'</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-436"></span><span id="local-6989586621679457941"><span id="local-6989586621679457942"><span id="local-6989586621679457943"><span id="local-6989586621679457944"><span class="annot"><a href="Control.Lens.Indexed.html#iconcatMap"><span class="hs-identifier hs-type">iconcatMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457944"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457943"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457944"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457941"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457943"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457941"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-437"></span><span id="iconcatMap"><span class="annot"><span class="annottext">iconcatMap :: (i -&gt; a -&gt; [b]) -&gt; f a -&gt; [b]
</span><a href="Control.Lens.Indexed.html#iconcatMap"><span class="hs-identifier hs-var hs-var">iconcatMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; [b]) -&gt; f a -&gt; [b]
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span>
</span><span id="line-438"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iconcatMap"><span class="hs-pragma hs-type">iconcatMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- | Searches a container with a predicate that is also supplied the index, returning the left-most element of the structure</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- matching the predicate, or 'Nothing' if there is no such element.</span><span>
</span><span id="line-442"></span><span class="hs-comment">--</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- When you don't need access to the index then 'find' is more flexible in what it accepts.</span><span>
</span><span id="line-444"></span><span class="hs-comment">--</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- 'find' &#8801; 'ifind' '.' 'const'</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-448"></span><span id="local-6989586621679457938"><span id="local-6989586621679457939"><span id="local-6989586621679457940"><span class="annot"><a href="Control.Lens.Indexed.html#ifind"><span class="hs-identifier hs-type">ifind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457940"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457939"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457940"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457939"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457940"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457938"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-449"></span><span id="ifind"><span class="annot"><span class="annottext">ifind :: (i -&gt; a -&gt; Bool) -&gt; f a -&gt; Maybe (i, a)
</span><a href="Control.Lens.Indexed.html#ifind"><span class="hs-identifier hs-var hs-var">ifind</span></a></span></span><span> </span><span id="local-6989586621679457937"><span class="annot"><span class="annottext">p :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457937"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Maybe (i, a) -&gt; Maybe (i, a))
-&gt; Maybe (i, a) -&gt; f a -&gt; Maybe (i, a)
forall i (f :: * -&gt; *) a b.
FoldableWithIndex i f =&gt;
(i -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-var">ifoldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457936"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457936"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457935"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457935"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679457934"><span class="annot"><span class="annottext">y :: Maybe (i, a)
</span><a href="#local-6989586621679457934"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679457937"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457936"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457935"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(i, a) -&gt; Maybe (i, a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457936"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457935"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe (i, a)
</span><a href="#local-6989586621679457934"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (i, a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-450"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifind"><span class="hs-pragma hs-type">ifind</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-comment">-- | Monadic fold right over the elements of a structure with an index.</span><span>
</span><span id="line-453"></span><span class="hs-comment">--</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- When you don't need access to the index then 'foldrM' is more flexible in what it accepts.</span><span>
</span><span id="line-455"></span><span class="hs-comment">--</span><span>
</span><span id="line-456"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-457"></span><span class="hs-comment">-- 'foldrM' &#8801; 'ifoldrM' '.' 'const'</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-459"></span><span id="local-6989586621679457929"><span id="local-6989586621679457930"><span id="local-6989586621679457931"><span id="local-6989586621679457932"><span id="local-6989586621679457933"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldrM"><span class="hs-identifier hs-type">ifoldrM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457933"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457932"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679457931"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457933"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457930"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457929"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457931"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457929"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457929"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457932"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457930"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457931"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457929"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-460"></span><span id="ifoldrM"><span class="annot"><span class="annottext">ifoldrM :: (i -&gt; a -&gt; b -&gt; m b) -&gt; b -&gt; f a -&gt; m b
</span><a href="Control.Lens.Indexed.html#ifoldrM"><span class="hs-identifier hs-var hs-var">ifoldrM</span></a></span></span><span> </span><span id="local-6989586621679457928"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b -&gt; m b
</span><a href="#local-6989586621679457928"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457927"><span class="annot"><span class="annottext">z0 :: b
</span><a href="#local-6989586621679457927"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679457926"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679457926"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; (b -&gt; m b) -&gt; a -&gt; b -&gt; m b) -&gt; (b -&gt; m b) -&gt; f a -&gt; b -&gt; m b
forall i (f :: * -&gt; *) b a.
FoldableWithIndex i f =&gt;
(i -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-identifier hs-var">ifoldl</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; (b -&gt; m b) -&gt; a -&gt; b -&gt; m b
</span><a href="#local-6989586621679457925"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457926"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457927"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679457925"><span class="annot"><span class="annottext">f' :: i -&gt; (b -&gt; m b) -&gt; a -&gt; b -&gt; m b
</span><a href="#local-6989586621679457925"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679457924"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457924"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457923"><span class="annot"><span class="annottext">k :: b -&gt; m b
</span><a href="#local-6989586621679457923"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679457922"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679457922"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457921"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679457921"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b -&gt; m b
</span><a href="#local-6989586621679457928"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457924"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457922"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457921"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">m b -&gt; (b -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
</span><a href="#local-6989586621679457923"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-462"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldrM"><span class="hs-pragma hs-type">ifoldrM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- | Monadic fold over the elements of a structure with an index, associating to the left.</span><span>
</span><span id="line-465"></span><span class="hs-comment">--</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- When you don't need access to the index then 'foldlM' is more flexible in what it accepts.</span><span>
</span><span id="line-467"></span><span class="hs-comment">--</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- 'foldlM' &#8801; 'ifoldlM' '.' 'const'</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-471"></span><span id="local-6989586621679457916"><span id="local-6989586621679457917"><span id="local-6989586621679457918"><span id="local-6989586621679457919"><span id="local-6989586621679457920"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldlM"><span class="hs-identifier hs-type">ifoldlM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457920"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457919"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679457918"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457920"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457917"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457918"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457917"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457917"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457919"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457918"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457917"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-472"></span><span id="ifoldlM"><span class="annot"><span class="annottext">ifoldlM :: (i -&gt; b -&gt; a -&gt; m b) -&gt; b -&gt; f a -&gt; m b
</span><a href="Control.Lens.Indexed.html#ifoldlM"><span class="hs-identifier hs-var hs-var">ifoldlM</span></a></span></span><span> </span><span id="local-6989586621679457915"><span class="annot"><span class="annottext">f :: i -&gt; b -&gt; a -&gt; m b
</span><a href="#local-6989586621679457915"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457914"><span class="annot"><span class="annottext">z0 :: b
</span><a href="#local-6989586621679457914"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679457913"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679457913"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; (b -&gt; m b) -&gt; b -&gt; m b) -&gt; (b -&gt; m b) -&gt; f a -&gt; b -&gt; m b
forall i (f :: * -&gt; *) a b.
FoldableWithIndex i f =&gt;
(i -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-var">ifoldr</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; (b -&gt; m b) -&gt; b -&gt; m b
</span><a href="#local-6989586621679457912"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457913"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457914"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679457912"><span class="annot"><span class="annottext">f' :: i -&gt; a -&gt; (b -&gt; m b) -&gt; b -&gt; m b
</span><a href="#local-6989586621679457912"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679457911"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457911"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457910"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679457910"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457909"><span class="annot"><span class="annottext">k :: b -&gt; m b
</span><a href="#local-6989586621679457909"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679457908"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679457908"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; a -&gt; m b
</span><a href="#local-6989586621679457915"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457911"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679457908"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457910"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m b -&gt; (b -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
</span><a href="#local-6989586621679457909"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-474"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldlM"><span class="hs-pragma hs-type">ifoldlM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-comment">-- | Extract the key-value pairs from a structure.</span><span>
</span><span id="line-477"></span><span class="hs-comment">--</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- When you don't need access to the indices in the result, then 'Data.Foldable.toList' is more flexible in what it accepts.</span><span>
</span><span id="line-479"></span><span class="hs-comment">--</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-481"></span><span class="hs-comment">-- 'Data.Foldable.toList' &#8801; 'Data.List.map' 'snd' '.' 'itoList'</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-483"></span><span id="local-6989586621679457905"><span id="local-6989586621679457906"><span id="local-6989586621679457907"><span class="annot"><a href="Control.Lens.Indexed.html#itoList"><span class="hs-identifier hs-type">itoList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457907"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457906"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457906"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457905"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457907"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679457905"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-484"></span><span id="itoList"><span class="annot"><span class="annottext">itoList :: f a -&gt; [(i, a)]
</span><a href="Control.Lens.Indexed.html#itoList"><span class="hs-identifier hs-var hs-var">itoList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; [(i, a)] -&gt; [(i, a)]) -&gt; [(i, a)] -&gt; f a -&gt; [(i, a)]
forall i (f :: * -&gt; *) a b.
FoldableWithIndex i f =&gt;
(i -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-identifier hs-var">ifoldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457904"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457904"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457903"><span class="annot"><span class="annottext">c :: a
</span><a href="#local-6989586621679457903"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457904"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457903"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(i, a) -&gt; [(i, a)] -&gt; [(i, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-485"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itoList"><span class="hs-pragma hs-type">itoList</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- TraversableWithIndex</span><span>
</span><span id="line-489"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-comment">-- | A 'Traversable' with an additional index.</span><span>
</span><span id="line-492"></span><span class="hs-comment">--</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- An instance must satisfy a (modified) form of the 'Traversable' laws:</span><span>
</span><span id="line-494"></span><span class="hs-comment">--</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- 'itraverse' ('const' 'Identity') &#8801; 'Identity'</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- 'fmap' ('itraverse' f) '.' 'itraverse' g &#8801; 'Data.Functor.Compose.getCompose' '.' 'itraverse' (\\i -&gt; 'Data.Functor.Compose.Compose' '.' 'fmap' (f i) '.' g i)</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-499"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="TraversableWithIndex"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-var">TraversableWithIndex</span></a></span></span><span> </span><span id="local-6989586621679459630"><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679459629"><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-comment">-- | Traverse an indexed container.</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-comment">-- 'itraverse' &#8801; 'itraverseOf' 'itraversed'</span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-comment">-- @</span><span>
</span><span id="line-505"></span><span>  </span><span id="local-6989586621679459444"><span id="local-6989586621679459445"><span id="local-6989586621679459446"><span id="itraverse"><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-type">itraverse</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679459446"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459445"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459446"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459444"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459445"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459446"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459444"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span class="hs-cpp">
#ifndef HLINT
</span><span>  </span><span id="local-6989586621679457899"><span id="local-6989586621679457900"><span id="local-6989586621679457901"><span class="hs-keyword">default</span><span> </span><span id="itraverse"><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-type">itraverse</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679457901"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457900"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457901"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457899"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457900"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457901"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457899"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-508"></span><span>  </span><span id="local-6989586621679457898"><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var hs-var">itraverse</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Indexed Int a (f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><a href="Control.Lens.Traversal.html#traversed"><span class="hs-identifier hs-var">traversed</span></a></span><span> </span><span class="annot"><span class="annottext">(Indexed Int a (f b) -&gt; t a -&gt; f (t b))
-&gt; ((Int -&gt; a -&gt; f b) -&gt; Indexed Int a (f b))
-&gt; (Int -&gt; a -&gt; f b)
-&gt; t a
-&gt; f (t b)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; f b) -&gt; Indexed Int a (f b)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span></span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-comment">-- | The 'IndexedTraversal' of a 'TraversableWithIndex' container.</span><span>
</span><span id="line-513"></span><span>  </span><span id="local-6989586621679459626"><span id="local-6989586621679459627"><span id="itraversed"><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-identifier hs-type">itraversed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal"><span class="hs-identifier hs-type">IndexedTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459630"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459627"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459626"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679459627"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459626"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-514"></span><span>  </span><span id="local-6989586621679457895"><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-identifier hs-var hs-var">itraversed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (p a (f b) -&gt; t a -&gt; f (t b)) -&gt; p a (f b) -&gt; t a -&gt; f (t b)
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="annot"><span class="annottext">(p ~ (-&gt;)) =&gt; (a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (p a (f b) -&gt; i -&gt; a -&gt; f b) -&gt; p a (f b) -&gt; t a -&gt; f (t b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">p a (f b) -&gt; i -&gt; a -&gt; f b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="hs-comment">-- | Traverse with an index (and the arguments flipped).</span><span>
</span><span id="line-518"></span><span class="hs-comment">--</span><span>
</span><span id="line-519"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- 'for' a &#8801; 'ifor' a '.' 'const'</span><span>
</span><span id="line-521"></span><span class="hs-comment">-- 'ifor' &#8801; 'flip' 'itraverse'</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-523"></span><span id="local-6989586621679457889"><span id="local-6989586621679457890"><span id="local-6989586621679457891"><span id="local-6989586621679457892"><span id="local-6989586621679457893"><span class="annot"><a href="Control.Lens.Indexed.html#ifor"><span class="hs-identifier hs-type">ifor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457893"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457892"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679457891"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457892"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457890"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457893"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457890"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457891"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457889"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457891"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457892"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457889"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-524"></span><span id="ifor"><span class="annot"><span class="annottext">ifor :: t a -&gt; (i -&gt; a -&gt; f b) -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#ifor"><span class="hs-identifier hs-var hs-var">ifor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; t a -&gt; (i -&gt; a -&gt; f b) -&gt; f (t b)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span>
</span><span id="line-525"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifor"><span class="hs-pragma hs-type">ifor</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-526"></span><span>
</span><span id="line-527"></span><span class="hs-comment">-- | Map each element of a structure to a monadic action,</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- evaluate these actions from left to right, and collect the results, with access</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- the index.</span><span>
</span><span id="line-530"></span><span class="hs-comment">--</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- When you don't need access to the index 'mapM' is more liberal in what it can accept.</span><span>
</span><span id="line-532"></span><span class="hs-comment">--</span><span>
</span><span id="line-533"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- 'mapM' &#8801; 'imapM' '.' 'const'</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-536"></span><span id="local-6989586621679459419"><span id="local-6989586621679459420"><span id="local-6989586621679459421"><span id="local-6989586621679459422"><span id="local-6989586621679459423"><span class="annot"><a href="Control.Lens.Indexed.html#imapM"><span class="hs-identifier hs-type">imapM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459423"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459422"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679459421"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459423"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459420"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459421"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459419"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459422"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459420"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679459421"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679459422"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679459419"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-537"></span><span id="imapM"><span class="annot"><span class="annottext">imapM :: (i -&gt; a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="Control.Lens.Indexed.html#imapM"><span class="hs-identifier hs-var hs-var">imapM</span></a></span></span><span> </span><span id="local-6989586621679457888"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m b
</span><a href="#local-6989586621679457888"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WrappedMonad m (t b) -&gt; m (t b)
forall (m :: * -&gt; *) a. WrappedMonad m a -&gt; m a
</span><span class="hs-identifier hs-var hs-var">unwrapMonad</span></span><span> </span><span class="annot"><span class="annottext">(WrappedMonad m (t b) -&gt; m (t b))
-&gt; (t a -&gt; WrappedMonad m (t b)) -&gt; t a -&gt; m (t b)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; WrappedMonad m b) -&gt; t a -&gt; WrappedMonad m (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457886"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457886"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m b -&gt; WrappedMonad m b
forall (m :: * -&gt; *) a. m a -&gt; WrappedMonad m a
</span><span class="hs-identifier hs-var">WrapMonad</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; WrappedMonad m b) -&gt; (a -&gt; m b) -&gt; a -&gt; WrappedMonad m b
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m b
</span><a href="#local-6989586621679457888"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457886"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapM"><span class="hs-pragma hs-type">imapM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">-- | Map each element of a structure to a monadic action,</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- evaluate these actions from left to right, and collect the results, with access</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- its position (and the arguments flipped).</span><span>
</span><span id="line-543"></span><span class="hs-comment">--</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- 'forM' a &#8801; 'iforM' a '.' 'const'</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- 'iforM' &#8801; 'flip' 'imapM'</span><span>
</span><span id="line-547"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-548"></span><span id="local-6989586621679457880"><span id="local-6989586621679457881"><span id="local-6989586621679457882"><span id="local-6989586621679457883"><span id="local-6989586621679457884"><span class="annot"><a href="Control.Lens.Indexed.html#iforM"><span class="hs-identifier hs-type">iforM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457884"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457883"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679457882"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457881"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457884"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457881"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457882"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457880"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457882"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457883"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457880"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-549"></span><span id="iforM"><span class="annot"><span class="annottext">iforM :: t a -&gt; (i -&gt; a -&gt; m b) -&gt; m (t b)
</span><a href="Control.Lens.Indexed.html#iforM"><span class="hs-identifier hs-var hs-var">iforM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; t a -&gt; (i -&gt; a -&gt; m b) -&gt; m (t b)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m b) -&gt; t a -&gt; m (t b)
forall i (t :: * -&gt; *) (m :: * -&gt; *) a b.
(TraversableWithIndex i t, Monad m) =&gt;
(i -&gt; a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="Control.Lens.Indexed.html#imapM"><span class="hs-identifier hs-var">imapM</span></a></span><span>
</span><span id="line-550"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#iforM"><span class="hs-pragma hs-type">iforM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-comment">-- | Generalizes 'Data.Traversable.mapAccumR' to add access to the index.</span><span>
</span><span id="line-553"></span><span class="hs-comment">--</span><span>
</span><span id="line-554"></span><span class="hs-comment">-- 'imapAccumROf' accumulates state from right to left.</span><span>
</span><span id="line-555"></span><span class="hs-comment">--</span><span>
</span><span id="line-556"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-557"></span><span class="hs-comment">-- 'Control.Lens.Traversal.mapAccumR' &#8801; 'imapAccumR' '.' 'const'</span><span>
</span><span id="line-558"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-559"></span><span id="local-6989586621679457875"><span id="local-6989586621679457876"><span id="local-6989586621679457877"><span id="local-6989586621679457878"><span id="local-6989586621679457879"><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumR"><span class="hs-identifier hs-type">imapAccumR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457879"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457878"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457879"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457877"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457876"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457877"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457875"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457877"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457878"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457876"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457877"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457878"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457875"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-560"></span><span id="imapAccumR"><span class="annot"><span class="annottext">imapAccumR :: (i -&gt; s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span><a href="Control.Lens.Indexed.html#imapAccumR"><span class="hs-identifier hs-var hs-var">imapAccumR</span></a></span></span><span> </span><span id="local-6989586621679457874"><span class="annot"><span class="annottext">f :: i -&gt; s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679457874"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457873"><span class="annot"><span class="annottext">s0 :: s
</span><a href="#local-6989586621679457873"><span class="hs-identifier hs-var">s0</span></a></span></span><span> </span><span id="local-6989586621679457872"><span class="annot"><span class="annottext">a :: t a
</span><a href="#local-6989586621679457872"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t b, s) -&gt; (s, t b)
forall a b. (a, b) -&gt; (b, a)
</span><span class="hs-identifier hs-var">swap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State s (t b) -&gt; s -&gt; (t b, s)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><span class="hs-identifier hs-var">Lazy.runState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Backwards (StateT s Identity) (t b) -&gt; State s (t b)
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Backwards (StateT s Identity) b)
-&gt; t a -&gt; Backwards (StateT s Identity) (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457869"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457869"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457868"><span class="annot"><span class="annottext">c :: a
</span><a href="#local-6989586621679457868"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StateT s Identity b -&gt; Backwards (StateT s Identity) b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Backwards f a
</span><span class="hs-identifier hs-var">Backwards</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(s -&gt; (b, s)) -&gt; StateT s Identity b
forall (m :: * -&gt; *) s a. Monad m =&gt; (s -&gt; (a, s)) -&gt; StateT s m a
</span><span class="hs-identifier hs-var">Lazy.state</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457865"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679457865"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s, b) -&gt; (b, s)
forall a b. (a, b) -&gt; (b, a)
</span><span class="hs-identifier hs-var">swap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679457874"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457869"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679457865"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457868"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679457872"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679457873"><span class="hs-identifier hs-var">s0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumR"><span class="hs-pragma hs-type">imapAccumR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span class="hs-comment">-- | Generalizes 'Data.Traversable.mapAccumL' to add access to the index.</span><span>
</span><span id="line-564"></span><span class="hs-comment">--</span><span>
</span><span id="line-565"></span><span class="hs-comment">-- 'imapAccumLOf' accumulates state from left to right.</span><span>
</span><span id="line-566"></span><span class="hs-comment">--</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-568"></span><span class="hs-comment">-- 'Control.Lens.Traversal.mapAccumLOf' &#8801; 'imapAccumL' '.' 'const'</span><span>
</span><span id="line-569"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-570"></span><span id="local-6989586621679457860"><span id="local-6989586621679457861"><span id="local-6989586621679457862"><span id="local-6989586621679457863"><span id="local-6989586621679457864"><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumL"><span class="hs-identifier hs-type">imapAccumL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457864"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457863"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457864"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457862"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457861"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457862"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457860"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457862"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679457863"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457861"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457862"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457863"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457860"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-571"></span><span id="imapAccumL"><span class="annot"><span class="annottext">imapAccumL :: (i -&gt; s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span><a href="Control.Lens.Indexed.html#imapAccumL"><span class="hs-identifier hs-var hs-var">imapAccumL</span></a></span></span><span> </span><span id="local-6989586621679457859"><span class="annot"><span class="annottext">f :: i -&gt; s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679457859"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457858"><span class="annot"><span class="annottext">s0 :: s
</span><a href="#local-6989586621679457858"><span class="hs-identifier hs-var">s0</span></a></span></span><span> </span><span id="local-6989586621679457857"><span class="annot"><span class="annottext">a :: t a
</span><a href="#local-6989586621679457857"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t b, s) -&gt; (s, t b)
forall a b. (a, b) -&gt; (b, a)
</span><span class="hs-identifier hs-var">swap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State s (t b) -&gt; s -&gt; (t b, s)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><span class="hs-identifier hs-var">Lazy.runState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; StateT s Identity b) -&gt; t a -&gt; State s (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457856"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457856"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457855"><span class="annot"><span class="annottext">c :: a
</span><a href="#local-6989586621679457855"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s -&gt; (b, s)) -&gt; StateT s Identity b
forall (m :: * -&gt; *) s a. Monad m =&gt; (s -&gt; (a, s)) -&gt; StateT s m a
</span><span class="hs-identifier hs-var">Lazy.state</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457854"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679457854"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s, b) -&gt; (b, s)
forall a b. (a, b) -&gt; (b, a)
</span><span class="hs-identifier hs-var">swap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679457859"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457856"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679457854"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457855"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679457857"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679457858"><span class="hs-identifier hs-var">s0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imapAccumL"><span class="hs-pragma hs-type">imapAccumL</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- Instances</span><span>
</span><span id="line-576"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-577"></span><span>
</span><span id="line-578"></span><span id="local-6989586621679457852"><span id="local-6989586621679457853"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457848"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457853"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457852"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457853"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Backwards</span></span><span> </span><span class="annot"><a href="#local-6989586621679457852"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-579"></span><span>  </span><span id="local-6989586621679457846"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Backwards f a -&gt; Backwards f b
</span><a href="#local-6989586621679457846"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457845"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457845"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Backwards f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Backwards f a
</span><span class="hs-identifier hs-var">Backwards</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Backwards f b)
-&gt; (Backwards f a -&gt; f b) -&gt; Backwards f a -&gt; Backwards f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457845"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f b) -&gt; (Backwards f a -&gt; f a) -&gt; Backwards f a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Backwards f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span id="local-6989586621679457843"><span id="local-6989586621679457844"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457831"><span id="local-6989586621679457833"><span id="local-6989586621679457835"><span id="local-6989586621679457837"><span id="local-6989586621679457839"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457844"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457843"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457844"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Backwards</span></span><span> </span><span class="annot"><a href="#local-6989586621679457843"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-583"></span><span>  </span><span id="local-6989586621679457829"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Backwards f a -&gt; m
</span><a href="#local-6989586621679457829"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457828"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457828"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457828"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; m) -&gt; (Backwards f a -&gt; f a) -&gt; Backwards f a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Backwards f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span>
</span><span id="line-584"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span id="local-6989586621679457826"><span id="local-6989586621679457827"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457820"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457827"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457826"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457827"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Backwards</span></span><span> </span><span class="annot"><a href="#local-6989586621679457826"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-587"></span><span>  </span><span id="local-6989586621679457818"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Backwards f a -&gt; f (Backwards f b)
</span><a href="#local-6989586621679457818"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457817"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457817"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Backwards f b) -&gt; f (f b) -&gt; f (Backwards f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">f b -&gt; Backwards f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Backwards f a
</span><span class="hs-identifier hs-var">Backwards</span></span><span> </span><span class="annot"><span class="annottext">(f (f b) -&gt; f (Backwards f b))
-&gt; (Backwards f a -&gt; f (f b)) -&gt; Backwards f a -&gt; f (Backwards f b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457817"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f (f b))
-&gt; (Backwards f a -&gt; f a) -&gt; Backwards f a -&gt; f (f b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Backwards f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span id="local-6989586621679457815"><span id="local-6989586621679457816"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457811"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457816"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457815"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457816"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reverse</span></span><span> </span><span class="annot"><a href="#local-6989586621679457815"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-591"></span><span>  </span><span id="local-6989586621679457810"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Reverse f a -&gt; Reverse f b
</span><a href="#local-6989586621679457810"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457809"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457809"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Reverse f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Reverse f a
</span><span class="hs-identifier hs-var">Reverse</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Reverse f b)
-&gt; (Reverse f a -&gt; f b) -&gt; Reverse f a -&gt; Reverse f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457809"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f b) -&gt; (Reverse f a -&gt; f a) -&gt; Reverse f a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reverse f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Reverse f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">getReverse</span></span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span id="local-6989586621679457805"><span id="local-6989586621679457806"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457793"><span id="local-6989586621679457795"><span id="local-6989586621679457797"><span id="local-6989586621679457799"><span id="local-6989586621679457801"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457806"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457805"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457806"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reverse</span></span><span> </span><span class="annot"><a href="#local-6989586621679457805"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-595"></span><span>  </span><span id="local-6989586621679457792"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Reverse f a -&gt; m
</span><a href="#local-6989586621679457792"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457791"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457791"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dual m -&gt; m
forall a. Dual a -&gt; a
</span><span class="hs-identifier hs-var hs-var">getDual</span></span><span> </span><span class="annot"><span class="annottext">(Dual m -&gt; m) -&gt; (Reverse f a -&gt; Dual m) -&gt; Reverse f a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Dual m) -&gt; f a -&gt; Dual m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457790"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457790"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m -&gt; Dual m
forall a. a -&gt; Dual a
</span><span class="hs-identifier hs-var">Dual</span></span><span> </span><span class="annot"><span class="annottext">(m -&gt; Dual m) -&gt; (a -&gt; m) -&gt; a -&gt; Dual m
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457791"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457790"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f a -&gt; Dual m) -&gt; (Reverse f a -&gt; f a) -&gt; Reverse f a -&gt; Dual m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reverse f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Reverse f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">getReverse</span></span><span>
</span><span id="line-596"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-597"></span><span>
</span><span id="line-598"></span><span id="local-6989586621679457788"><span id="local-6989586621679457789"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457782"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457789"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457788"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457789"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reverse</span></span><span> </span><span class="annot"><a href="#local-6989586621679457788"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-599"></span><span>  </span><span id="local-6989586621679457781"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Reverse f a -&gt; f (Reverse f b)
</span><a href="#local-6989586621679457781"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457780"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457780"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Reverse f b) -&gt; f (f b) -&gt; f (Reverse f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">f b -&gt; Reverse f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Reverse f a
</span><span class="hs-identifier hs-var">Reverse</span></span><span> </span><span class="annot"><span class="annottext">(f (f b) -&gt; f (Reverse f b))
-&gt; (Reverse f a -&gt; f (f b)) -&gt; Reverse f a -&gt; f (Reverse f b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Backwards f (f b) -&gt; f (f b)
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span> </span><span class="annot"><span class="annottext">(Backwards f (f b) -&gt; f (f b))
-&gt; (Reverse f a -&gt; Backwards f (f b)) -&gt; Reverse f a -&gt; f (f b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Backwards f b) -&gt; f a -&gt; Backwards f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457779"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457779"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Backwards f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Backwards f a
</span><span class="hs-identifier hs-var">Backwards</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Backwards f b) -&gt; (a -&gt; f b) -&gt; a -&gt; Backwards f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457780"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457779"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f a -&gt; Backwards f (f b))
-&gt; (Reverse f a -&gt; f a) -&gt; Reverse f a -&gt; Backwards f (f b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reverse f a -&gt; f a
forall k (f :: k -&gt; *) (a :: k). Reverse f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">getReverse</span></span><span>
</span><span id="line-600"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457775"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-603"></span><span>  </span><span id="local-6989586621679457774"><span class="annot"><span class="annottext">imap :: (() -&gt; a -&gt; b) -&gt; Identity a -&gt; Identity b
</span><a href="#local-6989586621679457774"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457773"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; b
</span><a href="#local-6989586621679457773"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span id="local-6989586621679457771"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457771"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Identity b
forall a. a -&gt; Identity a
</span><span class="hs-identifier hs-var">Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; b
</span><a href="#local-6989586621679457773"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457771"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457759"><span id="local-6989586621679457761"><span id="local-6989586621679457763"><span id="local-6989586621679457765"><span id="local-6989586621679457767"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-607"></span><span>  </span><span id="local-6989586621679457758"><span class="annot"><span class="annottext">ifoldMap :: (() -&gt; a -&gt; m) -&gt; Identity a -&gt; m
</span><a href="#local-6989586621679457758"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457757"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; m
</span><a href="#local-6989586621679457757"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span id="local-6989586621679457756"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457756"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; m
</span><a href="#local-6989586621679457757"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457756"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457750"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-611"></span><span>  </span><span id="local-6989586621679457749"><span class="annot"><span class="annottext">itraverse :: (() -&gt; a -&gt; f b) -&gt; Identity a -&gt; f (Identity b)
</span><a href="#local-6989586621679457749"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457748"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; f b
</span><a href="#local-6989586621679457748"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span id="local-6989586621679457747"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457747"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Identity b
forall a. a -&gt; Identity a
</span><span class="hs-identifier hs-var">Identity</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Identity b) -&gt; f b -&gt; f (Identity b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; f b
</span><a href="#local-6989586621679457748"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457747"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-612"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span id="local-6989586621679457745"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457741"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679457745"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-615"></span><span>  </span><span id="local-6989586621679457740"><span class="annot"><span class="annottext">imap :: (k -&gt; a -&gt; b) -&gt; (k, a) -&gt; (k, b)
</span><a href="#local-6989586621679457740"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457739"><span class="annot"><span class="annottext">f :: k -&gt; a -&gt; b
</span><a href="#local-6989586621679457739"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679457738"><span class="annot"><span class="annottext">k :: k
</span><a href="#local-6989586621679457738"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679457737"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457737"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679457738"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b
</span><a href="#local-6989586621679457739"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679457738"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457737"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span id="local-6989586621679457736"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457724"><span id="local-6989586621679457726"><span id="local-6989586621679457728"><span id="local-6989586621679457730"><span id="local-6989586621679457732"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457736"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679457736"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-619"></span><span>  </span><span id="local-6989586621679457723"><span class="annot"><span class="annottext">ifoldMap :: (k -&gt; a -&gt; m) -&gt; (k, a) -&gt; m
</span><a href="#local-6989586621679457723"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; m) -&gt; (k, a) -&gt; m
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span id="local-6989586621679457721"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457715"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457721"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679457721"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-623"></span><span>  </span><span id="local-6989586621679457714"><span class="annot"><span class="annottext">itraverse :: (k -&gt; a -&gt; f b) -&gt; (k, a) -&gt; f (k, b)
</span><a href="#local-6989586621679457714"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457713"><span class="annot"><span class="annottext">f :: k -&gt; a -&gt; f b
</span><a href="#local-6989586621679457713"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679457712"><span class="annot"><span class="annottext">k :: k
</span><a href="#local-6989586621679457712"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679457711"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457711"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679457712"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; (k, b)) -&gt; f b -&gt; f (k, b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; f b
</span><a href="#local-6989586621679457713"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679457712"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457711"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span class="hs-comment">-- | The position in the list is available as the index.</span><span>
</span><span id="line-627"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457706"><span id="local-6989586621679457708"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-628"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457693"><span id="local-6989586621679457695"><span id="local-6989586621679457697"><span id="local-6989586621679457699"><span id="local-6989586621679457701"><span id="local-6989586621679457703"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span></span></span></span></span><span>
</span><span id="line-629"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457688"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-630"></span><span>  </span><span id="local-6989586621679457686"><span class="annot"><span class="annottext">itraversed :: p a (f b) -&gt; [a] -&gt; f [b]
</span><a href="#local-6989586621679457686"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraversed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a (f b) -&gt; [a] -&gt; f [b]
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><a href="Control.Lens.Traversal.html#traversed"><span class="hs-identifier hs-var">traversed</span></a></span><span>
</span><span id="line-631"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="hs-comment">-- | Same instance as for @[]@.</span><span>
</span><span id="line-634"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457681"><span id="local-6989586621679457683"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ZipList</span></span></span></span><span>
</span><span id="line-635"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457668"><span id="local-6989586621679457670"><span id="local-6989586621679457672"><span id="local-6989586621679457674"><span id="local-6989586621679457676"><span id="local-6989586621679457678"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ZipList</span></span></span></span></span></span></span></span><span>
</span><span id="line-636"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457663"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ZipList</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-637"></span><span>  </span><span id="local-6989586621679457661"><span class="annot"><span class="annottext">itraversed :: p a (f b) -&gt; ZipList a -&gt; f (ZipList b)
</span><a href="#local-6989586621679457661"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraversed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a (f b) -&gt; ZipList a -&gt; f (ZipList b)
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><a href="Control.Lens.Traversal.html#traversed"><span class="hs-identifier hs-var">traversed</span></a></span><span>
</span><span id="line-638"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-639"></span><span>
</span><span id="line-640"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457656"><span id="local-6989586621679457658"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span></span></span><span>
</span><span id="line-641"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457643"><span id="local-6989586621679457645"><span id="local-6989586621679457647"><span id="local-6989586621679457649"><span id="local-6989586621679457651"><span id="local-6989586621679457653"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span></span></span></span></span></span></span><span>
</span><span id="line-642"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457637"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-643"></span><span>  </span><span id="local-6989586621679457636"><span class="annot"><span class="annottext">itraverse :: (Int -&gt; a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="#local-6989586621679457636"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Indexed Int a (f b) -&gt; NonEmpty a -&gt; f (NonEmpty b))
-&gt; (Int -&gt; a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
forall i a (f :: * -&gt; *) b s t.
(Indexed i a (f b) -&gt; s -&gt; f t) -&gt; (i -&gt; a -&gt; f b) -&gt; s -&gt; f t
</span><a href="Control.Lens.Traversal.html#itraverseOf"><span class="hs-identifier hs-var">itraverseOf</span></a></span><span> </span><span class="annot"><span class="annottext">Indexed Int a (f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><a href="Control.Lens.Traversal.html#traversed"><span class="hs-identifier hs-var">traversed</span></a></span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-645"></span><span>
</span><span id="line-646"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457631"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-647"></span><span>  </span><span id="local-6989586621679457630"><span class="annot"><span class="annottext">imap :: (() -&gt; a -&gt; b) -&gt; Maybe a -&gt; Maybe b
</span><a href="#local-6989586621679457630"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457629"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; b
</span><a href="#local-6989586621679457629"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; b
</span><a href="#local-6989586621679457629"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-648"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-649"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457617"><span id="local-6989586621679457619"><span id="local-6989586621679457621"><span id="local-6989586621679457623"><span id="local-6989586621679457625"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-650"></span><span>  </span><span id="local-6989586621679457616"><span class="annot"><span class="annottext">ifoldMap :: (() -&gt; a -&gt; m) -&gt; Maybe a -&gt; m
</span><a href="#local-6989586621679457616"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457615"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; m
</span><a href="#local-6989586621679457615"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; m
</span><a href="#local-6989586621679457615"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-652"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457608"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-653"></span><span>  </span><span id="local-6989586621679457607"><span class="annot"><span class="annottext">itraverse :: (() -&gt; a -&gt; f b) -&gt; Maybe a -&gt; f (Maybe b)
</span><a href="#local-6989586621679457607"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457606"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; f b
</span><a href="#local-6989586621679457606"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Maybe a -&gt; f (Maybe b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; f b
</span><a href="#local-6989586621679457606"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span class="hs-comment">-- | The position in the 'Seq' is available as the index.</span><span>
</span><span id="line-657"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457602"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-658"></span><span>  </span><span id="local-6989586621679457601"><span class="annot"><span class="annottext">imap :: (Int -&gt; a -&gt; b) -&gt; Seq a -&gt; Seq b
</span><a href="#local-6989586621679457601"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; b) -&gt; Seq a -&gt; Seq b
forall a b. (Int -&gt; a -&gt; b) -&gt; Seq a -&gt; Seq b
</span><span class="hs-identifier hs-var">mapWithIndex</span></span><span>
</span><span id="line-659"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457590"><span id="local-6989586621679457592"><span id="local-6989586621679457596"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_containers(0,5,8)
</span><span>  </span><span id="local-6989586621679457589"><span class="annot"><span class="annottext">ifoldMap :: (Int -&gt; a -&gt; m) -&gt; Seq a -&gt; m
</span><a href="#local-6989586621679457589"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; m) -&gt; Seq a -&gt; m
forall m a. Monoid m =&gt; (Int -&gt; a -&gt; m) -&gt; Seq a -&gt; m
</span><span class="hs-identifier hs-var">foldMapWithIndex</span></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">ifoldMap</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Data.Foldable.fold</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">mapWithIndex</span><span> </span><span class="hs-identifier">f</span><span class="hs-cpp">
#endif
</span><span>  </span><span id="local-6989586621679457587"><span class="annot"><span class="annottext">ifoldr :: (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Seq a -&gt; b
</span><a href="#local-6989586621679457587"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Seq a -&gt; b
forall a b. (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Seq a -&gt; b
</span><span class="hs-identifier hs-var">foldrWithIndex</span></span><span>
</span><span id="line-666"></span><span>  </span><span id="local-6989586621679457585"><span class="annot"><span class="annottext">ifoldl :: (Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Seq a -&gt; b
</span><a href="#local-6989586621679457585"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldl</span></a></span></span><span> </span><span id="local-6989586621679457584"><span class="annot"><span class="annottext">f :: Int -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679457584"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Seq a -&gt; b
forall b a. (b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Seq a -&gt; b
</span><span class="hs-identifier hs-var">foldlWithIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Int -&gt; a -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; b -&gt; a -&gt; b
</span><a href="#local-6989586621679457584"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-pragma hs-type">ifoldl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-668"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457577"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_containers(0,5,8)
</span><span>  </span><span id="local-6989586621679457576"><span class="annot"><span class="annottext">itraverse :: (Int -&gt; a -&gt; f b) -&gt; Seq a -&gt; f (Seq b)
</span><a href="#local-6989586621679457576"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; f b) -&gt; Seq a -&gt; f (Seq b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(Int -&gt; a -&gt; f b) -&gt; Seq a -&gt; f (Seq b)
</span><span class="hs-identifier hs-var">traverseWithIndex</span></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">itraverse</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sequenceA</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">mapWithIndex</span><span> </span><span class="hs-identifier">f</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-675"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457571"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-676"></span><span>  </span><span id="local-6989586621679457570"><span class="annot"><span class="annottext">imap :: (Int -&gt; a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><a href="#local-6989586621679457570"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; b) -&gt; Vector a -&gt; Vector b
forall a b. (Int -&gt; a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">V.imap</span></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-678"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457564"><span id="local-6989586621679457566"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-679"></span><span>  </span><span id="local-6989586621679457559"><span class="annot"><span class="annottext">ifoldr :: (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><a href="#local-6989586621679457559"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
forall a b. (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><span class="hs-identifier hs-var">V.ifoldr</span></span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr"><span class="hs-pragma hs-type">ifoldr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-681"></span><span>  </span><span id="local-6989586621679457557"><span class="annot"><span class="annottext">ifoldl :: (Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><a href="#local-6989586621679457557"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b
forall a b. (a -&gt; Int -&gt; b -&gt; a) -&gt; a -&gt; Vector b -&gt; a
</span><span class="hs-identifier hs-var">V.ifoldl</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b)
-&gt; ((Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Int -&gt; a -&gt; b)
-&gt; (Int -&gt; b -&gt; a -&gt; b)
-&gt; b
-&gt; Vector a
-&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Int -&gt; a -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl"><span class="hs-pragma hs-type">ifoldl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-683"></span><span>  </span><span id="local-6989586621679457555"><span class="annot"><span class="annottext">ifoldr' :: (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><a href="#local-6989586621679457555"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldr'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
forall a b. (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><span class="hs-identifier hs-var">V.ifoldr'</span></span><span>
</span><span id="line-684"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldr%27"><span class="hs-pragma hs-type">ifoldr'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-685"></span><span>  </span><span id="local-6989586621679457553"><span class="annot"><span class="annottext">ifoldl' :: (Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b
</span><a href="#local-6989586621679457553"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldl'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b
forall a b. (a -&gt; Int -&gt; b -&gt; a) -&gt; a -&gt; Vector b -&gt; a
</span><span class="hs-identifier hs-var">V.ifoldl'</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; Int -&gt; a -&gt; b) -&gt; b -&gt; Vector a -&gt; b)
-&gt; ((Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Int -&gt; a -&gt; b)
-&gt; (Int -&gt; b -&gt; a -&gt; b)
-&gt; b
-&gt; Vector a
-&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; b -&gt; a -&gt; b) -&gt; b -&gt; Int -&gt; a -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span>
</span><span id="line-686"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldl%27"><span class="hs-pragma hs-type">ifoldl'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-687"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457547"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-688"></span><span>  </span><span id="local-6989586621679457545"><span class="annot"><span class="annottext">itraversed :: p a (f b) -&gt; Vector a -&gt; f (Vector b)
</span><a href="#local-6989586621679457545"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraversed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p a (f b) -&gt; Vector a -&gt; f (Vector b)
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><a href="Control.Lens.Traversal.html#traversed"><span class="hs-identifier hs-var">traversed</span></a></span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457540"><span id="local-6989586621679457542"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IntMap</span></span></span></span><span>
</span><span id="line-692"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457527"><span id="local-6989586621679457529"><span id="local-6989586621679457531"><span id="local-6989586621679457533"><span id="local-6989586621679457535"><span id="local-6989586621679457537"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IntMap</span></span></span></span></span></span></span></span><span>
</span><span id="line-693"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457521"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IntMap</span></span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_containers(0,5,0)
</span><span>  </span><span id="local-6989586621679457520"><span class="annot"><span class="annottext">itraverse :: (Int -&gt; a -&gt; f b) -&gt; IntMap a -&gt; f (IntMap b)
</span><a href="#local-6989586621679457520"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; f b) -&gt; IntMap a -&gt; f (IntMap b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(Int -&gt; a -&gt; f b) -&gt; IntMap a -&gt; f (IntMap b)
</span><span class="hs-identifier hs-var">IntMap.traverseWithKey</span></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">itraverse</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sequenceA</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">IntMap.mapWithKey</span><span> </span><span class="hs-identifier">f</span><span class="hs-cpp">
#endif
</span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-702"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; mapIntMap&quot;</span></span><span>    </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457517"><span id="local-6989586621679457518"><span class="annot"><a href="Control.Lens.Setter.html#sets"><span class="hs-pragma hs-type">sets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IntMap.map</span></span><span>               </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter"><span class="hs-pragma hs-type">ASetter</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457518"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457517"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457518"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457517"><span class="hs-pragma hs-type">b</span></a></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-703"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; imapIntMap&quot;</span></span><span>   </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457512"><span id="local-6989586621679457513"><span class="annot"><a href="Control.Lens.Setter.html#isets"><span class="hs-pragma hs-type">isets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IntMap.mapWithKey</span></span><span>       </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#AnIndexedSetter"><span class="hs-pragma hs-type">AnIndexedSetter</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457513"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457512"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457513"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457512"><span class="hs-pragma hs-type">b</span></a></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-704"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; foldrIntMap&quot;</span></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457509"><span id="local-6989586621679457510"><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-pragma hs-type">foldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IntMap.foldr</span></span><span>         </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-pragma hs-type">Getting</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457510"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457509"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457509"><span class="hs-pragma hs-type">a</span></a></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-705"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; ifoldrIntMap&quot;</span></span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457504"><span id="local-6989586621679457505"><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-pragma hs-type">ifoldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IntMap.foldrWithKey</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-pragma hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457505"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457504"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457504"><span class="hs-pragma hs-type">a</span></a></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-706"></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-707"></span><span>
</span><span id="line-708"></span><span id="local-6989586621679457501"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457496"><span id="local-6989586621679457498"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457501"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457501"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-709"></span><span id="local-6989586621679457495"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457482"><span id="local-6989586621679457484"><span id="local-6989586621679457486"><span id="local-6989586621679457488"><span id="local-6989586621679457490"><span id="local-6989586621679457492"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457495"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457495"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-710"></span><span id="local-6989586621679457481"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457475"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457481"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_containers(0,5,0)
</span><span>  </span><span id="local-6989586621679457474"><span class="annot"><span class="annottext">itraverse :: (k -&gt; a -&gt; f b) -&gt; Map k a -&gt; f (Map k b)
</span><a href="#local-6989586621679457474"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; f b) -&gt; Map k a -&gt; f (Map k b)
forall (t :: * -&gt; *) k a b.
Applicative t =&gt;
(k -&gt; a -&gt; t b) -&gt; Map k a -&gt; t (Map k b)
</span><span class="hs-identifier hs-var">Map.traverseWithKey</span></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">itraverse</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sequenceA</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Map.mapWithKey</span><span> </span><span class="hs-identifier">f</span><span class="hs-cpp">
#endif
</span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-719"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; mapMap&quot;</span></span><span>    </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457470"><span id="local-6989586621679457471"><span id="local-6989586621679457472"><span class="annot"><a href="Control.Lens.Setter.html#sets"><span class="hs-pragma hs-type">sets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Map.map</span></span><span>               </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter"><span class="hs-pragma hs-type">ASetter</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457472"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457471"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457472"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457470"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457471"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457470"><span class="hs-pragma hs-type">b</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-720"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; imapMap&quot;</span></span><span>   </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457466"><span id="local-6989586621679457467"><span id="local-6989586621679457468"><span class="annot"><a href="Control.Lens.Setter.html#isets"><span class="hs-pragma hs-type">isets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Map.mapWithKey</span></span><span>       </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#AnIndexedSetter"><span class="hs-pragma hs-type">AnIndexedSetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457468"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457468"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457467"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457468"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457466"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457467"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457466"><span class="hs-pragma hs-type">b</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-721"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; foldrMap&quot;</span></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457462"><span id="local-6989586621679457463"><span id="local-6989586621679457464"><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-pragma hs-type">foldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Map.foldr</span></span><span>         </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-pragma hs-type">Getting</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457464"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457463"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457462"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457462"><span class="hs-pragma hs-type">a</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-722"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; ifoldrMap&quot;</span></span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457458"><span id="local-6989586621679457459"><span id="local-6989586621679457460"><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-pragma hs-type">ifoldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Map.foldrWithKey</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-pragma hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457460"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457459"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679457460"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457458"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457458"><span class="hs-pragma hs-type">a</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-723"></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span id="local-6989586621679457456"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457451"><span id="local-6989586621679457453"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457456"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457456"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-726"></span><span id="local-6989586621679457450"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457437"><span id="local-6989586621679457439"><span id="local-6989586621679457441"><span id="local-6989586621679457443"><span id="local-6989586621679457445"><span id="local-6989586621679457447"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457450"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457450"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-727"></span><span id="local-6989586621679457436"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457430"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457436"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457436"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-728"></span><span>  </span><span id="local-6989586621679457429"><span class="annot"><span class="annottext">itraverse :: (k -&gt; a -&gt; f b) -&gt; HashMap k a -&gt; f (HashMap k b)
</span><a href="#local-6989586621679457429"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; f b) -&gt; HashMap k a -&gt; f (HashMap k b)
forall (f :: * -&gt; *) k v1 v2.
Applicative f =&gt;
(k -&gt; v1 -&gt; f v2) -&gt; HashMap k v1 -&gt; f (HashMap k v2)
</span><span class="hs-identifier hs-var">HashMap.traverseWithKey</span></span><span>
</span><span id="line-729"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-730"></span><span>
</span><span id="line-731"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-732"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; mapHashMap&quot;</span></span><span>    </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457425"><span id="local-6989586621679457426"><span id="local-6989586621679457427"><span class="annot"><a href="Control.Lens.Setter.html#sets"><span class="hs-pragma hs-type">sets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">HashMap.map</span></span><span>               </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter"><span class="hs-pragma hs-type">ASetter</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457427"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457426"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457427"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457425"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457426"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457425"><span class="hs-pragma hs-type">b</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-733"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; imapHashMap&quot;</span></span><span>   </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457421"><span id="local-6989586621679457422"><span id="local-6989586621679457423"><span class="annot"><a href="Control.Lens.Setter.html#isets"><span class="hs-pragma hs-type">isets</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">HashMap.mapWithKey</span></span><span>       </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#AnIndexedSetter"><span class="hs-pragma hs-type">AnIndexedSetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457423"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457423"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457422"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457423"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457421"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457422"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457421"><span class="hs-pragma hs-type">b</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-734"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; foldrHashMap&quot;</span></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457417"><span id="local-6989586621679457418"><span id="local-6989586621679457419"><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-pragma hs-type">foldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">HashMap.foldr</span></span><span>         </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-pragma hs-type">Getting</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457419"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457418"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457417"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457417"><span class="hs-pragma hs-type">a</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-735"></span><span class="annot"><span class="hs-pragma">&quot;itraversed -&gt; ifoldrHashMap&quot;</span></span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraversed"><span class="hs-pragma hs-type">itraversed</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span id="local-6989586621679457413"><span id="local-6989586621679457414"><span id="local-6989586621679457415"><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-pragma hs-type">ifoldring</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">HashMap.foldrWithKey</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-pragma hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457415"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679457414"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">HashMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679457415"><span class="hs-pragma hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457413"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679457413"><span class="hs-pragma hs-type">a</span></a></span></span></span></span><span class="hs-pragma">;</span><span>
</span><span id="line-736"></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span id="local-6989586621679457411"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457407"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457411"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679457411"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-739"></span><span>  </span><span id="local-6989586621679457406"><span class="annot"><span class="annottext">imap :: (r -&gt; a -&gt; b) -&gt; (r -&gt; a) -&gt; r -&gt; b
</span><a href="#local-6989586621679457406"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457405"><span class="annot"><span class="annottext">f :: r -&gt; a -&gt; b
</span><a href="#local-6989586621679457405"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457404"><span class="annot"><span class="annottext">g :: r -&gt; a
</span><a href="#local-6989586621679457404"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679457403"><span class="annot"><span class="annottext">x :: r
</span><a href="#local-6989586621679457403"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; a -&gt; b
</span><a href="#local-6989586621679457405"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679457403"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; a
</span><a href="#local-6989586621679457404"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679457403"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-741"></span><span>
</span><span id="line-742"></span><span id="local-6989586621679457402"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457398"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457402"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457402"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-743"></span><span>  </span><span id="local-6989586621679457397"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Level i a -&gt; Level i b
</span><a href="#local-6989586621679457397"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457396"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457396"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; Level i b
</span><a href="#local-6989586621679457395"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-744"></span><span>    </span><span id="local-6989586621679457395"><span class="annot"><span class="annottext">go :: Level i a -&gt; Level i b
</span><a href="#local-6989586621679457395"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span id="local-6989586621679457393"><span class="annot"><span class="annottext">n :: Word
</span><a href="#local-6989586621679457393"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679457392"><span class="annot"><span class="annottext">l :: Level i a
</span><a href="#local-6989586621679457392"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679457391"><span class="annot"><span class="annottext">r :: Level i a
</span><a href="#local-6989586621679457391"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Level i b -&gt; Level i b -&gt; Level i b
forall i a. Word -&gt; Level i a -&gt; Level i a -&gt; Level i a
</span><a href="Control.Lens.Internal.Level.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679457393"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Level i a -&gt; Level i b
</span><a href="#local-6989586621679457395"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457392"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Level i a -&gt; Level i b
</span><a href="#local-6989586621679457395"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457391"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-745"></span><span>    </span><span class="annot"><a href="#local-6989586621679457395"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#One"><span class="hs-identifier hs-type">One</span></a></span><span> </span><span id="local-6989586621679457389"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457389"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457388"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457388"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; Level i b
forall i a. i -&gt; a -&gt; Level i a
</span><a href="Control.Lens.Internal.Level.html#One"><span class="hs-identifier hs-var">One</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457389"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457396"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457389"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457388"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span>    </span><span class="annot"><a href="#local-6989586621679457395"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><a href="Control.Lens.Internal.Level.html#Zero"><span class="hs-identifier hs-type">Zero</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i b
forall i a. Level i a
</span><a href="Control.Lens.Internal.Level.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span id="local-6989586621679457386"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457374"><span id="local-6989586621679457376"><span id="local-6989586621679457378"><span id="local-6989586621679457380"><span id="local-6989586621679457382"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457386"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457386"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-750"></span><span>  </span><span id="local-6989586621679457373"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Level i a -&gt; m
</span><a href="#local-6989586621679457373"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457372"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457372"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; m
</span><a href="#local-6989586621679457371"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-751"></span><span>    </span><span id="local-6989586621679457371"><span class="annot"><span class="annottext">go :: Level i a -&gt; m
</span><a href="#local-6989586621679457371"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679457370"><span class="annot"><span class="annottext">l :: Level i a
</span><a href="#local-6989586621679457370"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679457369"><span class="annot"><span class="annottext">r :: Level i a
</span><a href="#local-6989586621679457369"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; m
</span><a href="#local-6989586621679457371"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457370"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; m
</span><a href="#local-6989586621679457371"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457369"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-752"></span><span>    </span><span class="annot"><a href="#local-6989586621679457371"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#One"><span class="hs-identifier hs-type">One</span></a></span><span> </span><span id="local-6989586621679457368"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457368"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457367"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457367"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457372"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457368"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457367"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><a href="#local-6989586621679457371"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><a href="Control.Lens.Internal.Level.html#Zero"><span class="hs-identifier hs-type">Zero</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-754"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-755"></span><span>
</span><span id="line-756"></span><span id="local-6989586621679457366"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457360"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457366"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457366"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-757"></span><span>  </span><span id="local-6989586621679457359"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Level i a -&gt; f (Level i b)
</span><a href="#local-6989586621679457359"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457358"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457358"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; f (Level i b)
</span><a href="#local-6989586621679457357"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-758"></span><span>    </span><span id="local-6989586621679457357"><span class="annot"><span class="annottext">go :: Level i a -&gt; f (Level i b)
</span><a href="#local-6989586621679457357"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span id="local-6989586621679457356"><span class="annot"><span class="annottext">n :: Word
</span><a href="#local-6989586621679457356"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679457355"><span class="annot"><span class="annottext">l :: Level i a
</span><a href="#local-6989586621679457355"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679457354"><span class="annot"><span class="annottext">r :: Level i a
</span><a href="#local-6989586621679457354"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Level i b -&gt; Level i b -&gt; Level i b
forall i a. Word -&gt; Level i a -&gt; Level i a -&gt; Level i a
</span><a href="Control.Lens.Internal.Level.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679457356"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Level i b -&gt; Level i b -&gt; Level i b)
-&gt; f (Level i b) -&gt; f (Level i b -&gt; Level i b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; f (Level i b)
</span><a href="#local-6989586621679457357"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457355"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">f (Level i b -&gt; Level i b) -&gt; f (Level i b) -&gt; f (Level i b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Level i a -&gt; f (Level i b)
</span><a href="#local-6989586621679457357"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Level i a
</span><a href="#local-6989586621679457354"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-759"></span><span>    </span><span class="annot"><a href="#local-6989586621679457357"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Level.html#One"><span class="hs-identifier hs-type">One</span></a></span><span> </span><span id="local-6989586621679457353"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457353"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457352"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457352"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; Level i b
forall i a. i -&gt; a -&gt; Level i a
</span><a href="Control.Lens.Internal.Level.html#One"><span class="hs-identifier hs-var">One</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457353"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Level i b) -&gt; f b -&gt; f (Level i b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457358"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457353"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457352"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-760"></span><span>    </span><span class="annot"><a href="#local-6989586621679457357"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><a href="Control.Lens.Internal.Level.html#Zero"><span class="hs-identifier hs-type">Zero</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Level i b -&gt; f (Level i b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Level i b
forall i a. Level i a
</span><a href="Control.Lens.Internal.Level.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-761"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span id="local-6989586621679457349"><span id="local-6989586621679457350"><span id="local-6989586621679457351"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457345"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457351"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457351"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457350"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457349"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-764"></span><span>  </span><span id="local-6989586621679457344"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Magma i t b a -&gt; Magma i t b b
</span><a href="#local-6989586621679457344"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457343"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457343"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaAp"><span class="hs-identifier hs-type">MagmaAp</span></a></span><span> </span><span id="local-6989586621679457341"><span class="annot"><span class="annottext">x :: Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457341"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457340"><span class="annot"><span class="annottext">y :: Magma i x b a
</span><a href="#local-6989586621679457340"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Magma i (x -&gt; t) b b -&gt; Magma i x b b -&gt; Magma i t b b
forall i x y b a.
Magma i (x -&gt; y) b a -&gt; Magma i x b a -&gt; Magma i y b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaAp"><span class="hs-identifier hs-var">MagmaAp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; Magma i (x -&gt; t) b a -&gt; Magma i (x -&gt; t) b b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457343"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457341"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; Magma i x b a -&gt; Magma i x b b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457343"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457340"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-type">MagmaPure</span></a></span><span> </span><span id="local-6989586621679457338"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679457338"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Magma i t b b
forall x i b a. x -&gt; Magma i x b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-var">MagmaPure</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679457338"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-766"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span id="local-6989586621679457337"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457337"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaFmap"><span class="hs-identifier hs-type">MagmaFmap</span></a></span><span> </span><span id="local-6989586621679457335"><span class="annot"><span class="annottext">xy :: x -&gt; t
</span><a href="#local-6989586621679457335"><span class="hs-identifier hs-var">xy</span></a></span></span><span> </span><span id="local-6989586621679457334"><span class="annot"><span class="annottext">x :: Magma i x b a
</span><a href="#local-6989586621679457334"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(x -&gt; t) -&gt; Magma i x b b -&gt; Magma i t b b
forall x y i b a. (x -&gt; y) -&gt; Magma i x b a -&gt; Magma i y b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaFmap"><span class="hs-identifier hs-var">MagmaFmap</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; t
</span><a href="#local-6989586621679457335"><span class="hs-identifier hs-var">xy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; Magma i x b a -&gt; Magma i x b b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457337"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457334"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-767"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span id="local-6989586621679457333"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457333"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span id="local-6989586621679457331"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457331"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457330"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457330"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; Magma i t t b
forall i a b. i -&gt; a -&gt; Magma i b b a
</span><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-var">Magma</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457331"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457333"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457331"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457330"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span id="local-6989586621679457327"><span id="local-6989586621679457328"><span id="local-6989586621679457329"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457315"><span id="local-6989586621679457317"><span id="local-6989586621679457319"><span id="local-6989586621679457321"><span id="local-6989586621679457323"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457329"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457329"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457328"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457327"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-771"></span><span>  </span><span id="local-6989586621679457314"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Magma i t b a -&gt; m
</span><a href="#local-6989586621679457314"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457313"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457313"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaAp"><span class="hs-identifier hs-type">MagmaAp</span></a></span><span> </span><span id="local-6989586621679457312"><span class="annot"><span class="annottext">x :: Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457312"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457311"><span class="annot"><span class="annottext">y :: Magma i x b a
</span><a href="#local-6989586621679457311"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; Magma i (x -&gt; t) b a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457313"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457312"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; Magma i x b a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457313"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457311"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-772"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-type">MagmaPure</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span id="local-6989586621679457310"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457310"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaFmap"><span class="hs-identifier hs-type">MagmaFmap</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679457309"><span class="annot"><span class="annottext">x :: Magma i x b a
</span><a href="#local-6989586621679457309"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; Magma i x b a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457310"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457309"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-774"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span id="local-6989586621679457308"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457308"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span id="local-6989586621679457307"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457307"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457306"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457306"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457308"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457307"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457306"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span id="local-6989586621679457303"><span id="local-6989586621679457304"><span id="local-6989586621679457305"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457297"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457305"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457305"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457304"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457303"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-778"></span><span>  </span><span id="local-6989586621679457296"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Magma i t b a -&gt; f (Magma i t b b)
</span><a href="#local-6989586621679457296"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457295"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457295"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaAp"><span class="hs-identifier hs-type">MagmaAp</span></a></span><span> </span><span id="local-6989586621679457294"><span class="annot"><span class="annottext">x :: Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457294"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679457293"><span class="annot"><span class="annottext">y :: Magma i x b a
</span><a href="#local-6989586621679457293"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Magma i (x -&gt; t) b b -&gt; Magma i x b b -&gt; Magma i t b b
forall i x y b a.
Magma i (x -&gt; y) b a -&gt; Magma i x b a -&gt; Magma i y b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaAp"><span class="hs-identifier hs-var">MagmaAp</span></a></span><span> </span><span class="annot"><span class="annottext">(Magma i (x -&gt; t) b b -&gt; Magma i x b b -&gt; Magma i t b b)
-&gt; f (Magma i (x -&gt; t) b b) -&gt; f (Magma i x b b -&gt; Magma i t b b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; Magma i (x -&gt; t) b a -&gt; f (Magma i (x -&gt; t) b b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457295"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i (x -&gt; t) b a
</span><a href="#local-6989586621679457294"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">f (Magma i x b b -&gt; Magma i t b b)
-&gt; f (Magma i x b b) -&gt; f (Magma i t b b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; Magma i x b a -&gt; f (Magma i x b b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457295"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457293"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-779"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-type">MagmaPure</span></a></span><span> </span><span id="local-6989586621679457292"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679457292"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Magma i t b b -&gt; f (Magma i t b b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Magma i t b b
forall x i b a. x -&gt; Magma i x b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-var">MagmaPure</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679457292"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span id="local-6989586621679457291"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457291"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#MagmaFmap"><span class="hs-identifier hs-type">MagmaFmap</span></a></span><span> </span><span id="local-6989586621679457290"><span class="annot"><span class="annottext">xy :: x -&gt; t
</span><a href="#local-6989586621679457290"><span class="hs-identifier hs-var">xy</span></a></span></span><span> </span><span id="local-6989586621679457289"><span class="annot"><span class="annottext">x :: Magma i x b a
</span><a href="#local-6989586621679457289"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(x -&gt; t) -&gt; Magma i x b b -&gt; Magma i t b b
forall x y i b a. (x -&gt; y) -&gt; Magma i x b a -&gt; Magma i y b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaFmap"><span class="hs-identifier hs-var">MagmaFmap</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; t
</span><a href="#local-6989586621679457290"><span class="hs-identifier hs-var">xy</span></a></span><span> </span><span class="annot"><span class="annottext">(Magma i x b b -&gt; Magma i t b b)
-&gt; f (Magma i x b b) -&gt; f (Magma i t b b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; Magma i x b a -&gt; f (Magma i x b b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457291"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Magma i x b a
</span><a href="#local-6989586621679457289"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-781"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span id="local-6989586621679457288"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457288"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-type">Magma</span></a></span><span> </span><span id="local-6989586621679457287"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457287"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679457286"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457286"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; b -&gt; Magma i t t b
forall i a b. i -&gt; a -&gt; Magma i b b a
</span><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-var">Magma</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457287"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Magma i t t b) -&gt; f b -&gt; f (Magma i t t b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457288"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457287"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457286"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span><span>
</span><span id="line-783"></span><span>
</span><span id="line-784"></span><span id="local-6989586621679457284"><span id="local-6989586621679457285"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457280"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457285"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457284"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457285"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span class="annot"><a href="#local-6989586621679457284"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-785"></span><span>  </span><span id="local-6989586621679457279"><span class="annot"><span class="annottext">imap :: ([i] -&gt; a -&gt; b) -&gt; Free f a -&gt; Free f b
</span><a href="#local-6989586621679457279"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457278"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457278"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span id="local-6989586621679457276"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457276"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Free f b
forall (f :: * -&gt; *) a. a -&gt; Free f a
</span><span class="hs-identifier hs-var">Pure</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Free f b) -&gt; b -&gt; Free f b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457276"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-786"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span id="local-6989586621679457275"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457275"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span id="local-6989586621679457273"><span class="annot"><span class="annottext">s :: f (Free f a)
</span><a href="#local-6989586621679457273"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (Free f b) -&gt; Free f b
forall (f :: * -&gt; *) a. f (Free f a) -&gt; Free f a
</span><span class="hs-identifier hs-var">Free</span></span><span> </span><span class="annot"><span class="annottext">(f (Free f b) -&gt; Free f b) -&gt; f (Free f b) -&gt; Free f b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Free f a -&gt; Free f b) -&gt; f (Free f a) -&gt; f (Free f b)
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457272"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457272"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; b) -&gt; Free f a -&gt; Free f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457275"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; b) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457272"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Free f a)
</span><a href="#local-6989586621679457273"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-787"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span id="local-6989586621679457270"><span id="local-6989586621679457271"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457258"><span id="local-6989586621679457260"><span id="local-6989586621679457262"><span id="local-6989586621679457264"><span id="local-6989586621679457266"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457271"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457270"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457271"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span class="annot"><a href="#local-6989586621679457270"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-790"></span><span>  </span><span id="local-6989586621679457257"><span class="annot"><span class="annottext">ifoldMap :: ([i] -&gt; a -&gt; m) -&gt; Free f a -&gt; m
</span><a href="#local-6989586621679457257"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457256"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457256"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span id="local-6989586621679457255"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457255"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457256"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457255"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-791"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span id="local-6989586621679457254"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457254"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span id="local-6989586621679457253"><span class="annot"><span class="annottext">s :: f (Free f a)
</span><a href="#local-6989586621679457253"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; Free f a -&gt; m) -&gt; f (Free f a) -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457252"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457252"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; m) -&gt; Free f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457254"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; m) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457252"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Free f a)
</span><a href="#local-6989586621679457253"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span id="local-6989586621679457250"><span id="local-6989586621679457251"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457244"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457251"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457250"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457251"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span class="annot"><a href="#local-6989586621679457250"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-795"></span><span>  </span><span id="local-6989586621679457243"><span class="annot"><span class="annottext">itraverse :: ([i] -&gt; a -&gt; f b) -&gt; Free f a -&gt; f (Free f b)
</span><a href="#local-6989586621679457243"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457242"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457242"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span id="local-6989586621679457241"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457241"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Free f b
forall (f :: * -&gt; *) a. a -&gt; Free f a
</span><span class="hs-identifier hs-var">Pure</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Free f b) -&gt; f b -&gt; f (Free f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457242"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457241"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-796"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span id="local-6989586621679457240"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457240"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span id="local-6989586621679457239"><span class="annot"><span class="annottext">s :: f (Free f a)
</span><a href="#local-6989586621679457239"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (Free f b) -&gt; Free f b
forall (f :: * -&gt; *) a. f (Free f a) -&gt; Free f a
</span><span class="hs-identifier hs-var">Free</span></span><span> </span><span class="annot"><span class="annottext">(f (Free f b) -&gt; Free f b) -&gt; f (f (Free f b)) -&gt; f (Free f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Free f a -&gt; f (Free f b)) -&gt; f (Free f a) -&gt; f (f (Free f b))
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457238"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457238"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; f b) -&gt; Free f a -&gt; f (Free f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457240"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; f b) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457238"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Free f a)
</span><a href="#local-6989586621679457239"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-798"></span><span>
</span><span id="line-799"></span><span id="local-6989586621679457237"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457233"><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679457237"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457237"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="annot"><a href="#local-6989586621679457237"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-800"></span><span>  </span><span id="local-6989586621679457232"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Array i a -&gt; Array i b
</span><a href="#local-6989586621679457232"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457231"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457231"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457230"><span class="annot"><span class="annottext">arr :: Array i a
</span><a href="#local-6989586621679457230"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i, i) -&gt; [b] -&gt; Array i b
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">Array.listArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array i a -&gt; (i, i)
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">Array.bounds</span></span><span> </span><span class="annot"><span class="annottext">Array i a
</span><a href="#local-6989586621679457230"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; Array i b) -&gt; ([(i, a)] -&gt; [b]) -&gt; [(i, a)] -&gt; Array i b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((i, a) -&gt; b) -&gt; [(i, a)] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; (i, a) -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457231"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(i, a)] -&gt; Array i b) -&gt; [(i, a)] -&gt; Array i b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Array i a -&gt; [(i, a)]
forall i e. Ix i =&gt; Array i e -&gt; [(i, e)]
</span><span class="hs-identifier hs-var">Array.assocs</span></span><span> </span><span class="annot"><span class="annottext">Array i a
</span><a href="#local-6989586621679457230"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span id="local-6989586621679457226"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457214"><span id="local-6989586621679457216"><span id="local-6989586621679457218"><span id="local-6989586621679457220"><span id="local-6989586621679457222"><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679457226"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457226"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="annot"><a href="#local-6989586621679457226"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-804"></span><span>  </span><span id="local-6989586621679457213"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Array i a -&gt; m
</span><a href="#local-6989586621679457213"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457212"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457212"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i, a) -&gt; m) -&gt; [(i, a)] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; (i, a) -&gt; m
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457212"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(i, a)] -&gt; m) -&gt; (Array i a -&gt; [(i, a)]) -&gt; Array i a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array i a -&gt; [(i, a)]
forall i e. Ix i =&gt; Array i e -&gt; [(i, e)]
</span><span class="hs-identifier hs-var">Array.assocs</span></span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span id="local-6989586621679457211"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457205"><span class="annot"><span class="hs-identifier hs-type">Ix</span></span><span> </span><span class="annot"><a href="#local-6989586621679457211"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457211"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="annot"><a href="#local-6989586621679457211"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-808"></span><span>  </span><span id="local-6989586621679457204"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Array i a -&gt; f (Array i b)
</span><a href="#local-6989586621679457204"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457203"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457203"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679457202"><span class="annot"><span class="annottext">arr :: Array i a
</span><a href="#local-6989586621679457202"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i, i) -&gt; [b] -&gt; Array i b
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">Array.listArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array i a -&gt; (i, i)
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">Array.bounds</span></span><span> </span><span class="annot"><span class="annottext">Array i a
</span><a href="#local-6989586621679457202"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; Array i b) -&gt; f [b] -&gt; f (Array i b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((i, a) -&gt; f b) -&gt; [(i, a)] -&gt; f [b]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; (i, a) -&gt; f b
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457203"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array i a -&gt; [(i, a)]
forall i e. Ix i =&gt; Array i e -&gt; [(i, e)]
</span><span class="hs-identifier hs-var">Array.assocs</span></span><span> </span><span class="annot"><span class="annottext">Array i a
</span><a href="#local-6989586621679457202"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-810"></span><span>
</span><span id="line-811"></span><span id="local-6989586621679457200"><span id="local-6989586621679457201"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457196"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457201"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457200"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457201"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Cofree</span></span><span> </span><span class="annot"><a href="#local-6989586621679457200"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-812"></span><span>  </span><span id="local-6989586621679457195"><span class="annot"><span class="annottext">imap :: ([i] -&gt; a -&gt; b) -&gt; Cofree f a -&gt; Cofree f b
</span><a href="#local-6989586621679457195"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457194"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457194"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679457193"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457193"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679457191"><span class="annot"><span class="annottext">as :: f (Cofree f a)
</span><a href="#local-6989586621679457191"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457194"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457193"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; f (Cofree f b) -&gt; Cofree f b
forall (f :: * -&gt; *) a. a -&gt; f (Cofree f a) -&gt; Cofree f a
</span><span class="hs-operator hs-var">:&lt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Cofree f a -&gt; Cofree f b) -&gt; f (Cofree f a) -&gt; f (Cofree f b)
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457190"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457190"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; b) -&gt; Cofree f a -&gt; Cofree f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; b
</span><a href="#local-6989586621679457194"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; b) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457190"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Cofree f a)
</span><a href="#local-6989586621679457191"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-813"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-814"></span><span>
</span><span id="line-815"></span><span id="local-6989586621679457188"><span id="local-6989586621679457189"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457176"><span id="local-6989586621679457178"><span id="local-6989586621679457180"><span id="local-6989586621679457182"><span id="local-6989586621679457184"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457189"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457188"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457189"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Cofree</span></span><span> </span><span class="annot"><a href="#local-6989586621679457188"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-816"></span><span>  </span><span id="local-6989586621679457175"><span class="annot"><span class="annottext">ifoldMap :: ([i] -&gt; a -&gt; m) -&gt; Cofree f a -&gt; m
</span><a href="#local-6989586621679457175"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457174"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457174"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679457173"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457173"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679457172"><span class="annot"><span class="annottext">as :: f (Cofree f a)
</span><a href="#local-6989586621679457172"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457174"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457173"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Cofree f a -&gt; m) -&gt; f (Cofree f a) -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457171"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457171"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; m) -&gt; Cofree f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; m
</span><a href="#local-6989586621679457174"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; m) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457171"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Cofree f a)
</span><a href="#local-6989586621679457172"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-818"></span><span>
</span><span id="line-819"></span><span id="local-6989586621679457169"><span id="local-6989586621679457170"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457163"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457170"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457169"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679457170"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Cofree</span></span><span> </span><span class="annot"><a href="#local-6989586621679457169"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-820"></span><span>  </span><span id="local-6989586621679457162"><span class="annot"><span class="annottext">itraverse :: ([i] -&gt; a -&gt; f b) -&gt; Cofree f a -&gt; f (Cofree f b)
</span><a href="#local-6989586621679457162"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457161"><span class="annot"><span class="annottext">f :: [i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457161"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679457160"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679457160"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&lt;</span></span><span> </span><span id="local-6989586621679457159"><span class="annot"><span class="annottext">as :: f (Cofree f a)
</span><a href="#local-6989586621679457159"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; f (Cofree f b) -&gt; Cofree f b
forall (f :: * -&gt; *) a. a -&gt; f (Cofree f a) -&gt; Cofree f a
</span><span class="hs-operator hs-var">(:&lt;)</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; f (Cofree f b) -&gt; Cofree f b)
-&gt; f b -&gt; f (f (Cofree f b) -&gt; Cofree f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457161"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679457160"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (f (Cofree f b) -&gt; Cofree f b)
-&gt; f (f (Cofree f b)) -&gt; f (Cofree f b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Cofree f a -&gt; f (Cofree f b))
-&gt; f (Cofree f a) -&gt; f (f (Cofree f b))
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457158"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679457158"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; f b) -&gt; Cofree f a -&gt; f (Cofree f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[i] -&gt; a -&gt; f b
</span><a href="#local-6989586621679457161"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([i] -&gt; a -&gt; f b) -&gt; ([i] -&gt; [i]) -&gt; [i] -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457158"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Cofree f a)
</span><a href="#local-6989586621679457159"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span id="local-6989586621679457154"><span id="local-6989586621679457155"><span id="local-6989586621679457156"><span id="local-6989586621679457157"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457150"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457157"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457156"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457155"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457154"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457157"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457155"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span class="annot"><a href="#local-6989586621679457156"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457154"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-824"></span><span>  </span><span id="local-6989586621679457149"><span class="annot"><span class="annottext">imap :: ((i, j) -&gt; a -&gt; b) -&gt; Compose f g a -&gt; Compose f g b
</span><a href="#local-6989586621679457149"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457148"><span class="annot"><span class="annottext">f :: (i, j) -&gt; a -&gt; b
</span><a href="#local-6989586621679457148"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span id="local-6989586621679457146"><span class="annot"><span class="annottext">fg :: f (g a)
</span><a href="#local-6989586621679457146"><span class="hs-identifier hs-var">fg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (g b) -&gt; Compose f g b
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(f (g b) -&gt; Compose f g b) -&gt; f (g b) -&gt; Compose f g b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; g b) -&gt; f (g a) -&gt; f (g b)
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457145"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679457145"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; b
</span><a href="#local-6989586621679457148"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; b) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457145"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679457146"><span class="hs-identifier hs-var">fg</span></a></span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-826"></span><span>
</span><span id="line-827"></span><span id="local-6989586621679457141"><span id="local-6989586621679457142"><span id="local-6989586621679457143"><span id="local-6989586621679457144"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457129"><span id="local-6989586621679457131"><span id="local-6989586621679457133"><span id="local-6989586621679457135"><span id="local-6989586621679457137"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457144"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457143"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457142"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457141"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457144"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457142"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span class="annot"><a href="#local-6989586621679457143"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457141"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-828"></span><span>  </span><span id="local-6989586621679457128"><span class="annot"><span class="annottext">ifoldMap :: ((i, j) -&gt; a -&gt; m) -&gt; Compose f g a -&gt; m
</span><a href="#local-6989586621679457128"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457127"><span class="annot"><span class="annottext">f :: (i, j) -&gt; a -&gt; m
</span><a href="#local-6989586621679457127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span id="local-6989586621679457126"><span class="annot"><span class="annottext">fg :: f (g a)
</span><a href="#local-6989586621679457126"><span class="hs-identifier hs-var">fg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; m) -&gt; f (g a) -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457125"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679457125"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; m
</span><a href="#local-6989586621679457127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; m) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457125"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679457126"><span class="hs-identifier hs-var">fg</span></a></span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-830"></span><span>
</span><span id="line-831"></span><span id="local-6989586621679457121"><span id="local-6989586621679457122"><span id="local-6989586621679457123"><span id="local-6989586621679457124"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457115"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457124"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457123"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457122"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457121"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679457124"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679457122"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span class="annot"><a href="#local-6989586621679457123"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457121"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-832"></span><span>  </span><span id="local-6989586621679457114"><span class="annot"><span class="annottext">itraverse :: ((i, j) -&gt; a -&gt; f b) -&gt; Compose f g a -&gt; f (Compose f g b)
</span><a href="#local-6989586621679457114"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457113"><span class="annot"><span class="annottext">f :: (i, j) -&gt; a -&gt; f b
</span><a href="#local-6989586621679457113"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span id="local-6989586621679457112"><span class="annot"><span class="annottext">fg :: f (g a)
</span><a href="#local-6989586621679457112"><span class="hs-identifier hs-var">fg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (g b) -&gt; Compose f g b
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(f (g b) -&gt; Compose f g b) -&gt; f (f (g b)) -&gt; f (Compose f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; f (g b)) -&gt; f (g a) -&gt; f (f (g b))
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679457111"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679457111"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; f b
</span><a href="#local-6989586621679457113"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; f b) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679457111"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679457112"><span class="hs-identifier hs-var">fg</span></a></span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span id="local-6989586621679457107"><span id="local-6989586621679457108"><span id="local-6989586621679457109"><span id="local-6989586621679457110"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457103"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457110"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457109"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457108"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457107"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679457110"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457108"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sum</span></span><span> </span><span class="annot"><a href="#local-6989586621679457109"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457107"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-836"></span><span>  </span><span id="local-6989586621679457102"><span class="annot"><span class="annottext">imap :: (Either i j -&gt; a -&gt; b) -&gt; Sum f g a -&gt; Sum f g b
</span><a href="#local-6989586621679457102"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457101"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457101"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InL</span></span><span> </span><span id="local-6989586621679457099"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679457099"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Sum f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k). f a -&gt; Sum f g a
</span><span class="hs-identifier hs-var">InL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457101"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457099"><span class="hs-identifier hs-var">fa</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-837"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span id="local-6989586621679457098"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457098"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InR</span></span><span> </span><span id="local-6989586621679457096"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679457096"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g b -&gt; Sum f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k). g a -&gt; Sum f g a
</span><span class="hs-identifier hs-var">InR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457098"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679457096"><span class="hs-identifier hs-var">ga</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-839"></span><span>
</span><span id="line-840"></span><span id="local-6989586621679457092"><span id="local-6989586621679457093"><span id="local-6989586621679457094"><span id="local-6989586621679457095"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457080"><span id="local-6989586621679457082"><span id="local-6989586621679457084"><span id="local-6989586621679457086"><span id="local-6989586621679457088"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457095"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457094"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457093"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457092"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679457095"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457093"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sum</span></span><span> </span><span class="annot"><a href="#local-6989586621679457094"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457092"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-841"></span><span>  </span><span id="local-6989586621679457079"><span class="annot"><span class="annottext">ifoldMap :: (Either i j -&gt; a -&gt; m) -&gt; Sum f g a -&gt; m
</span><a href="#local-6989586621679457079"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457078"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679457078"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InL</span></span><span> </span><span id="local-6989586621679457077"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679457077"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679457078"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457077"><span class="hs-identifier hs-var">fa</span></a></span><span>
</span><span id="line-842"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span id="local-6989586621679457076"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679457076"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InR</span></span><span> </span><span id="local-6989586621679457075"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679457075"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679457076"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679457075"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-843"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span id="local-6989586621679457071"><span id="local-6989586621679457072"><span id="local-6989586621679457073"><span id="local-6989586621679457074"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457065"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457074"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457073"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457072"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457071"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679457074"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457072"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sum</span></span><span> </span><span class="annot"><a href="#local-6989586621679457073"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457071"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>  </span><span id="local-6989586621679457064"><span class="annot"><span class="annottext">itraverse :: (Either i j -&gt; a -&gt; f b) -&gt; Sum f g a -&gt; f (Sum f g b)
</span><a href="#local-6989586621679457064"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457063"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679457063"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InL</span></span><span> </span><span id="local-6989586621679457062"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679457062"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Sum f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k). f a -&gt; Sum f g a
</span><span class="hs-identifier hs-var">InL</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Sum f g b) -&gt; f (f b) -&gt; f (Sum f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679457063"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457062"><span class="hs-identifier hs-var">fa</span></a></span><span>
</span><span id="line-847"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span id="local-6989586621679457061"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679457061"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InR</span></span><span> </span><span id="local-6989586621679457060"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679457060"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g b -&gt; Sum f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k). g a -&gt; Sum f g a
</span><span class="hs-identifier hs-var">InR</span></span><span> </span><span class="annot"><span class="annottext">(g b -&gt; Sum f g b) -&gt; f (g b) -&gt; f (Sum f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679457061"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679457060"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-848"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span id="local-6989586621679457058"><span id="local-6989586621679457059"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457054"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457059"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457058"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457059"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679457058"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-851"></span><span>  </span><span id="local-6989586621679457053"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; IdentityT m a -&gt; IdentityT m b
</span><a href="#local-6989586621679457053"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457052"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679457052"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span id="local-6989586621679457050"><span class="annot"><span class="annottext">m :: m a
</span><a href="#local-6989586621679457050"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m b -&gt; IdentityT m b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; IdentityT f a
</span><span class="hs-identifier hs-var">IdentityT</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; IdentityT m b) -&gt; m b -&gt; IdentityT m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; m a -&gt; m b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679457052"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679457050"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-853"></span><span>
</span><span id="line-854"></span><span id="local-6989586621679457048"><span id="local-6989586621679457049"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457036"><span id="local-6989586621679457038"><span id="local-6989586621679457040"><span id="local-6989586621679457042"><span id="local-6989586621679457044"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457049"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457048"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457049"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679457048"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-855"></span><span>  </span><span id="local-6989586621679457035"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; IdentityT m a -&gt; m
</span><a href="#local-6989586621679457035"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679457034"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679457034"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span id="local-6989586621679457033"><span class="annot"><span class="annottext">m :: m a
</span><a href="#local-6989586621679457033"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; m a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679457034"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679457033"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-856"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span id="local-6989586621679457031"><span id="local-6989586621679457032"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457025"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457032"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457031"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457032"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679457031"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-859"></span><span>  </span><span id="local-6989586621679457024"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; IdentityT m a -&gt; f (IdentityT m b)
</span><a href="#local-6989586621679457024"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679457023"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457023"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span id="local-6989586621679457022"><span class="annot"><span class="annottext">m :: m a
</span><a href="#local-6989586621679457022"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m b -&gt; IdentityT m b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; IdentityT f a
</span><span class="hs-identifier hs-var">IdentityT</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; IdentityT m b) -&gt; f (m b) -&gt; f (IdentityT m b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; m a -&gt; f (m b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679457023"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679457022"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-860"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span id="local-6989586621679457018"><span id="local-6989586621679457019"><span id="local-6989586621679457020"><span id="local-6989586621679457021"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679457014"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457021"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457020"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457019"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457018"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679457021"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457019"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679457020"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457018"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-863"></span><span>  </span><span id="local-6989586621679457013"><span class="annot"><span class="annottext">imap :: (Either i j -&gt; a -&gt; b) -&gt; Product f g a -&gt; Product f g b
</span><a href="#local-6989586621679457013"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679457012"><span class="annot"><span class="annottext">f :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457012"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679457010"><span class="annot"><span class="annottext">a :: f a
</span><a href="#local-6989586621679457010"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679457009"><span class="annot"><span class="annottext">b :: g a
</span><a href="#local-6989586621679457009"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; g b -&gt; Product f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k).
f a -&gt; g a -&gt; Product f g a
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457012"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679457010"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679457012"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679457009"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span id="local-6989586621679457005"><span id="local-6989586621679457006"><span id="local-6989586621679457007"><span id="local-6989586621679457008"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456993"><span id="local-6989586621679456995"><span id="local-6989586621679456997"><span id="local-6989586621679456999"><span id="local-6989586621679457001"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457008"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457007"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457006"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457005"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679457008"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457006"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679457007"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679457005"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-867"></span><span>  </span><span id="local-6989586621679456992"><span class="annot"><span class="annottext">ifoldMap :: (Either i j -&gt; a -&gt; m) -&gt; Product f g a -&gt; m
</span><a href="#local-6989586621679456992"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456991"><span class="annot"><span class="annottext">f :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456991"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679456990"><span class="annot"><span class="annottext">a :: f a
</span><a href="#local-6989586621679456990"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679456989"><span class="annot"><span class="annottext">b :: g a
</span><a href="#local-6989586621679456989"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456991"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456990"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456991"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456989"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span id="local-6989586621679456985"><span id="local-6989586621679456986"><span id="local-6989586621679456987"><span id="local-6989586621679456988"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456979"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456988"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456987"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456986"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456985"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456988"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456986"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Product</span></span><span> </span><span class="annot"><a href="#local-6989586621679456987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456985"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-871"></span><span>  </span><span id="local-6989586621679456978"><span class="annot"><span class="annottext">itraverse :: (Either i j -&gt; a -&gt; f b) -&gt; Product f g a -&gt; f (Product f g b)
</span><a href="#local-6989586621679456978"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456977"><span class="annot"><span class="annottext">f :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456977"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span> </span><span id="local-6989586621679456976"><span class="annot"><span class="annottext">a :: f a
</span><a href="#local-6989586621679456976"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679456975"><span class="annot"><span class="annottext">b :: g a
</span><a href="#local-6989586621679456975"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; g b -&gt; Product f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (a :: k).
f a -&gt; g a -&gt; Product f g a
</span><span class="hs-identifier hs-var">Pair</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; g b -&gt; Product f g b)
-&gt; f (f b) -&gt; f (g b -&gt; Product f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456977"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456976"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (g b -&gt; Product f g b) -&gt; f (g b) -&gt; f (Product f g b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456977"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456975"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span id="local-6989586621679456972"><span id="local-6989586621679456973"><span id="local-6989586621679456974"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456968"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456974"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456973"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456972"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679456974"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679456972"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456973"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-875"></span><span>  </span><span id="local-6989586621679456967"><span class="annot"><span class="annottext">imap :: ((e, i) -&gt; a -&gt; b) -&gt; ReaderT e m a -&gt; ReaderT e m b
</span><a href="#local-6989586621679456967"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456966"><span class="annot"><span class="annottext">f :: (e, i) -&gt; a -&gt; b
</span><a href="#local-6989586621679456966"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span id="local-6989586621679456964"><span class="annot"><span class="annottext">m :: e -&gt; m a
</span><a href="#local-6989586621679456964"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; m b) -&gt; ReaderT e m b
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><span class="hs-identifier hs-var">ReaderT</span></span><span> </span><span class="annot"><span class="annottext">((e -&gt; m b) -&gt; ReaderT e m b) -&gt; (e -&gt; m b) -&gt; ReaderT e m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679456963"><span class="annot"><span class="annottext">k :: e
</span><a href="#local-6989586621679456963"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; m a -&gt; m b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(e, i) -&gt; a -&gt; b
</span><a href="#local-6989586621679456966"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">((e, i) -&gt; a -&gt; b) -&gt; (i -&gt; (e, i)) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679456963"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; m a
</span><a href="#local-6989586621679456964"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679456963"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-876"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span><span>
</span><span id="line-877"></span><span>
</span><span id="line-878"></span><span id="local-6989586621679456960"><span id="local-6989586621679456961"><span id="local-6989586621679456962"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456956"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456962"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456961"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456960"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679456962"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TracedT</span></span><span> </span><span class="annot"><a href="#local-6989586621679456960"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456961"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-879"></span><span>  </span><span id="local-6989586621679456955"><span class="annot"><span class="annottext">imap :: ((s, i) -&gt; a -&gt; b) -&gt; TracedT s w a -&gt; TracedT s w b
</span><a href="#local-6989586621679456955"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456954"><span class="annot"><span class="annottext">f :: (s, i) -&gt; a -&gt; b
</span><a href="#local-6989586621679456954"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TracedT</span></span><span> </span><span id="local-6989586621679456952"><span class="annot"><span class="annottext">w :: w (s -&gt; a)
</span><a href="#local-6989586621679456952"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">w (s -&gt; b) -&gt; TracedT s w b
forall m (w :: * -&gt; *) a. w (m -&gt; a) -&gt; TracedT m w a
</span><span class="hs-identifier hs-var">TracedT</span></span><span> </span><span class="annot"><span class="annottext">(w (s -&gt; b) -&gt; TracedT s w b) -&gt; w (s -&gt; b) -&gt; TracedT s w b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; (s -&gt; a) -&gt; s -&gt; b) -&gt; w (s -&gt; a) -&gt; w (s -&gt; b)
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456951"><span class="annot"><span class="annottext">k' :: i
</span><a href="#local-6989586621679456951"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621679456950"><span class="annot"><span class="annottext">g :: s -&gt; a
</span><a href="#local-6989586621679456950"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679456949"><span class="annot"><span class="annottext">k :: s
</span><a href="#local-6989586621679456949"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s, i) -&gt; a -&gt; b
</span><a href="#local-6989586621679456954"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679456949"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456951"><span class="hs-identifier hs-var">k'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679456950"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679456949"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">w (s -&gt; a)
</span><a href="#local-6989586621679456952"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-880"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456945"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tree</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-883"></span><span>  </span><span id="local-6989586621679456944"><span class="annot"><span class="annottext">imap :: ([Int] -&gt; a -&gt; b) -&gt; Tree a -&gt; Tree b
</span><a href="#local-6989586621679456944"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456943"><span class="annot"><span class="annottext">f :: [Int] -&gt; a -&gt; b
</span><a href="#local-6989586621679456943"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Node</span></span><span> </span><span id="local-6989586621679456941"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456941"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679456940"><span class="annot"><span class="annottext">as :: Forest a
</span><a href="#local-6989586621679456940"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Forest b -&gt; Tree b
forall a. a -&gt; Forest a -&gt; Tree a
</span><span class="hs-identifier hs-var">Node</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; b
</span><a href="#local-6989586621679456943"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456941"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Forest b -&gt; Tree b) -&gt; Forest b -&gt; Tree b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Tree a -&gt; Tree b) -&gt; Forest a -&gt; Forest b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456939"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679456939"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; b) -&gt; Tree a -&gt; Tree b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; b
</span><a href="#local-6989586621679456943"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; b) -&gt; ([Int] -&gt; [Int]) -&gt; [Int] -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679456939"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Forest a
</span><a href="#local-6989586621679456940"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-884"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456927"><span id="local-6989586621679456929"><span id="local-6989586621679456931"><span id="local-6989586621679456933"><span id="local-6989586621679456935"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tree</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-887"></span><span>  </span><span id="local-6989586621679456926"><span class="annot"><span class="annottext">ifoldMap :: ([Int] -&gt; a -&gt; m) -&gt; Tree a -&gt; m
</span><a href="#local-6989586621679456926"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456925"><span class="annot"><span class="annottext">f :: [Int] -&gt; a -&gt; m
</span><a href="#local-6989586621679456925"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Node</span></span><span> </span><span id="local-6989586621679456924"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456924"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679456923"><span class="annot"><span class="annottext">as :: Forest a
</span><a href="#local-6989586621679456923"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; m
</span><a href="#local-6989586621679456925"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456924"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Tree a -&gt; m) -&gt; Forest a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456922"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679456922"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; m) -&gt; Tree a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; m
</span><a href="#local-6989586621679456925"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; m) -&gt; ([Int] -&gt; [Int]) -&gt; [Int] -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679456922"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Forest a
</span><a href="#local-6989586621679456923"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-888"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456916"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tree</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-891"></span><span>  </span><span id="local-6989586621679456915"><span class="annot"><span class="annottext">itraverse :: ([Int] -&gt; a -&gt; f b) -&gt; Tree a -&gt; f (Tree b)
</span><a href="#local-6989586621679456915"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456914"><span class="annot"><span class="annottext">f :: [Int] -&gt; a -&gt; f b
</span><a href="#local-6989586621679456914"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Node</span></span><span> </span><span id="local-6989586621679456913"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456913"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679456912"><span class="annot"><span class="annottext">as :: Forest a
</span><a href="#local-6989586621679456912"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Forest b -&gt; Tree b
forall a. a -&gt; Forest a -&gt; Tree a
</span><span class="hs-identifier hs-var">Node</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Forest b -&gt; Tree b) -&gt; f b -&gt; f (Forest b -&gt; Tree b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; f b
</span><a href="#local-6989586621679456914"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456913"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (Forest b -&gt; Tree b) -&gt; f (Forest b) -&gt; f (Tree b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Tree a -&gt; f (Tree b)) -&gt; Forest a -&gt; f (Forest b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456911"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679456911"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; f b) -&gt; Tree a -&gt; f (Tree b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; a -&gt; f b
</span><a href="#local-6989586621679456914"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; a -&gt; f b) -&gt; ([Int] -&gt; [Int]) -&gt; [Int] -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679456911"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Forest a
</span><a href="#local-6989586621679456912"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-892"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-893"></span><span>
</span><span id="line-894"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456907"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-895"></span><span>  </span><span id="local-6989586621679456906"><span class="annot"><span class="annottext">imap :: (Void -&gt; a -&gt; b) -&gt; Proxy a -&gt; Proxy b
</span><a href="#local-6989586621679456906"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-897"></span><span>
</span><span id="line-898"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456893"><span id="local-6989586621679456895"><span id="local-6989586621679456897"><span id="local-6989586621679456899"><span id="local-6989586621679456901"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-899"></span><span>  </span><span id="local-6989586621679456892"><span class="annot"><span class="annottext">ifoldMap :: (Void -&gt; a -&gt; m) -&gt; Proxy a -&gt; m
</span><a href="#local-6989586621679456892"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-900"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-901"></span><span>
</span><span id="line-902"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456886"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-903"></span><span>  </span><span id="local-6989586621679456885"><span class="annot"><span class="annottext">itraverse :: (Void -&gt; a -&gt; f b) -&gt; Proxy a -&gt; f (Proxy b)
</span><a href="#local-6989586621679456885"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; f (Proxy b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-904"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-905"></span><span>
</span><span id="line-906"></span><span id="local-6989586621679456884"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456880"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><a href="#local-6989586621679456884"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-907"></span><span>  </span><span id="local-6989586621679456879"><span class="annot"><span class="annottext">imap :: (() -&gt; a -&gt; b) -&gt; Tagged a a -&gt; Tagged a b
</span><a href="#local-6989586621679456879"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456878"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; b
</span><a href="#local-6989586621679456878"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span id="local-6989586621679456876"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456876"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Tagged a b
forall k (s :: k) b. b -&gt; Tagged s b
</span><span class="hs-identifier hs-var">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; b
</span><a href="#local-6989586621679456878"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456876"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-908"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span id="local-6989586621679456875"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456863"><span id="local-6989586621679456865"><span id="local-6989586621679456867"><span id="local-6989586621679456869"><span id="local-6989586621679456871"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><a href="#local-6989586621679456875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-911"></span><span>  </span><span id="local-6989586621679456862"><span class="annot"><span class="annottext">ifoldMap :: (() -&gt; a -&gt; m) -&gt; Tagged a a -&gt; m
</span><a href="#local-6989586621679456862"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456861"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; m
</span><a href="#local-6989586621679456861"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span id="local-6989586621679456860"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456860"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; m
</span><a href="#local-6989586621679456861"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456860"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-912"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-913"></span><span>
</span><span id="line-914"></span><span id="local-6989586621679456859"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456853"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><a href="#local-6989586621679456859"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-915"></span><span>  </span><span id="local-6989586621679456852"><span class="annot"><span class="annottext">itraverse :: (() -&gt; a -&gt; f b) -&gt; Tagged a a -&gt; f (Tagged a b)
</span><a href="#local-6989586621679456852"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456851"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; f b
</span><a href="#local-6989586621679456851"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span id="local-6989586621679456850"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456850"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Tagged a b
forall k (s :: k) b. b -&gt; Tagged s b
</span><span class="hs-identifier hs-var">Tagged</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Tagged a b) -&gt; f b -&gt; f (Tagged a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; f b
</span><a href="#local-6989586621679456851"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456850"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456846"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-919"></span><span>  </span><span id="local-6989586621679456845"><span class="annot"><span class="annottext">imap :: (Void -&gt; a -&gt; b) -&gt; V1 a -&gt; V1 b
</span><a href="#local-6989586621679456845"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679456844"><span class="annot"><span class="annottext">v :: V1 a
</span><a href="#local-6989586621679456844"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">V1 a
</span><a href="#local-6989586621679456844"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">V1 a -&gt; V1 b -&gt; V1 b
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">V1 b
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-920"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-921"></span><span>
</span><span id="line-922"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456831"><span id="local-6989586621679456833"><span id="local-6989586621679456835"><span id="local-6989586621679456837"><span id="local-6989586621679456839"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V1</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-923"></span><span>  </span><span id="local-6989586621679456830"><span class="annot"><span class="annottext">ifoldMap :: (Void -&gt; a -&gt; m) -&gt; V1 a -&gt; m
</span><a href="#local-6989586621679456830"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679456829"><span class="annot"><span class="annottext">v :: V1 a
</span><a href="#local-6989586621679456829"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">V1 a
</span><a href="#local-6989586621679456829"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">V1 a -&gt; m -&gt; m
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">m
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-924"></span><span>
</span><span id="line-925"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456823"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-926"></span><span>  </span><span id="local-6989586621679456822"><span class="annot"><span class="annottext">itraverse :: (Void -&gt; a -&gt; f b) -&gt; V1 a -&gt; f (V1 b)
</span><a href="#local-6989586621679456822"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679456821"><span class="annot"><span class="annottext">v :: V1 a
</span><a href="#local-6989586621679456821"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">V1 a
</span><a href="#local-6989586621679456821"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">V1 a -&gt; f (V1 b) -&gt; f (V1 b)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">f (V1 b)
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-927"></span><span>
</span><span id="line-928"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456817"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-929"></span><span>  </span><span id="local-6989586621679456816"><span class="annot"><span class="annottext">imap :: (Void -&gt; a -&gt; b) -&gt; U1 a -&gt; U1 b
</span><a href="#local-6989586621679456816"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 b
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-931"></span><span>
</span><span id="line-932"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456803"><span id="local-6989586621679456805"><span id="local-6989586621679456807"><span id="local-6989586621679456809"><span id="local-6989586621679456811"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-933"></span><span>  </span><span id="local-6989586621679456802"><span class="annot"><span class="annottext">ifoldMap :: (Void -&gt; a -&gt; m) -&gt; U1 a -&gt; m
</span><a href="#local-6989586621679456802"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-934"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-935"></span><span>
</span><span id="line-936"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456796"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-937"></span><span>  </span><span id="local-6989586621679456795"><span class="annot"><span class="annottext">itraverse :: (Void -&gt; a -&gt; f b) -&gt; U1 a -&gt; f (U1 b)
</span><a href="#local-6989586621679456795"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 b -&gt; f (U1 b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">U1 b
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456791"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-941"></span><span>  </span><span id="local-6989586621679456790"><span class="annot"><span class="annottext">imap :: (() -&gt; a -&gt; b) -&gt; Par1 a -&gt; Par1 b
</span><a href="#local-6989586621679456790"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456789"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; b
</span><a href="#local-6989586621679456789"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Par1 a -&gt; Par1 b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; b
</span><a href="#local-6989586621679456789"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-943"></span><span>
</span><span id="line-944"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456777"><span id="local-6989586621679456779"><span id="local-6989586621679456781"><span id="local-6989586621679456783"><span id="local-6989586621679456785"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-945"></span><span>  </span><span id="local-6989586621679456776"><span class="annot"><span class="annottext">ifoldMap :: (() -&gt; a -&gt; m) -&gt; Par1 a -&gt; m
</span><a href="#local-6989586621679456776"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456775"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; m
</span><a href="#local-6989586621679456775"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span id="local-6989586621679456773"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456773"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; m
</span><a href="#local-6989586621679456775"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456773"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-947"></span><span>
</span><span id="line-948"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456767"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-949"></span><span>  </span><span id="local-6989586621679456766"><span class="annot"><span class="annottext">itraverse :: (() -&gt; a -&gt; f b) -&gt; Par1 a -&gt; f (Par1 b)
</span><a href="#local-6989586621679456766"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456765"><span class="annot"><span class="annottext">f :: () -&gt; a -&gt; f b
</span><a href="#local-6989586621679456765"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span id="local-6989586621679456764"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456764"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Par1 b
forall p. p -&gt; Par1 p
</span><span class="hs-identifier hs-var">Par1</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Par1 b) -&gt; f b -&gt; f (Par1 b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; a -&gt; f b
</span><a href="#local-6989586621679456765"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456764"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-951"></span><span>
</span><span id="line-952"></span><span id="local-6989586621679456760"><span id="local-6989586621679456761"><span id="local-6989586621679456762"><span id="local-6989586621679456763"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456756"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456763"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456762"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456761"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456760"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456763"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679456761"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456762"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:.:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456760"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-953"></span><span>  </span><span id="local-6989586621679456755"><span class="annot"><span class="annottext">imap :: ((i, j) -&gt; a -&gt; b) -&gt; (:.:) f g a -&gt; (:.:) f g b
</span><a href="#local-6989586621679456755"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456754"><span class="annot"><span class="annottext">q :: (i, j) -&gt; a -&gt; b
</span><a href="#local-6989586621679456754"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Comp1</span></span><span> </span><span id="local-6989586621679456752"><span class="annot"><span class="annottext">fga :: f (g a)
</span><a href="#local-6989586621679456752"><span class="hs-identifier hs-var">fga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (g b) -&gt; (:.:) f g b
forall k2 k1 (f :: k2 -&gt; *) (g :: k1 -&gt; k2) (p :: k1).
f (g p) -&gt; (:.:) f g p
</span><span class="hs-identifier hs-var">Comp1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; g b) -&gt; f (g a) -&gt; f (g b)
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456751"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679456751"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; b
</span><a href="#local-6989586621679456754"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; b) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456751"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679456752"><span class="hs-identifier hs-var">fga</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-954"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span id="local-6989586621679456747"><span id="local-6989586621679456748"><span id="local-6989586621679456749"><span id="local-6989586621679456750"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456735"><span id="local-6989586621679456737"><span id="local-6989586621679456739"><span id="local-6989586621679456741"><span id="local-6989586621679456743"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456750"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456749"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456748"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456747"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456750"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679456748"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456749"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:.:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456747"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-957"></span><span>  </span><span id="local-6989586621679456734"><span class="annot"><span class="annottext">ifoldMap :: ((i, j) -&gt; a -&gt; m) -&gt; (:.:) f g a -&gt; m
</span><a href="#local-6989586621679456734"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456733"><span class="annot"><span class="annottext">q :: (i, j) -&gt; a -&gt; m
</span><a href="#local-6989586621679456733"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Comp1</span></span><span> </span><span id="local-6989586621679456732"><span class="annot"><span class="annottext">fga :: f (g a)
</span><a href="#local-6989586621679456732"><span class="hs-identifier hs-var">fga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; m) -&gt; f (g a) -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456731"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679456731"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; m
</span><a href="#local-6989586621679456733"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; m) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456731"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679456732"><span class="hs-identifier hs-var">fga</span></a></span><span>
</span><span id="line-958"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-959"></span><span>
</span><span id="line-960"></span><span id="local-6989586621679456727"><span id="local-6989586621679456728"><span id="local-6989586621679456729"><span id="local-6989586621679456730"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456721"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456730"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456729"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456728"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456727"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456730"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679456728"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456729"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:.:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456727"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-961"></span><span>  </span><span id="local-6989586621679456720"><span class="annot"><span class="annottext">itraverse :: ((i, j) -&gt; a -&gt; f b) -&gt; (:.:) f g a -&gt; f ((:.:) f g b)
</span><a href="#local-6989586621679456720"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456719"><span class="annot"><span class="annottext">q :: (i, j) -&gt; a -&gt; f b
</span><a href="#local-6989586621679456719"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Comp1</span></span><span> </span><span id="local-6989586621679456718"><span class="annot"><span class="annottext">fga :: f (g a)
</span><a href="#local-6989586621679456718"><span class="hs-identifier hs-var">fga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (g b) -&gt; (:.:) f g b
forall k2 k1 (f :: k2 -&gt; *) (g :: k1 -&gt; k2) (p :: k1).
f (g p) -&gt; (:.:) f g p
</span><span class="hs-identifier hs-var">Comp1</span></span><span> </span><span class="annot"><span class="annottext">(f (g b) -&gt; (:.:) f g b) -&gt; f (f (g b)) -&gt; f ((:.:) f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; g a -&gt; f (g b)) -&gt; f (g a) -&gt; f (f (g b))
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456717"><span class="annot"><span class="annottext">k :: i
</span><a href="#local-6989586621679456717"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, j) -&gt; a -&gt; f b
</span><a href="#local-6989586621679456719"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">((i, j) -&gt; a -&gt; f b) -&gt; (j -&gt; (i, j)) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456717"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (g a)
</span><a href="#local-6989586621679456718"><span class="hs-identifier hs-var">fga</span></a></span><span>
</span><span id="line-962"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-963"></span><span>
</span><span id="line-964"></span><span id="local-6989586621679456713"><span id="local-6989586621679456714"><span id="local-6989586621679456715"><span id="local-6989586621679456716"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456709"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456716"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456715"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456714"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456713"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456716"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456714"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456715"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456713"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-965"></span><span>  </span><span id="local-6989586621679456708"><span class="annot"><span class="annottext">imap :: (Either i j -&gt; a -&gt; b) -&gt; (:*:) f g a -&gt; (:*:) f g b
</span><a href="#local-6989586621679456708"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456707"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456707"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679456706"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456706"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679456704"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456704"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456707"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456706"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">f b -&gt; g b -&gt; (:*:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456707"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456704"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-967"></span><span>
</span><span id="line-968"></span><span id="local-6989586621679456700"><span id="local-6989586621679456701"><span id="local-6989586621679456702"><span id="local-6989586621679456703"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456688"><span id="local-6989586621679456690"><span id="local-6989586621679456692"><span id="local-6989586621679456694"><span id="local-6989586621679456696"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456703"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456702"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456701"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456700"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456703"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456701"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456702"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456700"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-969"></span><span>  </span><span id="local-6989586621679456687"><span class="annot"><span class="annottext">ifoldMap :: (Either i j -&gt; a -&gt; m) -&gt; (:*:) f g a -&gt; m
</span><a href="#local-6989586621679456687"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456686"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456686"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679456685"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456685"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679456684"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456684"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456686"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456685"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456686"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456684"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-970"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-971"></span><span>
</span><span id="line-972"></span><span id="local-6989586621679456680"><span id="local-6989586621679456681"><span id="local-6989586621679456682"><span id="local-6989586621679456683"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456674"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456683"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456682"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456681"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456680"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456683"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456681"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456682"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456680"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-973"></span><span>  </span><span id="local-6989586621679456673"><span class="annot"><span class="annottext">itraverse :: (Either i j -&gt; a -&gt; f b) -&gt; (:*:) f g a -&gt; f ((:*:) f g b)
</span><a href="#local-6989586621679456673"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456672"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456672"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679456671"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456671"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679456670"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456670"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; g b -&gt; (:*:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">(:*:)</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; g b -&gt; (:*:) f g b) -&gt; f (f b) -&gt; f (g b -&gt; (:*:) f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456672"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456671"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">f (g b -&gt; (:*:) f g b) -&gt; f (g b) -&gt; f ((:*:) f g b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456672"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456670"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-974"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span id="local-6989586621679456666"><span id="local-6989586621679456667"><span id="local-6989586621679456668"><span id="local-6989586621679456669"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456662"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456669"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456668"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456667"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456666"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456669"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456667"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456668"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456666"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-977"></span><span>  </span><span id="local-6989586621679456661"><span class="annot"><span class="annottext">imap :: (Either i j -&gt; a -&gt; b) -&gt; (:+:) f g a -&gt; (:+:) f g b
</span><a href="#local-6989586621679456661"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456660"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456660"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679456658"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456658"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; (:+:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456660"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456658"><span class="hs-identifier hs-var">fa</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-978"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span id="local-6989586621679456657"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456657"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679456655"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456655"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g b -&gt; (:+:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(j -&gt; a -&gt; b) -&gt; g a -&gt; g b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; b
</span><a href="#local-6989586621679456657"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456655"><span class="hs-identifier hs-var">ga</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-979"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-980"></span><span>
</span><span id="line-981"></span><span id="local-6989586621679456651"><span id="local-6989586621679456652"><span id="local-6989586621679456653"><span id="local-6989586621679456654"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456639"><span id="local-6989586621679456641"><span id="local-6989586621679456643"><span id="local-6989586621679456645"><span id="local-6989586621679456647"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456654"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456653"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456652"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456651"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456654"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456652"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456653"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456651"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-982"></span><span>  </span><span id="local-6989586621679456638"><span class="annot"><span class="annottext">ifoldMap :: (Either i j -&gt; a -&gt; m) -&gt; (:+:) f g a -&gt; m
</span><a href="#local-6989586621679456638"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456637"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456637"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679456636"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456636"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456637"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456636"><span class="hs-identifier hs-var">fa</span></a></span><span>
</span><span id="line-983"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span id="local-6989586621679456635"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456635"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679456634"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456634"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; m) -&gt; g a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; m
</span><a href="#local-6989586621679456635"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; m) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456634"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-984"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-985"></span><span>
</span><span id="line-986"></span><span id="local-6989586621679456630"><span id="local-6989586621679456631"><span id="local-6989586621679456632"><span id="local-6989586621679456633"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456624"><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456633"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456632"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456631"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456630"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679456633"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456631"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456632"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679456630"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-987"></span><span>  </span><span id="local-6989586621679456623"><span class="annot"><span class="annottext">itraverse :: (Either i j -&gt; a -&gt; f b) -&gt; (:+:) f g a -&gt; f ((:+:) f g b)
</span><a href="#local-6989586621679456623"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456622"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456622"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679456621"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679456621"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; (:+:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; (:+:) f g b) -&gt; f (f b) -&gt; f ((:+:) f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456622"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (i -&gt; Either i j) -&gt; i -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Either i j
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456621"><span class="hs-identifier hs-var">fa</span></a></span><span>
</span><span id="line-988"></span><span>  </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span id="local-6989586621679456620"><span class="annot"><span class="annottext">q :: Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456620"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679456619"><span class="annot"><span class="annottext">ga :: g a
</span><a href="#local-6989586621679456619"><span class="hs-identifier hs-var">ga</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g b -&gt; (:+:) f g b
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(g b -&gt; (:+:) f g b) -&gt; f (g b) -&gt; f ((:+:) f g b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(j -&gt; a -&gt; f b) -&gt; g a -&gt; f (g b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either i j -&gt; a -&gt; f b
</span><a href="#local-6989586621679456620"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">(Either i j -&gt; a -&gt; f b) -&gt; (j -&gt; Either i j) -&gt; j -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; Either i j
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679456619"><span class="hs-identifier hs-var">ga</span></a></span><span>
</span><span id="line-989"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span></span></span><span>
</span><span id="line-990"></span><span>
</span><span id="line-991"></span><span id="local-6989586621679456617"><span id="local-6989586621679456618"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456613"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456618"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456617"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456618"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456617"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-992"></span><span>  </span><span id="local-6989586621679456612"><span class="annot"><span class="annottext">imap :: (i -&gt; a -&gt; b) -&gt; Rec1 f a -&gt; Rec1 f b
</span><a href="#local-6989586621679456612"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span id="local-6989586621679456611"><span class="annot"><span class="annottext">q :: i -&gt; a -&gt; b
</span><a href="#local-6989586621679456611"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span id="local-6989586621679456609"><span class="annot"><span class="annottext">f :: f a
</span><a href="#local-6989586621679456609"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Rec1 f b
forall k (f :: k -&gt; *) (p :: k). f p -&gt; Rec1 f p
</span><span class="hs-identifier hs-var">Rec1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
forall i (f :: * -&gt; *) a b.
FunctorWithIndex i f =&gt;
(i -&gt; a -&gt; b) -&gt; f a -&gt; f b
</span><a href="Control.Lens.Indexed.html#imap"><span class="hs-identifier hs-var">imap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; b
</span><a href="#local-6989586621679456611"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456609"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-993"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-994"></span><span>
</span><span id="line-995"></span><span id="local-6989586621679456607"><span id="local-6989586621679456608"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456595"><span id="local-6989586621679456597"><span id="local-6989586621679456599"><span id="local-6989586621679456601"><span id="local-6989586621679456603"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456608"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456607"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456608"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456607"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-996"></span><span>  </span><span id="local-6989586621679456594"><span class="annot"><span class="annottext">ifoldMap :: (i -&gt; a -&gt; m) -&gt; Rec1 f a -&gt; m
</span><a href="#local-6989586621679456594"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span id="local-6989586621679456593"><span class="annot"><span class="annottext">q :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679456593"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span id="local-6989586621679456592"><span class="annot"><span class="annottext">f :: f a
</span><a href="#local-6989586621679456592"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; f a -&gt; m
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679456593"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456592"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-998"></span><span>
</span><span id="line-999"></span><span id="local-6989586621679456590"><span id="local-6989586621679456591"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456584"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456591"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456590"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456591"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456590"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1000"></span><span>  </span><span id="local-6989586621679456583"><span class="annot"><span class="annottext">itraverse :: (i -&gt; a -&gt; f b) -&gt; Rec1 f a -&gt; f (Rec1 f b)
</span><a href="#local-6989586621679456583"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span id="local-6989586621679456582"><span class="annot"><span class="annottext">q :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456582"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span id="local-6989586621679456581"><span class="annot"><span class="annottext">f :: f a
</span><a href="#local-6989586621679456581"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; Rec1 f b
forall k (f :: k -&gt; *) (p :: k). f p -&gt; Rec1 f p
</span><span class="hs-identifier hs-var">Rec1</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Rec1 f b) -&gt; f (f b) -&gt; f (Rec1 f b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f b) -&gt; f a -&gt; f (f b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456582"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679456581"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1001"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span id="local-6989586621679456579"><span id="local-6989586621679456580"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456575"><span class="annot"><a href="Control.Lens.Indexed.html#FunctorWithIndex"><span class="hs-identifier hs-type">FunctorWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456580"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456579"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1004"></span><span>  </span><span id="local-6989586621679456574"><span class="annot"><span class="annottext">imap :: (Void -&gt; a -&gt; b) -&gt; K1 i c a -&gt; K1 i c b
</span><a href="#local-6989586621679456574"><span class="hs-identifier hs-var hs-var hs-var hs-var">imap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679456572"><span class="annot"><span class="annottext">c :: c
</span><a href="#local-6989586621679456572"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">c -&gt; K1 i c b
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679456572"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1005"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#imap"><span class="hs-pragma hs-type">imap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span id="local-6989586621679456570"><span id="local-6989586621679456571"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456558"><span id="local-6989586621679456560"><span id="local-6989586621679456562"><span id="local-6989586621679456564"><span id="local-6989586621679456566"><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456571"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456570"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1008"></span><span>  </span><span id="local-6989586621679456557"><span class="annot"><span class="annottext">ifoldMap :: (Void -&gt; a -&gt; m) -&gt; K1 i c a -&gt; m
</span><a href="#local-6989586621679456557"><span class="hs-identifier hs-var hs-var hs-var hs-var">ifoldMap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-1009"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-pragma hs-type">ifoldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span id="local-6989586621679456555"><span id="local-6989586621679456556"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679456549"><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679456556"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456555"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1012"></span><span>  </span><span id="local-6989586621679456548"><span class="annot"><span class="annottext">itraverse :: (Void -&gt; a -&gt; f b) -&gt; K1 i c a -&gt; f (K1 i c b)
</span><a href="#local-6989586621679456548"><span class="hs-identifier hs-var hs-var hs-var hs-var">itraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679456547"><span class="annot"><span class="annottext">a :: c
</span><a href="#local-6989586621679456547"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">K1 i c b -&gt; f (K1 i c b)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">c -&gt; K1 i c b
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679456547"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1013"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-pragma hs-type">itraverse</span></a></span><span> </span><span class="hs-pragma">#-}</span></span></span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1016"></span><span class="hs-comment">-- Misc.</span><span>
</span><span id="line-1017"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1018"></span><span>
</span><span id="line-1019"></span><span id="local-6989586621679459502"><span class="annot"><a href="Control.Lens.Indexed.html#skip"><span class="hs-identifier hs-type">skip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679459502"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1020"></span><span id="skip"><span class="annot"><span class="annottext">skip :: a -&gt; ()
</span><a href="Control.Lens.Indexed.html#skip"><span class="hs-identifier hs-var hs-var">skip</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1021"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#skip"><span class="hs-pragma hs-type">skip</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1022"></span><span>
</span><span id="line-1023"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1024"></span><span class="hs-comment">-- Indexed Folds with Reified Monoid</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1026"></span><span>
</span><span id="line-1027"></span><span id="local-6989586621679456543"><span id="local-6989586621679456544"><span id="local-6989586621679456545"><span id="local-6989586621679456546"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMapBy"><span class="hs-identifier hs-type">ifoldMapBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#FoldableWithIndex"><span class="hs-identifier hs-type">FoldableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456546"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456545"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456546"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456545"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456544"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-1028"></span><span id="ifoldMapBy"><span class="annot"><span class="annottext">ifoldMapBy :: (r -&gt; r -&gt; r) -&gt; r -&gt; (i -&gt; a -&gt; r) -&gt; t a -&gt; r
</span><a href="Control.Lens.Indexed.html#ifoldMapBy"><span class="hs-identifier hs-var hs-var">ifoldMapBy</span></a></span></span><span> </span><span id="local-6989586621679456542"><span class="annot"><span class="annottext">f :: r -&gt; r -&gt; r
</span><a href="#local-6989586621679456542"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679456541"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679456541"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679456540"><span class="annot"><span class="annottext">g :: i -&gt; a -&gt; r
</span><a href="#local-6989586621679456540"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r -&gt; r)
-&gt; r
-&gt; (forall s.
    Reifies s (ReifiedMonoid r) =&gt;
    t a -&gt; ReflectedMonoid r s)
-&gt; t a
-&gt; r
forall a t.
(a -&gt; a -&gt; a)
-&gt; a
-&gt; (forall s.
    Reifies s (ReifiedMonoid a) =&gt;
    t -&gt; ReflectedMonoid a s)
-&gt; t
-&gt; a
</span><span class="hs-identifier hs-var">reifyMonoid</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
</span><a href="#local-6989586621679456542"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679456541"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; ReflectedMonoid r s) -&gt; t a -&gt; ReflectedMonoid r s
forall i (f :: * -&gt; *) m a.
(FoldableWithIndex i f, Monoid m) =&gt;
(i -&gt; a -&gt; m) -&gt; f a -&gt; m
</span><a href="Control.Lens.Indexed.html#ifoldMap"><span class="hs-identifier hs-var">ifoldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456538"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679456538"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679456537"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456537"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; ReflectedMonoid r s
forall k a (s :: k). a -&gt; ReflectedMonoid a s
</span><span class="hs-identifier hs-var">ReflectedMonoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; r
</span><a href="#local-6989586621679456540"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456538"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456537"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>
</span><span id="line-1030"></span><span id="local-6989586621679456532"><span id="local-6989586621679456533"><span id="local-6989586621679456534"><span id="local-6989586621679456535"><span class="annot"><a href="Control.Lens.Indexed.html#ifoldMapByOf"><span class="hs-identifier hs-type">ifoldMapByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier hs-type">IndexedFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456535"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456534"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456533"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456535"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456533"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456534"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456532"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-1031"></span><span id="ifoldMapByOf"><span class="annot"><span class="annottext">ifoldMapByOf :: IndexedFold i t a -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (i -&gt; a -&gt; r) -&gt; t -&gt; r
</span><a href="Control.Lens.Indexed.html#ifoldMapByOf"><span class="hs-identifier hs-var hs-var">ifoldMapByOf</span></a></span></span><span> </span><span id="local-6989586621679456531"><span class="annot"><span class="annottext">l :: IndexedFold i t a
</span><a href="#local-6989586621679456531"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679456530"><span class="annot"><span class="annottext">f :: r -&gt; r -&gt; r
</span><a href="#local-6989586621679456530"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679456529"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679456529"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679456528"><span class="annot"><span class="annottext">g :: i -&gt; a -&gt; r
</span><a href="#local-6989586621679456528"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r -&gt; r)
-&gt; r
-&gt; (forall s.
    Reifies s (ReifiedMonoid r) =&gt;
    t -&gt; ReflectedMonoid r s)
-&gt; t
-&gt; r
forall a t.
(a -&gt; a -&gt; a)
-&gt; a
-&gt; (forall s.
    Reifies s (ReifiedMonoid a) =&gt;
    t -&gt; ReflectedMonoid a s)
-&gt; t
-&gt; a
</span><span class="hs-identifier hs-var">reifyMonoid</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
</span><a href="#local-6989586621679456530"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679456529"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IndexedGetting i (ReflectedMonoid r s) t a
-&gt; (i -&gt; a -&gt; ReflectedMonoid r s) -&gt; t -&gt; ReflectedMonoid r s
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (ReflectedMonoid r s) t a
IndexedFold i t a
</span><a href="#local-6989586621679456531"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456527"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679456527"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679456526"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456526"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; ReflectedMonoid r s
forall k a (s :: k). a -&gt; ReflectedMonoid a s
</span><span class="hs-identifier hs-var">ReflectedMonoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; r
</span><a href="#local-6989586621679456528"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456527"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456526"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1032"></span><span>
</span><span id="line-1033"></span><span id="local-6989586621679456521"><span id="local-6989586621679456522"><span id="local-6989586621679456523"><span id="local-6989586621679456524"><span id="local-6989586621679456525"><span class="annot"><a href="Control.Lens.Indexed.html#itraverseBy"><span class="hs-identifier hs-type">itraverseBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Indexed.html#TraversableWithIndex"><span class="hs-identifier hs-type">TraversableWithIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456525"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456524"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679458189"><span class="annot"><a href="#local-6989586621679458189"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679458189"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458189"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679458187"><span class="annot"><a href="#local-6989586621679458187"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679458186"><span class="annot"><a href="#local-6989586621679458186"><span class="hs-identifier hs-type">y</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458187"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458186"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458187"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458186"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456525"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456522"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456521"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456524"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456522"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456523"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456524"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456521"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1034"></span><span id="itraverseBy"><span class="annot"><span class="annottext">itraverseBy :: (forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (i -&gt; a -&gt; f b)
-&gt; t a
-&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverseBy"><span class="hs-identifier hs-var hs-var">itraverseBy</span></a></span></span><span> </span><span id="local-6989586621679456520"><span class="annot"><span class="annottext">pur :: forall x. x -&gt; f x
</span><a href="#local-6989586621679456520"><span class="hs-identifier hs-var">pur</span></a></span></span><span> </span><span id="local-6989586621679456519"><span class="annot"><span class="annottext">app :: forall x y. f (x -&gt; y) -&gt; f x -&gt; f y
</span><a href="#local-6989586621679456519"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span id="local-6989586621679456518"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456518"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (forall s.
    Reifies s (ReifiedApplicative f) =&gt;
    t a -&gt; ReflectedApplicative f s (t b))
-&gt; t a
-&gt; f (t b)
forall (f :: * -&gt; *) t a.
(forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (forall s.
    Reifies s (ReifiedApplicative f) =&gt;
    t -&gt; ReflectedApplicative f s a)
-&gt; t
-&gt; f a
</span><span class="hs-identifier hs-var">reifyApplicative</span></span><span> </span><span class="annot"><span class="annottext">forall x. x -&gt; f x
</span><a href="#local-6989586621679456520"><span class="hs-identifier hs-var">pur</span></a></span><span> </span><span class="annot"><span class="annottext">forall x y. f (x -&gt; y) -&gt; f x -&gt; f y
</span><a href="#local-6989586621679456519"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; ReflectedApplicative f s b)
-&gt; t a -&gt; ReflectedApplicative f s (t b)
forall i (t :: * -&gt; *) (f :: * -&gt; *) a b.
(TraversableWithIndex i t, Applicative f) =&gt;
(i -&gt; a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="Control.Lens.Indexed.html#itraverse"><span class="hs-identifier hs-var">itraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456516"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679456516"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679456515"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456515"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f b -&gt; ReflectedApplicative f s b
forall k k1 (f :: k -&gt; *) (s :: k1) (a :: k).
f a -&gt; ReflectedApplicative f s a
</span><span class="hs-identifier hs-var">ReflectedApplicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456518"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456516"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456515"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span id="local-6989586621679456508"><span id="local-6989586621679456509"><span id="local-6989586621679456510"><span id="local-6989586621679456511"><span id="local-6989586621679456512"><span id="local-6989586621679456513"><span class="annot"><a href="Control.Lens.Indexed.html#itraverseByOf"><span class="hs-identifier hs-type">itraverseByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal"><span class="hs-identifier hs-type">IndexedTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456513"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456511"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456510"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456509"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679458161"><span class="annot"><a href="#local-6989586621679458161"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679458161"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458161"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679458159"><span class="annot"><a href="#local-6989586621679458159"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679458158"><span class="annot"><a href="#local-6989586621679458158"><span class="hs-identifier hs-type">y</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679458159"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679458158"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458159"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679458158"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679456513"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456510"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456509"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679456508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679456511"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-1037"></span><span id="itraverseByOf"><span class="annot"><span class="annottext">itraverseByOf :: IndexedTraversal i s t a b
-&gt; (forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (i -&gt; a -&gt; f b)
-&gt; s
-&gt; f t
</span><a href="Control.Lens.Indexed.html#itraverseByOf"><span class="hs-identifier hs-var hs-var">itraverseByOf</span></a></span></span><span> </span><span id="local-6989586621679456507"><span class="annot"><span class="annottext">l :: IndexedTraversal i s t a b
</span><a href="#local-6989586621679456507"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679456506"><span class="annot"><span class="annottext">pur :: forall x. x -&gt; f x
</span><a href="#local-6989586621679456506"><span class="hs-identifier hs-var">pur</span></a></span></span><span> </span><span id="local-6989586621679456505"><span class="annot"><span class="annottext">app :: forall x y. f (x -&gt; y) -&gt; f x -&gt; f y
</span><a href="#local-6989586621679456505"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span id="local-6989586621679456504"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456504"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (forall s.
    Reifies s (ReifiedApplicative f) =&gt;
    s -&gt; ReflectedApplicative f s t)
-&gt; s
-&gt; f t
forall (f :: * -&gt; *) t a.
(forall x. x -&gt; f x)
-&gt; (forall x y. f (x -&gt; y) -&gt; f x -&gt; f y)
-&gt; (forall s.
    Reifies s (ReifiedApplicative f) =&gt;
    t -&gt; ReflectedApplicative f s a)
-&gt; t
-&gt; f a
</span><span class="hs-identifier hs-var">reifyApplicative</span></span><span> </span><span class="annot"><span class="annottext">forall x. x -&gt; f x
</span><a href="#local-6989586621679456506"><span class="hs-identifier hs-var">pur</span></a></span><span> </span><span class="annot"><span class="annottext">forall x y. f (x -&gt; y) -&gt; f x -&gt; f y
</span><a href="#local-6989586621679456505"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Indexed i a (ReflectedApplicative f s b)
 -&gt; s -&gt; ReflectedApplicative f s t)
-&gt; (i -&gt; a -&gt; ReflectedApplicative f s b)
-&gt; s
-&gt; ReflectedApplicative f s t
forall i a (f :: * -&gt; *) b s t.
(Indexed i a (f b) -&gt; s -&gt; f t) -&gt; (i -&gt; a -&gt; f b) -&gt; s -&gt; f t
</span><a href="Control.Lens.Traversal.html#itraverseOf"><span class="hs-identifier hs-var">itraverseOf</span></a></span><span> </span><span class="annot"><span class="annottext">Indexed i a (ReflectedApplicative f s b)
-&gt; s -&gt; ReflectedApplicative f s t
IndexedTraversal i s t a b
</span><a href="#local-6989586621679456507"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679456503"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679456503"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679456502"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679456502"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f b -&gt; ReflectedApplicative f s b
forall k k1 (f :: k -&gt; *) (s :: k1) (a :: k).
f a -&gt; ReflectedApplicative f s a
</span><span class="hs-identifier hs-var">ReflectedApplicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a -&gt; f b
</span><a href="#local-6989586621679456504"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679456503"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679456502"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span></pre></body></html>